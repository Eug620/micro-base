import{e,r as t,m as n,g as r,w as a,a as o,i as s,b as i,t as l,c,o as u,n as p,d,f as h,F as f,h as m,j as g,s as v,k as b,l as _,T as y,u as w,p as E,q as A,v as S,x as k,y as R,z as P,A as L,_ as N,B as O,C,D as M,E as I,G as D}from"./acro-design.6eda7891.js";import{L as T,a as x}from"./lowdb.b41c9ad3.js";import{l as W,a as F,c as U}from"./lodash.74753a6d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $=(e=>(e.DARK="dark",e.LIGHT="light",e))($||{}),j=(e=>(e.EN="en",e.ZH="zh",e.JA="ja",e))(j||{});
/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
let H;const B=e=>H=e,V=Symbol();function G(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var z,q;(q=z||(z={})).direct="direct",q.patchObject="patch object",q.patchFunction="patch function";const K=()=>{};function Y(e,t,n,a=K){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};return!n&&r()&&u(o),o}function Q(e,...t){e.slice().forEach((e=>{e(...t)}))}function X(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];G(a)&&G(r)&&e.hasOwnProperty(n)&&!s(r)&&!i(r)?e[n]=X(a,r):e[n]=r}return e}const J=Symbol();const{assign:Z}=Object;function ee(r,c,u={},d,h){let f;const m=u.state,g=Z({actions:{}},u),v={deep:!0};let b,_,y,w=n([]),E=n([]);const A=d.state.value[r];function S(e){let t;b=_=!1,"function"==typeof e?(e(d.state.value[r]),t={type:z.patchFunction,storeId:r,events:y}):(X(d.state.value[r],e),t={type:z.patchObject,payload:e,storeId:r,events:y}),p().then((()=>{b=!0})),_=!0,Q(w,t,d.state.value[r])}m||A||(d.state.value[r]={}),t({});const k=K;function R(e,t){return function(){B(d);const n=Array.from(arguments),a=[],o=[];function s(e){a.push(e)}function i(e){o.push(e)}let l;Q(E,{args:n,name:e,store:L,after:s,onError:i});try{l=t.apply(this&&this.$id===r?this:L,n)}catch(c){throw Q(o,c),c}return l instanceof Promise?l.then((e=>(Q(a,e),e))).catch((e=>(Q(o,e),Promise.reject(e)))):(Q(a,l),l)}}const P={_p:d,$id:r,$onAction:Y.bind(null,E),$patch:S,$reset:k,$subscribe(e,t={}){const n=Y(w,e,t.detached,(()=>o())),o=f.run((()=>a((()=>d.state.value[r]),(n=>{("sync"===t.flush?_:b)&&e({storeId:r,type:z.direct,events:y},n)}),Z({},v,t))));return n},$dispose:function(){f.stop(),w=[],E=[],d._s.delete(r)}},L=o(Z({},P));d._s.set(r,L);const N=d._e.run((()=>(f=e(),f.run((()=>c())))));for(const e in N){const t=N[e];if(s(t)&&(!s(C=t)||!C.effect)||i(t))m||(!A||G(O=t)&&O.hasOwnProperty(J)||(s(t)?t.value=A[e]:X(t,A[e])),d.state.value[r][e]=t);else if("function"==typeof t){const n=R(e,t);N[e]=n,g.actions[e]=t}}var O,C;return Z(L,N),Z(l(L),N),Object.defineProperty(L,"$state",{get:()=>d.state.value[r],set:e=>{S((t=>{Z(t,e)}))}}),d._p.forEach((e=>{Z(L,f.run((()=>e({store:L,app:d._a,pinia:d,options:g}))))})),A&&m&&u.hydrate&&u.hydrate(L.$state,A),b=!0,_=!0,L}function te(e,t,a){let o,s;const i="function"==typeof t;function l(e,a){const l=r();(e=e||l&&c(V))&&B(e),(e=H)._s.has(o)||(i?ee(o,t,s,e):function(e,t,r,a){const{state:o,actions:s,getters:i}=t,l=r.state.value[e];let c;c=ee(e,(function(){l||(r.state.value[e]=o?o():{});const t=d(r.state.value[e]);return Z(t,s,Object.keys(i||{}).reduce(((t,a)=>(t[a]=n(h((()=>{B(r);const t=r._s.get(e);return i[a].call(t,t)}))),t)),{}))}),t,r),c.$reset=function(){const e=o?o():{};this.$patch((t=>{Z(t,e)}))}}(o,s,e));return e._s.get(o)}return"string"==typeof e?(o=e,s=i?a:t):(s=e,o=e.id),l.$id=o,l}
/*!
  * shared v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ne="undefined"!=typeof window,re="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ae=e=>re?Symbol(e):e,oe=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),se=e=>"number"==typeof e&&isFinite(e),ie=e=>"[object RegExp]"===Ee(e),le=e=>Ae(e)&&0===Object.keys(e).length;function ce(e,t){}const ue=Object.assign;let pe;const de=()=>pe||(pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function he(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const fe=Object.prototype.hasOwnProperty;function me(e,t){return fe.call(e,t)}const ge=Array.isArray,ve=e=>"function"==typeof e,be=e=>"string"==typeof e,_e=e=>"boolean"==typeof e,ye=e=>null!==e&&"object"==typeof e,we=Object.prototype.toString,Ee=e=>we.call(e),Ae=e=>"[object Object]"===Ee(e),Se=1,ke=2,Re=3,Pe=4,Le=5,Ne=6,Oe=7,Ce=8,Me=9,Ie=10,De=11,Te=12,xe=13,We=14,Fe=15;function Ue(e,t,n={}){const{domain:r,messages:a,args:o}=n,s=new SyntaxError(String(e));return s.code=e,t&&(s.location=t),s.domain=r,s}function $e(e){throw e}function je(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const He=String.fromCharCode(8232),Be=String.fromCharCode(8233);function Ve(e){const t=e;let n=0,r=1,a=1,o=0;const s=e=>"\r"===t[e]&&"\n"===t[e+1],i=e=>t[e]===Be,l=e=>t[e]===He,c=e=>s(e)||(e=>"\n"===t[e])(e)||i(e)||l(e),u=e=>s(e)||i(e)||l(e)?"\n":t[e];function p(){return o=0,c(n)&&(r++,a=0),s(n)&&n++,n++,a++,t[n]}return{index:()=>n,line:()=>r,column:()=>a,peekOffset:()=>o,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+o),next:p,peek:function(){return s(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,a=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)p();o=0}}}const Ge=void 0;function ze(e,t={}){const n=!1!==t.location,r=Ve(e),a=()=>r.index(),o=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},s=o(),i=a(),l={currentType:14,offset:i,startLoc:s,endLoc:s,lastType:14,lastOffset:i,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function p(e,t,n,...r){const a=c();if(t.column+=n,t.offset+=n,u){const n=Ue(e,je(a.startLoc,t),{domain:"tokenizer",args:r});u(n)}}function d(e,t,r){e.endLoc=o(),e.currentType=t;const a={type:t};return n&&(a.loc=je(e.startLoc,e.endLoc)),null!=r&&(a.value=r),a}const h=e=>d(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(p(Se,o(),0,t),"")}function m(e){let t="";for(;" "===e.currentPeek()||"\n"===e.currentPeek();)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===Ge)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=function(e){if(e===Ge)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function _(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function y(e,t=!0){const n=(t=!1,r="",a=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!a)||!(" "===r||"\n"===r):" "===o?(e.peek(),n(!0," ",a)):"\n"!==o||(e.peek(),n(!0,"\n",a)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function w(e,t){const n=e.currentChar();return n===Ge?Ge:t(n)?(e.next(),n):null}function E(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function A(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}))}function S(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function k(e){let t="",n="";for(;t=A(e);)n+=t;return n}function R(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return P(e,t,4);case"U":return P(e,t,6);default:return p(Pe,o(),0,t),""}}function P(e,t,n){f(e,t);let r="";for(let a=0;a<n;a++){const n=S(e);if(!n){p(Le,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function L(e){g(e);const t=f(e,"|");return g(e),t}function N(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&p(Me,o(),0),e.next(),n=d(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&p(Ce,o(),0),e.next(),n=d(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&p(Oe,o(),0),n=O(e,t)||h(t),t.braceNest=0,n;default:let r=!0,a=!0,s=!0;if(_(e))return t.braceNest>0&&p(Oe,o(),0),n=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return p(Oe,o(),0),t.braceNest=0,C(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t))return n=d(t,5,function(e){g(e);let t="",n="";for(;t=E(e);)n+=t;return e.currentChar()===Ge&&p(Oe,o(),0),n}(e)),g(e),n;if(a=b(e,t))return n=d(t,6,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${k(e)}`):t+=k(e),e.currentChar()===Ge&&p(Oe,o(),0),t}(e)),g(e),n;if(s=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=d(t,7,function(e){g(e),f(e,"'");let t="",n="";const r=e=>"'"!==e&&"\n"!==e;for(;t=w(e,r);)n+="\\"===t?R(e):t;const a=e.currentChar();return"\n"===a||a===Ge?(p(Re,o(),0),"\n"===a&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),g(e),n;if(!r&&!a&&!s)return n=d(t,13,function(e){g(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&" "!==e&&"\n"!==e;for(;t=w(e,r);)n+=t;return n}(e)),p(ke,o(),0,n.value),g(e),n}return n}function O(e,t){const{currentType:n}=t;let r=null;const a=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||"\n"!==a&&" "!==a||p(Ie,o(),0),a){case"@":return e.next(),r=d(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),d(t,9,".");case":":return g(e),e.next(),d(t,10,":");default:return _(e)?(r=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),O(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),d(t,12,function(e){let t="",n="";for(;t=E(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||" "===t||!t)&&("\n"===t?(e.peek(),r()):v(t))},a=r();return e.resetPeek(),a}(e,t)?(g(e),"{"===a?N(e,t)||r:d(t,11,function(e){const t=(n=!1,r)=>{const a=e.currentChar();return"{"!==a&&"%"!==a&&"@"!==a&&"|"!==a&&a?" "===a?r:"\n"===a?(r+=a,e.next(),t(n,r)):(r+=a,e.next(),t(!0,r)):r};return t(!1,"")}(e))):(8===n&&p(Ie,o(),0),t.braceNest=0,t.inLinked=!1,C(e,t))}}function C(e,t){let n={type:14};if(t.braceNest>0)return N(e,t)||h(t);if(t.inLinked)return O(e,t)||h(t);const r=e.currentChar();switch(r){case"{":return N(e,t)||h(t);case"}":return p(Ne,o(),0),e.next(),d(t,3,"}");case"@":return O(e,t)||h(t);default:if(_(e))return n=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(y(e))return d(t,0,function(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!y(e))break;t+=n,e.next()}else if(" "===n||"\n"===n)if(y(e))t+=n,e.next();else{if(_(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e));if("%"===r)return e.next(),d(t,4,"%")}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=a(),l.startLoc=o(),r.currentChar()===Ge?d(l,14):C(r,l)},currentOffset:a,currentPosition:o,context:c}}const qe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ke(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function Ye(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,a,...o){const s=e.currentPosition();if(s.offset+=a,s.column+=a,n){const e=Ue(t,je(r,s),{domain:"parser",args:o});n(e)}}function a(e,n,r){const a={type:e,start:n,end:n};return t&&(a.loc={start:r,end:r}),a}function o(e,n,r,a){e.end=n,a&&(e.type=a),t&&e.loc&&(e.loc.end=r)}function s(e,t){const n=e.context(),r=a(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function i(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(5,r,s);return i.index=parseInt(t,10),e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(4,r,s);return i.key=t,e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(9,r,s);return i.value=t.replace(qe,Ke),e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function u(e){const t=e.context(),n=a(6,t.offset,t.startLoc);let s=e.nextToken();if(9===s.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:s,lastStartLoc:i}=n,l=a(8,s,i);return 12!==t.type?(r(e,Te,n.lastStartLoc,0),l.value="",o(l,s,i),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,We,n.lastStartLoc,0,Qe(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(10!==s.type&&r(e,We,t.lastStartLoc,0,Qe(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 11:null==s.value&&r(e,We,t.lastStartLoc,0,Qe(s)),n.key=function(e,t){const n=e.context(),r=a(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,s.value||"");break;case 5:null==s.value&&r(e,We,t.lastStartLoc,0,Qe(s)),n.key=l(e,s.value||"");break;case 6:null==s.value&&r(e,We,t.lastStartLoc,0,Qe(s)),n.key=i(e,s.value||"");break;case 7:null==s.value&&r(e,We,t.lastStartLoc,0,Qe(s)),n.key=c(e,s.value||"");break;default:r(e,xe,t.lastStartLoc,0);const u=e.context(),p=a(7,u.offset,u.startLoc);return p.value="",o(p,u.offset,u.startLoc),n.key=p,o(n,u.offset,u.startLoc),{nextConsumeToken:s,node:n}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function p(e){const t=e.context(),n=a(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let p=null;do{const a=p||e.nextToken();switch(p=null,a.type){case 0:null==a.value&&r(e,We,t.lastStartLoc,0,Qe(a)),n.items.push(s(e,a.value||""));break;case 6:null==a.value&&r(e,We,t.lastStartLoc,0,Qe(a)),n.items.push(i(e,a.value||""));break;case 5:null==a.value&&r(e,We,t.lastStartLoc,0,Qe(a)),n.items.push(l(e,a.value||""));break;case 7:null==a.value&&r(e,We,t.lastStartLoc,0,Qe(a)),n.items.push(c(e,a.value||""));break;case 8:const o=u(e);n.items.push(o.node),p=o.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function d(e){const t=e.context(),{offset:n,startLoc:s}=t,i=p(e);return 14===t.currentType?i:function(e,t,n,s){const i=e.context();let l=0===s.items.length;const c=a(1,t,n);c.cases=[],c.cases.push(s);do{const t=p(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==i.currentType);return l&&r(e,De,n,0),o(c,e.currentOffset(),e.currentPosition()),c}(e,n,s,i)}return{parse:function(n){const s=ze(n,ue({},e)),i=s.context(),l=a(0,i.offset,i.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=d(s),14!==i.currentType&&r(s,We,i.lastStartLoc,0,n[i.offset]||""),o(l,s.currentOffset(),s.currentPosition()),l}}}function Qe(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Xe(e,t){for(let n=0;n<e.length;n++)Je(e[n],t)}function Je(e,t){switch(e.type){case 1:Xe(e.cases,t),t.helper("plural");break;case 2:Xe(e.items,t);break;case 6:Je(e.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function Ze(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&Je(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function et(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?et(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let n=0;n<a&&(et(e,t.cases[n]),n!==a-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let o=0;o<a&&(et(e,t.items[o]),o!==a-1);o++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),et(e,t.key),t.modifier&&(e.push(", "),et(e,t.modifier)),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function tt(e,t={}){const n=ue({},t),r=Ye(n).parse(e);return Ze(r,n),((e,t={})=>{const n=be(t.mode)?t.mode:"normal",r=be(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,i=e.helpers||[],l=function(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:o}=t,s={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:o,indentLevel:0};function i(e,t){s.code+=e}function l(e,t=!0){const n=t?a:"";i(o?n+"  ".repeat(e):n)}return{context:()=>s,push:i,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{mode:n,filename:r,sourceMap:a,breakLineCode:o,needIndent:s});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),i.length>0&&(l.push(`const { ${i.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),et(l,e),l.deindent(s),l.push("}");const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}})(r,n)}
/*!
  * devtools-if v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const nt="i18n:init",rt="function:translate",at=[];
/*!
  * core-base v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */at[0]={w:[0],i:[3,0],"[":[4],o:[7]},at[1]={w:[1],".":[2],"[":[4],o:[7]},at[2]={w:[2],i:[3,0],0:[3,0]},at[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},at[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},at[5]={"'":[4,0],o:8,l:[5,0]},at[6]={'"':[4,0],o:8,l:[6,0]};const ot=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function st(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function it(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,ot.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const lt=new Map;function ct(e,t){return ye(e)?e[t]:null}const ut=e=>e,pt=e=>"",dt=e=>0===e.length?"":e.join(""),ht=e=>null==e?"":ge(e)||Ae(e)&&e.toString===we?JSON.stringify(e,null,2):String(e);function ft(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function mt(e={}){const t=e.locale,n=function(e){const t=se(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(se(e.named.count)||se(e.named.n))?se(e.named.count)?e.named.count:se(e.named.n)?e.named.n:t:t}(e),r=ye(e.pluralRules)&&be(t)&&ve(e.pluralRules[t])?e.pluralRules[t]:ft,a=ye(e.pluralRules)&&be(t)&&ve(e.pluralRules[t])?ft:void 0,o=e.list||[],s=e.named||{};se(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,s);function i(t){const n=ve(e.messages)?e.messages(t):!!ye(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):pt)}const l=Ae(e.processor)&&ve(e.processor.normalize)?e.processor.normalize:dt,c=Ae(e.processor)&&ve(e.processor.interpolate)?e.processor.interpolate:ht,u={list:e=>o[e],named:e=>s[e],plural:e=>e[r(n,e.length,a)],linked:(t,n)=>{const r=i(t)(u);return be(n)?(a=n,e.modifiers?e.modifiers[a]:ut)(r):r;var a},message:i,type:Ae(e.processor)&&be(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:l};return u}let gt=null;const vt=bt(rt);function bt(e){return t=>gt&&gt.emit(e,t)}function _t(e,t,n){return[...new Set([n,...ge(t)?t:ye(t)?Object.keys(t):be(t)?[t]:[n]])]}function yt(e,t,n){const r=be(n)?n:St,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let o=a.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;ge(e);)e=wt(o,e,t);const s=ge(t)||!Ae(t)?t:t.default?t.default:null;e=be(s)?[s]:s,ge(e)&&wt(o,e,!1),a.__localeChainCache.set(r,o)}return o}function wt(e,t,n){let r=!0;for(let a=0;a<t.length&&_e(r);a++){const o=t[a];be(o)&&(r=Et(e,t[a],n))}return r}function Et(e,t,n){let r;const a=t.split("-");do{r=At(e,a.join("-"),n),a.splice(-1,1)}while(a.length&&!0===r);return r}function At(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const a=t.replace(/!/g,"");e.push(a),(ge(n)||Ae(n))&&n[a]&&(r=n[a])}return r}const St="en-US";let kt,Rt,Pt;let Lt=null;const Nt=e=>{Lt=e};let Ot=null;const Ct=e=>{Ot=e};let Mt=0;function It(e={}){const t=be(e.version)?e.version:"9.2.0-beta.35",n=be(e.locale)?e.locale:St,r=ge(e.fallbackLocale)||Ae(e.fallbackLocale)||be(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,a=Ae(e.messages)?e.messages:{[n]:{}},o=Ae(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},s=Ae(e.numberFormats)?e.numberFormats:{[n]:{}},i=ue({},e.modifiers||{},{upper:e=>be(e)?e.toUpperCase():e,lower:e=>be(e)?e.toLowerCase():e,capitalize:e=>be(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}),l=e.pluralRules||{},c=ve(e.missing)?e.missing:null,u=!_e(e.missingWarn)&&!ie(e.missingWarn)||e.missingWarn,p=!_e(e.fallbackWarn)&&!ie(e.fallbackWarn)||e.fallbackWarn,d=!!e.fallbackFormat,h=!!e.unresolving,f=ve(e.postTranslation)?e.postTranslation:null,m=Ae(e.processor)?e.processor:null,g=!_e(e.warnHtmlMessage)||e.warnHtmlMessage,v=!!e.escapeParameter,b=ve(e.messageCompiler)?e.messageCompiler:kt,_=ve(e.messageResolver)?e.messageResolver:Rt||ct,y=ve(e.localeFallbacker)?e.localeFallbacker:Pt||_t,w=ye(e.fallbackContext)?e.fallbackContext:void 0,E=ve(e.onWarn)?e.onWarn:ce,A=e,S=ye(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,k=ye(A.__numberFormatters)?A.__numberFormatters:new Map,R=ye(A.__meta)?A.__meta:{};Mt++;const P={version:t,cid:Mt,locale:n,fallbackLocale:r,messages:a,modifiers:i,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:p,fallbackFormat:d,unresolving:h,postTranslation:f,processor:m,warnHtmlMessage:g,escapeParameter:v,messageCompiler:b,messageResolver:_,localeFallbacker:y,fallbackContext:w,onWarn:E,__meta:R};return P.datetimeFormats=o,P.numberFormats=s,P.__datetimeFormatters=S,P.__numberFormatters=k,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){gt&&gt.emit(nt,{timestamp:Date.now(),i18n:e,version:t,meta:n})}(P,t,R),P}function Dt(e,t,n,r,a){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,a);return be(r)?r:t}return t}function Tt(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const xt=e=>e;let Wt=Object.create(null);let Ft=Fe;const Ut=()=>++Ft,$t={INVALID_ARGUMENT:Ft,INVALID_DATE_ARGUMENT:Ut(),INVALID_ISO_DATE_ARGUMENT:Ut(),__EXTEND_POINT__:Ut()};function jt(e){return Ue(e,null,void 0)}const Ht=()=>"",Bt=e=>ve(e);function Vt(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:o,fallbackLocale:s,messages:i}=e,[l,c]=qt(...t),u=_e(c.missingWarn)?c.missingWarn:e.missingWarn,p=_e(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,d=_e(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,f=be(c.default)||_e(c.default)?_e(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:"",m=n||""!==f,g=be(c.locale)?c.locale:e.locale;d&&function(e){ge(e.list)?e.list=e.list.map((e=>be(e)?he(e):e)):ye(e.named)&&Object.keys(e.named).forEach((t=>{be(e.named[t])&&(e.named[t]=he(e.named[t]))}))}(c);let[v,b,_]=h?[l,g,i[g]||{}]:Gt(e,l,g,s,p,u),y=v,w=l;if(h||be(y)||Bt(y)||m&&(y=f,w=y),!(h||(be(y)||Bt(y))&&be(b)))return a?-1:l;let E=!1;const A=Bt(y)?y:zt(e,l,b,y,w,(()=>{E=!0}));if(E)return y;const S=function(e,t,n,r){const{modifiers:a,pluralRules:o,messageResolver:s,fallbackLocale:i,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,p=r=>{let a=s(n,r);if(null==a&&u){const[,,e]=Gt(u,r,t,i,l,c);a=s(e,r)}if(be(a)){let n=!1;const o=zt(e,r,t,a,r,(()=>{n=!0}));return n?Ht:o}return Bt(a)?a:Ht},d={locale:t,modifiers:a,pluralRules:o,messages:p};e.processor&&(d.processor=e.processor);r.list&&(d.list=r.list);r.named&&(d.named=r.named);se(r.plural)&&(d.pluralIndex=r.plural);return d}(e,b,_,c),k=function(e,t,n){return t(n)}(0,A,mt(S)),R=r?r(k):k;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:be(l)?l:Bt(y)?y.key:"",locale:b||(Bt(y)?y.locale:""),format:be(y)?y:Bt(y)?y.source:"",message:R};t.meta=ue({},e.__meta,Lt||{}),vt(t)}return R}function Gt(e,t,n,r,a,o){const{messages:s,onWarn:i,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let p,d={},h=null;for(let f=0;f<u.length&&(p=u[f],d=s[p]||{},null===(h=l(d,t))&&(h=d[t]),!be(h)&&!ve(h));f++){const n=Dt(e,t,p,0,"translate");n!==t&&(h=n)}return[h,p,d]}function zt(e,t,n,r,a,o){const{messageCompiler:s,warnHtmlMessage:i}=e;if(Bt(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>r;return e.locale=n,e.key=t,e}const l=s(r,function(e,t,n,r,a,o){return{warnHtmlMessage:a,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>oe({l:e,k:t,s:n}))(t,n,e)}}(0,n,a,0,i,o));return l.locale=n,l.key=t,l.source=r,l}function qt(...e){const[t,n,r]=e,a={};if(!be(t)&&!se(t)&&!Bt(t))throw jt($t.INVALID_ARGUMENT);const o=se(t)?String(t):(Bt(t),t);return se(n)?a.plural=n:be(n)?a.default=n:Ae(n)&&!le(n)?a.named=n:ge(n)&&(a.list=n),se(r)?a.plural=r:be(r)?a.default=r:Ae(r)&&ue(a,r),[o,a]}function Kt(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:i}=e,[l,c,u,p]=Yt(...t);_e(u.missingWarn)?u.missingWarn:e.missingWarn;_e(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,h=be(u.locale)?u.locale:e.locale,f=s(e,a,h);if(!be(l)||""===l)return new Intl.DateTimeFormat(h).format(c);let m,g={},v=null;for(let y=0;y<f.length&&(m=f[y],g=n[m]||{},v=g[l],!Ae(v));y++)Dt(e,l,m,0,"datetime format");if(!Ae(v)||!be(m))return r?-1:l;let b=`${m}__${l}`;le(p)||(b=`${b}__${JSON.stringify(p)}`);let _=i.get(b);return _||(_=new Intl.DateTimeFormat(m,ue({},v,p)),i.set(b,_)),d?_.formatToParts(c):_.format(c)}function Yt(...e){const[t,n,r,a]=e;let o,s={},i={};if(be(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw jt($t.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();o=new Date(n);try{o.toISOString()}catch(l){throw jt($t.INVALID_ISO_DATE_ARGUMENT)}}else if("[object Date]"===Ee(t)){if(isNaN(t.getTime()))throw jt($t.INVALID_DATE_ARGUMENT);o=t}else{if(!se(t))throw jt($t.INVALID_ARGUMENT);o=t}return be(n)?s.key=n:Ae(n)&&(s=n),be(r)?s.locale=r:Ae(r)&&(i=r),Ae(a)&&(i=a),[s.key||"",o,s,i]}function Qt(e,t,n){const r=e;for(const a in n){const e=`${t}__${a}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function Xt(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:i}=e,[l,c,u,p]=Jt(...t);_e(u.missingWarn)?u.missingWarn:e.missingWarn;_e(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,h=be(u.locale)?u.locale:e.locale,f=s(e,a,h);if(!be(l)||""===l)return new Intl.NumberFormat(h).format(c);let m,g={},v=null;for(let y=0;y<f.length&&(m=f[y],g=n[m]||{},v=g[l],!Ae(v));y++)Dt(e,l,m,0,"number format");if(!Ae(v)||!be(m))return r?-1:l;let b=`${m}__${l}`;le(p)||(b=`${b}__${JSON.stringify(p)}`);let _=i.get(b);return _||(_=new Intl.NumberFormat(m,ue({},v,p)),i.set(b,_)),d?_.formatToParts(c):_.format(c)}function Jt(...e){const[t,n,r,a]=e;let o={},s={};if(!se(t))throw jt($t.INVALID_ARGUMENT);const i=t;return be(n)?o.key=n:Ae(n)&&(o=n),be(r)?o.locale=r:Ae(r)&&(s=r),Ae(a)&&(s=a),[o.key||"",i,o,s]}function Zt(e,t,n){const r=e;for(const a in n){const e=`${t}__${a}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(de().__INTLIFY_PROD_DEVTOOLS__=!1);let en=Fe;const tn=()=>++en,nn={UNEXPECTED_RETURN_TYPE:en,INVALID_ARGUMENT:tn(),MUST_BE_CALL_SETUP_TOP:tn(),NOT_INSLALLED:tn(),NOT_AVAILABLE_IN_LEGACY_MODE:tn(),REQUIRED_VALUE:tn(),INVALID_VALUE:tn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:tn(),NOT_INSLALLED_WITH_PROVIDE:tn(),UNEXPECTED_ERROR:tn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:tn(),BRIDGE_SUPPORT_VUE_2_ONLY:tn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:tn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:tn(),__EXTEND_POINT__:tn()};function rn(e,...t){return Ue(e,null,void 0)}const an=ae("__transrateVNode"),on=ae("__datetimeParts"),sn=ae("__numberParts"),ln=ae("__setPluralRules");ae("__intlifyMeta");const cn=ae("__injectWithOption");function un(e){if(!ye(e))return e;for(const t in e)if(me(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let a=e;for(let e=0;e<r;e++)n[e]in a||(a[n[e]]={}),a=a[n[e]];a[n[r]]=e[t],delete e[t],ye(a[n[r]])&&un(a[n[r]])}else ye(e[t])&&un(e[t]);return e}function pn(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:o}=t,s=Ae(n)?n:ge(r)?{}:{[e]:{}};if(ge(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||{},hn(n,s[t])):hn(n,s)}else be(e)&&hn(JSON.parse(e),s)})),null==a&&o)for(const i in s)me(s,i)&&un(s[i]);return s}const dn=e=>!ye(e)||ge(e);function hn(e,t){if(dn(e)||dn(t))throw rn(nn.INVALID_VALUE);for(const n in e)me(e,n)&&(dn(e[n])||dn(t[n])?t[n]=e[n]:hn(e[n],t[n]))}function fn(e){return e.type}function mn(e,t,n){let r=ye(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=pn(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);if(a.length&&a.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),ye(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(ye(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function gn(e){return _(y,null,e,0)}let vn=0;function bn(e){return(t,n,a,o)=>e(n,a,r()||void 0,o)}function _n(e={},n){const{__root:o}=e,s=void 0===o;let i=!_e(e.inheritLocale)||e.inheritLocale;const l=t(o&&i?o.locale.value:be(e.locale)?e.locale:St),c=t(o&&i?o.fallbackLocale.value:be(e.fallbackLocale)||ge(e.fallbackLocale)||Ae(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:l.value),u=t(pn(l.value,e)),p=t(Ae(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),d=t(Ae(e.numberFormats)?e.numberFormats:{[l.value]:{}});let f=o?o.missingWarn:!_e(e.missingWarn)&&!ie(e.missingWarn)||e.missingWarn,m=o?o.fallbackWarn:!_e(e.fallbackWarn)&&!ie(e.fallbackWarn)||e.fallbackWarn,g=o?o.fallbackRoot:!_e(e.fallbackRoot)||e.fallbackRoot,v=!!e.fallbackFormat,b=ve(e.missing)?e.missing:null,_=ve(e.missing)?bn(e.missing):null,y=ve(e.postTranslation)?e.postTranslation:null,w=o?o.warnHtmlMessage:!_e(e.warnHtmlMessage)||e.warnHtmlMessage,E=!!e.escapeParameter;const A=o?o.modifiers:Ae(e.modifiers)?e.modifiers:{};let S,k=e.pluralRules||o&&o.pluralRules;S=function(){s&&Ct(null);const t={version:"9.2.0-beta.35",locale:l.value,fallbackLocale:c.value,messages:u.value,modifiers:A,pluralRules:k,missing:null===_?void 0:_,missingWarn:f,fallbackWarn:m,fallbackFormat:v,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:w,escapeParameter:E,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=p.value,t.numberFormats=d.value,t.__datetimeFormatters=Ae(S)?S.__datetimeFormatters:void 0,t.__numberFormatters=Ae(S)?S.__numberFormatters:void 0;const n=It(t);return s&&Ct(n),n}(),Tt(S,l.value,c.value);const R=h({get:()=>l.value,set:e=>{l.value=e,S.locale=l.value}}),P=h({get:()=>c.value,set:e=>{c.value=e,S.fallbackLocale=c.value,Tt(S,l.value,e)}}),L=h((()=>u.value)),N=h((()=>p.value)),O=h((()=>d.value));function C(e,t,n,a,i,h){let f;if(l.value,c.value,u.value,p.value,d.value,__INTLIFY_PROD_DEVTOOLS__)try{Nt((()=>{const e=r();let t=null;return e&&(t=fn(e).__INTLIFY_META__)?{__INTLIFY_META__:t}:null})()),s||(S.fallbackContext=o?Ot:void 0),f=e(S)}finally{Nt(null),s||(S.fallbackContext=void 0)}else f=e(S);if(se(f)&&-1===f){const[e,n]=t();return o&&g?a(o):i(e)}if(h(f))return f;throw rn(nn.UNEXPECTED_RETURN_TYPE)}function M(...e){return C((t=>Reflect.apply(Vt,null,[t,...e])),(()=>qt(...e)),0,(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>be(e)))}const I={normalize:function(e){return e.map((e=>be(e)?gn(e):e))},interpolate:e=>e,type:"vnode"};function D(e){return u.value[e]||{}}vn++,o&&ne&&(a(o.locale,(e=>{i&&(l.value=e,S.locale=e,Tt(S,l.value,c.value))})),a(o.fallbackLocale,(e=>{i&&(c.value=e,S.fallbackLocale=e,Tt(S,l.value,c.value))})));const T={id:vn,locale:R,fallbackLocale:P,get inheritLocale(){return i},set inheritLocale(e){i=e,e&&o&&(l.value=o.locale.value,c.value=o.fallbackLocale.value,Tt(S,l.value,c.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:L,get modifiers(){return A},get pluralRules(){return k||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(e){f=e,S.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(e){m=e,S.fallbackWarn=m},get fallbackRoot(){return g},set fallbackRoot(e){g=e},get fallbackFormat(){return v},set fallbackFormat(e){v=e,S.fallbackFormat=v},get warnHtmlMessage(){return w},set warnHtmlMessage(e){w=e,S.warnHtmlMessage=e},get escapeParameter(){return E},set escapeParameter(e){E=e,S.escapeParameter=e},t:M,getLocaleMessage:D,setLocaleMessage:function(e,t){u.value[e]=t,S.messages=u.value},mergeLocaleMessage:function(e,t){u.value[e]=u.value[e]||{},hn(t,u.value[e]),S.messages=u.value},getPostTranslationHandler:function(){return ve(y)?y:null},setPostTranslationHandler:function(e){y=e,S.postTranslation=e},getMissingHandler:function(){return b},setMissingHandler:function(e){null!==e&&(_=bn(e)),b=e,S.missing=_},[ln]:function(e){k=e,S.pluralRules=k}};return T.datetimeFormats=N,T.numberFormats=O,T.rt=function(...e){const[t,n,r]=e;if(r&&!ye(r))throw rn(nn.INVALID_ARGUMENT);return M(t,n,ue({resolvedMessage:!0},r||{}))},T.te=function(e,t){const n=D(be(t)?t:l.value);return null!==S.messageResolver(n,e)},T.tm=function(e){const t=function(e){let t=null;const n=yt(S,c.value,l.value);for(let r=0;r<n.length;r++){const a=u.value[n[r]]||{},o=S.messageResolver(a,e);if(null!=o){t=o;break}}return t}(e);return null!=t?t:o&&o.tm(e)||{}},T.d=function(...e){return C((t=>Reflect.apply(Kt,null,[t,...e])),(()=>Yt(...e)),0,(t=>Reflect.apply(t.d,t,[...e])),(()=>""),(e=>be(e)))},T.n=function(...e){return C((t=>Reflect.apply(Xt,null,[t,...e])),(()=>Jt(...e)),0,(t=>Reflect.apply(t.n,t,[...e])),(()=>""),(e=>be(e)))},T.getDateTimeFormat=function(e){return p.value[e]||{}},T.setDateTimeFormat=function(e,t){p.value[e]=t,S.datetimeFormats=p.value,Qt(S,e,t)},T.mergeDateTimeFormat=function(e,t){p.value[e]=ue(p.value[e]||{},t),S.datetimeFormats=p.value,Qt(S,e,t)},T.getNumberFormat=function(e){return d.value[e]||{}},T.setNumberFormat=function(e,t){d.value[e]=t,S.numberFormats=d.value,Zt(S,e,t)},T.mergeNumberFormat=function(e,t){d.value[e]=ue(d.value[e]||{},t),S.numberFormats=d.value,Zt(S,e,t)},T[cn]=e.__injectWithOption,T[an]=function(...e){return C((t=>{let n;const r=t;try{r.processor=I,n=Reflect.apply(Vt,null,[r,...e])}finally{r.processor=null}return n}),(()=>qt(...e)),0,(t=>t[an](...e)),(e=>[gn(e)]),(e=>ge(e)))},T[on]=function(...e){return C((t=>Reflect.apply(Kt,null,[t,...e])),(()=>Yt(...e)),0,(t=>t[on](...e)),(()=>[]),(e=>be(e)||ge(e)))},T[sn]=function(...e){return C((t=>Reflect.apply(Xt,null,[t,...e])),(()=>Jt(...e)),0,(t=>t[sn](...e)),(()=>[]),(e=>be(e)||ge(e)))},T}function yn(e={},t){{const t=_n(function(e){const t=be(e.locale)?e.locale:St,n=be(e.fallbackLocale)||ge(e.fallbackLocale)||Ae(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=ve(e.missing)?e.missing:void 0,a=!_e(e.silentTranslationWarn)&&!ie(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!_e(e.silentFallbackWarn)&&!ie(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!_e(e.fallbackRoot)||e.fallbackRoot,i=!!e.formatFallbackMessages,l=Ae(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=ve(e.postTranslation)?e.postTranslation:void 0,p=!be(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,d=!!e.escapeParameterHtml,h=!_e(e.sync)||e.sync;let f=e.messages;if(Ae(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return ue(r,t[n]),e}),f||{})}const{__i18n:m,__root:g,__injectWithOption:v}=e,b=e.datetimeFormats,_=e.numberFormats;return{locale:t,fallbackLocale:n,messages:f,flatJson:e.flatJson,datetimeFormats:b,numberFormats:_,missing:r,missingWarn:a,fallbackWarn:o,fallbackRoot:s,fallbackFormat:i,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:p,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:h,__i18n:m,__root:g,__injectWithOption:v}}(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return _e(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=_e(e)?!e:e},get silentFallbackWarn(){return _e(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=_e(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,a]=e,o={};let s=null,i=null;if(!be(n))throw rn(nn.INVALID_ARGUMENT);const l=n;return be(r)?o.locale=r:ge(r)?s=r:Ae(r)&&(i=r),ge(a)?s=a:Ae(a)&&(i=a),Reflect.apply(t.t,t,[l,s||i||{},o])},rt:(...e)=>Reflect.apply(t.rt,t,[...e]),tc(...e){const[n,r,a]=e,o={plural:1};let s=null,i=null;if(!be(n))throw rn(nn.INVALID_ARGUMENT);const l=n;return be(r)?o.locale=r:se(r)?o.plural=r:ge(r)?s=r:Ae(r)&&(i=r),be(a)?o.locale=a:ge(a)?s=a:Ae(a)&&(i=a),Reflect.apply(t.t,t,[l,s||i||{},o])},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1,__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const wn={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function En(e){return f}const An={name:"i18n-t",props:ue({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>se(e)||!isNaN(e)}},wn),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||In({useScope:e.scope,__useComponent:!0}),o=Object.keys(n).filter((e=>"_"!==e));return()=>{const n={};e.locale&&(n.locale=e.locale),void 0!==e.plural&&(n.plural=be(e.plural)?+e.plural:e.plural);const s=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce(((e,t)=>[...e,...ge(t.children)?t.children:[t]]),[]);return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}(t,o),i=a[an](e.keypath,s,n),l=ue({},r),c=be(e.tag)||ye(e.tag)?e.tag:En();return m(c,l,i)}}};function Sn(e,t,n,r){const{slots:a,attrs:o}=t;return()=>{const t={part:!0};let s={};e.locale&&(t.locale=e.locale),be(e.format)?t.key=e.format:ye(e.format)&&(be(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?ue({},t,{[r]:e.format[r]}):t),{}));const i=r(e.value,t,s);let l=[t.key];ge(i)?l=i.map(((e,t)=>{const n=a[e.type],r=n?n({[e.type]:e.value,index:t,parts:i}):[e.value];var o;return ge(o=r)&&!be(o[0])&&(r[0].key=`${e.type}-${t}`),r})):be(i)&&(l=[i]);const c=ue({},o),u=be(e.tag)||ye(e.tag)?e.tag:En();return m(u,c,l)}}const kn=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],Rn={name:"i18n-n",props:ue({value:{type:Number,required:!0},format:{type:[String,Object]}},wn),setup(e,t){const n=e.i18n||In({useScope:"parent",__useComponent:!0});return Sn(e,t,kn,((...e)=>n[sn](...e)))}},Pn=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],Ln={name:"i18n-d",props:ue({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},wn),setup(e,t){const n=e.i18n||In({useScope:"parent",__useComponent:!0});return Sn(e,t,Pn,((...e)=>n[on](...e)))}};function Nn(e){const t=(t,{instance:n,value:r,modifiers:a})=>{if(!n||!n.$)throw rn(nn.UNEXPECTED_ERROR);const o=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),s=function(e){if(be(e))return{path:e};if(Ae(e)){if(!("path"in e))throw rn(nn.REQUIRED_VALUE);return e}throw rn(nn.INVALID_VALUE)}(r);t.textContent=Reflect.apply(o.t,o,[...On(s)])};return{beforeMount:t,beforeUpdate:t}}function On(e){const{path:t,locale:n,args:r,choice:a,plural:o}=e,s={},i=r||{};return be(n)&&(s.locale=n),se(a)&&(s.plural=a),se(o)&&(s.plural=o),[t,i,s]}function Cn(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ln](t.pluralizationRules||e.pluralizationRules);const n=pn(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const Mn=ae("global-vue-i18n");function In(e={}){const n=r();if(null==n)throw rn(nn.MUST_BE_CALL_SETUP_TOP);if(!n.isCE&&null!=n.appContext.app&&!n.appContext.app.__VUE_I18N_SYMBOL__)throw rn(nn.NOT_INSLALLED);const a=function(e){{const t=c(e.isCE?Mn:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw rn(e.isCE?nn.NOT_INSLALLED_WITH_PROVIDE:nn.UNEXPECTED_ERROR);return t}}(n),o=function(e){return"composition"===e.mode?e.global:e.global.__composer}(a),s=fn(n),i=function(e,t){return le(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,s);if(__VUE_I18N_LEGACY_API__&&"legacy"===a.mode&&!e.__useComponent){if(!a.allowComposition)throw rn(nn.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,n,r,a={}){const o="local"===n,s=v(null);if(o&&e.proxy&&!e.proxy.$options.i18n)throw rn(nn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=!_e(a.inheritLocale)||a.inheritLocale,l=t(o&&i?r.locale.value:be(a.locale)?a.locale:St),c=t(o&&i?r.fallbackLocale.value:be(a.fallbackLocale)||ge(a.fallbackLocale)||Ae(a.fallbackLocale)||!1===a.fallbackLocale?a.fallbackLocale:l.value),u=t(pn(l.value,a)),p=t(Ae(a.datetimeFormats)?a.datetimeFormats:{[l.value]:{}}),d=t(Ae(a.numberFormats)?a.numberFormats:{[l.value]:{}}),f=o?r.missingWarn:!_e(a.missingWarn)&&!ie(a.missingWarn)||a.missingWarn,m=o?r.fallbackWarn:!_e(a.fallbackWarn)&&!ie(a.fallbackWarn)||a.fallbackWarn,g=o?r.fallbackRoot:!_e(a.fallbackRoot)||a.fallbackRoot,_=!!a.fallbackFormat,y=ve(a.missing)?a.missing:null,w=ve(a.postTranslation)?a.postTranslation:null,E=o?r.warnHtmlMessage:!_e(a.warnHtmlMessage)||a.warnHtmlMessage,A=!!a.escapeParameter,S=o?r.modifiers:Ae(a.modifiers)?a.modifiers:{},k=a.pluralRules||o&&r.pluralRules;function R(){return[l.value,c.value,u.value,p.value,d.value]}const P=h({get:()=>s.value?s.value.locale.value:l.value,set:e=>{s.value&&(s.value.locale.value=e),l.value=e}}),L=h({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:e=>{s.value&&(s.value.fallbackLocale.value=e),c.value=e}}),N=h((()=>s.value?s.value.messages.value:u.value)),O=h((()=>p.value)),C=h((()=>d.value));function M(){return s.value?s.value.getPostTranslationHandler():w}function I(e){s.value&&s.value.setPostTranslationHandler(e)}function D(){return s.value?s.value.getMissingHandler():y}function T(e){s.value&&s.value.setMissingHandler(e)}function x(e){return R(),e()}function W(...e){return s.value?x((()=>Reflect.apply(s.value.t,null,[...e]))):x((()=>""))}function F(...e){return s.value?Reflect.apply(s.value.rt,null,[...e]):""}function U(...e){return s.value?x((()=>Reflect.apply(s.value.d,null,[...e]))):x((()=>""))}function $(...e){return s.value?x((()=>Reflect.apply(s.value.n,null,[...e]))):x((()=>""))}function j(e){return s.value?s.value.tm(e):{}}function H(e,t){return!!s.value&&s.value.te(e,t)}function B(e){return s.value?s.value.getLocaleMessage(e):{}}function V(e,t){s.value&&(s.value.setLocaleMessage(e,t),u.value[e]=t)}function G(e,t){s.value&&s.value.mergeLocaleMessage(e,t)}function z(e){return s.value?s.value.getDateTimeFormat(e):{}}function q(e,t){s.value&&(s.value.setDateTimeFormat(e,t),p.value[e]=t)}function K(e,t){s.value&&s.value.mergeDateTimeFormat(e,t)}function Y(e){return s.value?s.value.getNumberFormat(e):{}}function Q(e,t){s.value&&(s.value.setNumberFormat(e,t),d.value[e]=t)}function X(e,t){s.value&&s.value.mergeNumberFormat(e,t)}const J={get id(){return s.value?s.value.id:-1},locale:P,fallbackLocale:L,messages:N,datetimeFormats:O,numberFormats:C,get inheritLocale(){return s.value?s.value.inheritLocale:i},set inheritLocale(e){s.value&&(s.value.inheritLocale=e)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(u.value)},get modifiers(){return s.value?s.value.modifiers:S},get pluralRules(){return s.value?s.value.pluralRules:k},get isGlobal(){return!!s.value&&s.value.isGlobal},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(e){s.value&&(s.value.missingWarn=e)},get fallbackWarn(){return s.value?s.value.fallbackWarn:m},set fallbackWarn(e){s.value&&(s.value.missingWarn=e)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(e){s.value&&(s.value.fallbackRoot=e)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(e){s.value&&(s.value.fallbackFormat=e)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:E},set warnHtmlMessage(e){s.value&&(s.value.warnHtmlMessage=e)},get escapeParameter(){return s.value?s.value.escapeParameter:A},set escapeParameter(e){s.value&&(s.value.escapeParameter=e)},t:W,getPostTranslationHandler:M,setPostTranslationHandler:I,getMissingHandler:D,setMissingHandler:T,rt:F,d:U,n:$,tm:j,te:H,getLocaleMessage:B,setLocaleMessage:V,mergeLocaleMessage:G,getDateTimeFormat:z,setDateTimeFormat:q,mergeDateTimeFormat:K,getNumberFormat:Y,setNumberFormat:Q,mergeNumberFormat:X};function Z(e){e.locale.value=l.value,e.fallbackLocale.value=c.value,Object.keys(u.value).forEach((t=>{e.mergeLocaleMessage(t,u.value[t])})),Object.keys(p.value).forEach((t=>{e.mergeDateTimeFormat(t,p.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeNumberFormat(t,d.value[t])})),e.escapeParameter=A,e.fallbackFormat=_,e.fallbackRoot=g,e.fallbackWarn=m,e.missingWarn=f,e.warnHtmlMessage=E}return b((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw rn(nn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const t=s.value=e.proxy.$i18n.__composer;"global"===n?(l.value=t.locale.value,c.value=t.fallbackLocale.value,u.value=t.messages.value,p.value=t.datetimeFormats.value,d.value=t.numberFormats.value):o&&Z(t)})),J}(n,i,o,e)}if("global"===i)return mn(o,e,s),o;if("parent"===i){let t=function(e,t,n=!1){let r=null;const a=t.root;let o=t.parent;for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[cn]&&(r=null))}if(null!=r)break;if(a===o)break;o=o.parent}return r}(a,n,e.__useComponent);return null==t&&(t=o),t}const l=a;let p=l.__getInstance(n);if(null==p){const t=ue({},e);"__i18n"in s&&(t.__i18n=s.__i18n),o&&(t.__root=o),p=_n(t),function(e,t,n){g((()=>{}),t),u((()=>{e.__deleteInstance(t)}),t)}(l,n),l.__setInstance(n,p)}return p}const Dn=["locale","fallbackLocale","availableLocales"],Tn=["t","rt","d","n","tm"];var xn;if(kt=function(e,t={}){{const n=(t.onCacheKey||xt)(e),r=Wt[n];if(r)return r;let a=!1;const o=t.onError||$e;t.onError=e=>{a=!0,o(e)};const{code:s}=tt(e,t),i=new Function(`return ${s}`)();return a?i:Wt[n]=i}},Rt=function(e,t){if(!ye(e))return null;let n=lt.get(t);if(n||(n=function(e){const t=[];let n,r,a,o,s,i,l,c=-1,u=0,p=0;const d=[];function h(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,a="\\"+t,d[0](),!0}for(d[0]=()=>{void 0===r?r=a:r+=a},d[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},d[2]=()=>{d[0](),p++},d[3]=()=>{if(p>0)p--,u=4,d[0]();else{if(p=0,void 0===r)return!1;if(r=it(r),!1===r)return!1;d[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!h()){if(o=st(n),l=at[u],s=l[o]||l.l||8,8===s)return;if(u=s[0],void 0!==s[1]&&(i=d[s[1]],i&&(a=n,!1===i())))return;if(7===u)return t}}(t),n&&lt.set(t,n)),!n)return null;const r=n.length;let a=e,o=0;for(;o<r;){const e=a[n[o]];if(void 0===e)return null;a=e,o++}return a},Pt=yt,"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(de().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(de().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(de().__INTLIFY_PROD_DEVTOOLS__=!1),__INTLIFY_PROD_DEVTOOLS__){const e=de();e.__INTLIFY__=!0,xn=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,gt=xn}const Wn=function(t={},n){const a=__VUE_I18N_LEGACY_API__&&_e(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,o=!_e(t.globalInjection)||t.globalInjection,i=!__VUE_I18N_LEGACY_API__||!a||!!t.allowComposition,l=new Map,[c,u]=function(t,n,r){const a=e();{const e=__VUE_I18N_LEGACY_API__&&n?a.run((()=>yn(t))):a.run((()=>_n(t)));if(null==e)throw rn(nn.UNEXPECTED_ERROR);return[a,e]}}(t,a),p=ae("");{const e={get mode(){return __VUE_I18N_LEGACY_API__&&a?"legacy":"composition"},get allowComposition(){return i},async install(t,...n){t.__VUE_I18N_SYMBOL__=p,t.provide(t.__VUE_I18N_SYMBOL__,e),!a&&o&&function(e,t){const n=Object.create(null);Dn.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw rn(nn.UNEXPECTED_ERROR);const a=s(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,a)})),e.config.globalProperties.$i18n=n,Tn.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw rn(nn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}(t,e.global),__VUE_I18N_FULL_INSTALL__&&function(e,t,...n){const r=Ae(n[0])?n[0]:{},a=!!r.useI18nComponentName;(!_e(r.globalInstall)||r.globalInstall)&&(e.component(a?"i18n":An.name,An),e.component(Rn.name,Rn),e.component(Ln.name,Ln)),e.directive("t",Nn(t))}(t,e,...n),__VUE_I18N_LEGACY_API__&&a&&t.mixin(function(e,t,n){return{beforeCreate(){const a=r();if(!a)throw rn(nn.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const n=o.i18n;o.__i18n&&(n.__i18n=o.__i18n),n.__root=t,this===this.$root?this.$i18n=Cn(e,n):(n.__injectWithOption=!0,this.$i18n=yn(n))}else o.__i18n?this===this.$root?this.$i18n=Cn(e,o):this.$i18n=yn({__i18n:o.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;o.__i18nGlobal&&mn(t,o,o),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(a,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){},unmounted(){const e=r();if(!e)throw rn(nn.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}(u,u.__composer,e));const i=t.unmount;t.unmount=()=>{e.dispose(),i()}},get global(){return u},dispose(){c.stop()},__instances:l,__getInstance:function(e){return l.get(e)||null},__setInstance:function(e,t){l.set(e,t)},__deleteInstance:function(e){l.delete(e)}};return e}}({locale:"zh",messages:{en:{message:{hello:"hello world"},menu:{layout:"layout",developer:"developer",chat:"chat",setting:"setting",notFound:"404",dashboard:"dashboard",playground:"playground"}},zh:{message:{hello:"你好 世界"},menu:{layout:"布局",developer:"开发",chat:"编辑",setting:"配置",notFound:"404",dashboard:"介绍",playground:"练习"}},ja:{message:{hello:"こんにちは、世界"},menu:{layout:"レイアウト",developer:"開発者",chat:"チャット",setting:"テスト",notFound:"見出されない",dashboard:"dashboard",playground:"playground"}}}});const Fn=new T("micro-base"),Un=new class extends x{constructor(){super(...arguments),this.chain=W.chain(this).get("data")}}(Fn);Un.data={system:{},database:{}};const $n=localStorage.getItem("micro-base");function jn({dbName:e="database",path:t="",user:n=!0,validator:r=(()=>!0),defaultValue:a=""}){const o=`${e}.${n?"user.ghost-uuid":"public"}${t?`.${t}`:""}`,s=Un.chain.get(o).value();return void 0!==s&&r(s)||(Un.chain.set(o,a),Un.write()),o}function Hn({dbName:e="database",path:t="",defaultValue:n="",user:r=!1}){return F.exports.cloneDeep(Un.chain.get(jn({dbName:e,path:t,user:r,defaultValue:n})).value())}function Bn({dbName:e="database",path:t="",user:n=!1,validator:r=(()=>!0),defaultValue:a=""}={}){return Un.chain.get(jn({dbName:e,path:t,user:n,validator:r,defaultValue:a}))}
/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */null!==$n&&(Un.data=JSON.parse($n)),Un.write();const Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Gn=e=>Vn?Symbol(e):"_vr_"+e,zn=Gn("rvlm"),qn=Gn("rvd"),Kn=Gn("r"),Yn=Gn("rl"),Qn=Gn("rvl"),Xn="undefined"!=typeof window;const Jn=Object.assign;function Zn(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const er=()=>{},tr=/\/$/;function nr(e,t,n="/"){let r,a={},o="",s="";const i=t.indexOf("?"),l=t.indexOf("#",i>-1?i:0);return i>-1&&(r=t.slice(0,i),o=t.slice(i+1,l>-1?l:t.length),a=e(o)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a,o,s=n.length-1;for(a=0;a<r.length;a++)if(o=r[a],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:a,hash:s}}function rr(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function ar(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function or(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sr(e[n],t[n]))return!1;return!0}function sr(e,t){return Array.isArray(e)?ir(e,t):Array.isArray(t)?ir(t,e):e===t}function ir(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var lr,cr,ur,pr;function dr(e){if(!e)if(Xn){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(tr,"")}(cr=lr||(lr={})).pop="pop",cr.push="push",(pr=ur||(ur={})).back="back",pr.forward="forward",pr.unknown="";const hr=/^[^#]+#/;function fr(e,t){return e.replace(hr,"#")+t}const mr=()=>({left:window.pageXOffset,top:window.pageYOffset});function gr(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),a="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function vr(e,t){return(history.state?history.state.position-t:-1)+e}const br=new Map;function _r(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let t=a.includes(e.slice(o))?e.slice(o).length:1,n=a.slice(t);return"/"!==n[0]&&(n="/"+n),rr(n,"")}return rr(n,e)+r+a}function yr(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?mr():null}}function wr(e){const{history:t,location:n}=window,r={value:_r(e,n)},a={value:t.state};function o(r,o,s){const i=e.indexOf("#"),l=i>-1?(n.host&&document.querySelector("base")?e:e.slice(i))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](o,"",l),a.value=o}catch(c){n[s?"replace":"assign"](l)}}return a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:a,push:function(e,n){const s=Jn({},a.value,t.state,{forward:e,scroll:mr()});o(s.current,s,!0),o(e,Jn({},yr(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){o(e,Jn({},t.state,yr(a.value.back,e,a.value.forward,!0),n,{position:a.value.position}),!0),r.value=e}}}function Er(e){return"string"==typeof e||"symbol"==typeof e}const Ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sr=Gn("nf");var kr,Rr;function Pr(e,t){return Jn(new Error,{type:e,[Sr]:!0},t)}function Lr(e,t){return e instanceof Error&&Sr in e&&(null==t||!!(e.type&t))}(Rr=kr||(kr={}))[Rr.aborted=4]="aborted",Rr[Rr.cancelled=8]="cancelled",Rr[Rr.duplicated=16]="duplicated";const Nr={sensitive:!1,strict:!1,start:!0,end:!0},Or=/[.+*?^${}()[\]/\\]/g;function Cr(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Mr(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const e=Cr(r[n],a[n]);if(e)return e;n++}return a.length-r.length}const Ir={type:0,value:""},Dr=/[a-zA-Z0-9_]/;function Tr(e,t,n){const r=function(e,t){const n=Jn({},Nr,t),r=[];let a=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(a+="/");for(let t=0;t<l.length;t++){const r=l[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(a+="/"),a+=r.value.replace(Or,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:u}=r;o.push({name:e,repeatable:n,optional:c});const p=u||"[^/]+?";if("[^/]+?"!==p){s+=10;try{new RegExp(`(${p})`)}catch(i){throw new Error(`Invalid custom RegExp for param "${e}" (${p}): `+i.message)}}let d=n?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;t||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),a+=d,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===p&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const s=new RegExp(a,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",a=o[r-1];n[a.name]=e&&a.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const a of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of a)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:i}=e,l=o in t?t[o]:"";if(Array.isArray(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!i)throw new Error(`Missing required param "${o}"`);a.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Ir]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const a=[];let o;function s(){o&&a.push(o),o=[]}let i,l=0,c="",u="";function p(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===i||"+"===i)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===i||"+"===i,optional:"*"===i||"?"===i})):t("Invalid state to consume buffer"),c="")}function d(){c+=i}for(;l<e.length;)if(i=e[l++],"\\"!==i||2===n)switch(n){case 0:"/"===i?(c&&p(),s()):":"===i?(p(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===i?n=2:Dr.test(i)?d():(p(),n=0,"*"!==i&&"?"!==i&&"+"!==i&&l--);break;case 2:")"===i?"\\"==u[u.length-1]?u=u.slice(0,-1)+i:n=3:u+=i;break;case 3:p(),n=0,"*"!==i&&"?"!==i&&"+"!==i&&l--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),p(),s(),a}(e.path),n),a=Jn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function xr(e,t){const n=[],r=new Map;function a(e,n,r){const i=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Wr(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;const c=$r(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Jn({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let p,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(p=Tr(t,n,c),r?r.alias.push(p):(d=d||p,d!==p&&d.alias.push(p),i&&e.name&&!Fr(p)&&o(e.name)),"children"in l){const e=l.children;for(let t=0;t<e.length;t++)a(e[t],p,r&&r.children[t])}r=r||p,s(p)}return d?()=>{o(d)}:er}function o(e){if(Er(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<n.length&&Mr(e,n[t])>=0&&(e.record.path!==n[t].record.path||!jr(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!Fr(e)&&r.set(e.record.name,e)}return t=$r({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>a(e))),{addRoute:a,resolve:function(e,t){let a,o,s,i={};if("name"in e&&e.name){if(a=r.get(e.name),!a)throw Pr(1,{location:e});s=a.record.name,i=Jn(function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(t.params,a.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=a.stringify(i)}else if("path"in e)o=e.path,a=n.find((e=>e.re.test(o))),a&&(i=a.parse(o),s=a.record.name);else{if(a=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!a)throw Pr(1,{location:e,currentLocation:t});s=a.record.name,i=Jn({},t.params,e.params),o=a.stringify(i)}const l=[];let c=a;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:i,matched:l,meta:Ur(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Wr(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function Fr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ur(e){return e.reduce(((e,t)=>Jn(e,t.meta)),{})}function $r(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function jr(e,t){return t.children.some((t=>t===e||jr(e,t)))}const Hr=/#/g,Br=/&/g,Vr=/\//g,Gr=/=/g,zr=/\?/g,qr=/\+/g,Kr=/%5B/g,Yr=/%5D/g,Qr=/%5E/g,Xr=/%60/g,Jr=/%7B/g,Zr=/%7C/g,ea=/%7D/g,ta=/%20/g;function na(e){return encodeURI(""+e).replace(Zr,"|").replace(Kr,"[").replace(Yr,"]")}function ra(e){return na(e).replace(qr,"%2B").replace(ta,"+").replace(Hr,"%23").replace(Br,"%26").replace(Xr,"`").replace(Jr,"{").replace(ea,"}").replace(Qr,"^")}function aa(e){return null==e?"":function(e){return na(e).replace(Hr,"%23").replace(zr,"%3F")}(e).replace(Vr,"%2F")}function oa(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function sa(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(qr," "),a=e.indexOf("="),o=oa(a<0?e:e.slice(0,a)),s=a<0?null:oa(e.slice(a+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function ia(e){let t="";for(let n in e){const r=e[n];if(n=ra(n).replace(Gr,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&ra(e))):[r&&ra(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function la(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function ca(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function ua(e,t,n,r,a){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise(((s,i)=>{const l=e=>{var l;!1===e?i(Pr(4,{from:n,to:t})):e instanceof Error?i(e):"string"==typeof(l=e)||l&&"object"==typeof l?i(Pr(2,{from:t,to:e})):(o&&r.enterCallbacks[a]===o&&"function"==typeof e&&o.push(e),s())},c=e.call(r&&r.instances[a],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>i(e)))}))}function pa(e,t,n,r){const a=[];for(const s of e)for(const e in s.components){let i=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(o=i)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(i.__vccOpts||i)[t];o&&a.push(ua(o,n,r,s,e))}else{let o=i();a.push((()=>o.then((a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=(i=a).__esModule||Vn&&"Module"===i[Symbol.toStringTag]?a.default:a;var i;s.components[e]=o;const l=(o.__vccOpts||o)[t];return l&&ua(l,n,r,s,e)()}))))}}var o;return a}function da(e){const t=c(Kn),n=c(Yn),r=h((()=>t.resolve(w(e.to)))),a=h((()=>{const{matched:e}=r.value,{length:t}=e,a=e[t-1],o=n.matched;if(!a||!o.length)return-1;const s=o.findIndex(ar.bind(null,a));if(s>-1)return s;const i=fa(e[t-2]);return t>1&&fa(a)===i&&o[o.length-1].path!==i?o.findIndex(ar.bind(null,e[t-2])):s})),o=h((()=>a.value>-1&&function(e,t){for(const n in t){const r=t[n],a=e[n];if("string"==typeof r){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some(((e,t)=>e!==a[t])))return!1}return!0}(n.params,r.value.params))),s=h((()=>a.value>-1&&a.value===n.matched.length-1&&or(n.params,r.value.params)));return{route:r,href:h((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[w(e.replace)?"replace":"push"](w(e.to)).catch(er):Promise.resolve()}}}const ha=E({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:da,setup(e,{slots:t}){const n=o(da(e)),{options:r}=c(Kn),a=h((()=>({[ma(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ma(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:m("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}});function fa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ma=(e,t,n)=>null!=e?e:null!=t?t:n;function ga(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const va=E({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:n,slots:r}){const o=c(Qn),s=h((()=>e.route||o.value)),i=c(qn,0),l=h((()=>s.value.matched[i]));A(qn,i+1),A(zn,l),A(Qn,s);const u=t();return a((()=>[u.value,l.value,e.name]),(([e,t,n],[r,a,o])=>{t&&(t.instances[n]=e,a&&a!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=a.leaveGuards),t.updateGuards.size||(t.updateGuards=a.updateGuards))),!e||!t||a&&ar(t,a)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const t=s.value,a=l.value,o=a&&a.components[e.name],i=e.name;if(!o)return ga(r.default,{Component:o,route:t});const c=a.props[e.name],p=c?!0===c?t.params:"function"==typeof c?c(t):c:null,d=m(o,Jn({},p,n,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[i]=null)},ref:u}));return ga(r.default,{Component:d,route:t})||d}}});function ba(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function _a(){return c(Kn)}function ya(){return c(Yn)}const wa=te({id:"db",actions:{set({dbName:e="database",path:t="",value:n="",user:r=!1}){!function({dbName:e="database",path:t="",value:n="",user:r=!1}){Un.data=Un.chain.set(jn({dbName:e,path:t,user:r}),n).value(),Un.write()}({dbName:e,path:t,value:n,user:r})},get:({dbName:e="database",path:t="",defaultValue:n="",user:r=!1})=>Hn({dbName:e,path:t,defaultValue:n,user:r}),database:({user:e=!1}={})=>Bn({user:e,defaultValue:{}}),databaseClear:({user:e=!1}={})=>Bn({user:e,validator:()=>!1,defaultValue:{}}),databasePage:({basis:e="fullPath",user:t=!1}={})=>Bn({path:`$page.${ya()[e]}`,user:t,defaultValue:{}}),databasePageClear:({basis:e="fullPath",user:t=!1}={})=>Bn({path:`$page.${ya()[e]}`,user:t,validator:()=>!1,defaultValue:{}}),pageSet:({instance:e,basis:t="fullPath",user:n=!1})=>Bn({path:`$page.${ya()[t]}.$data`,user:n,validator:()=>!1,defaultValue:F.exports.cloneDeep(e.$data)}),pageGet:({instance:e,basis:t="fullPath",user:n=!1})=>Hn({path:`$page.${ya()[t]}.$data`,user:n,defaultValue:F.exports.cloneDeep(e.$data)}),pageClear:({basis:e="fullPath",user:t=!1})=>Bn({path:`$page.${ya()[e]}.$data`,user:t,validator:()=>!1,defaultValue:{}})}});var Ea=(e=>(e.DATABASE="database",e.SYSTEM="system",e))(Ea||{}),Aa=(e=>(e.LANG="lang",e.THEME="theme",e.ASYNCMENU="asyncMenu",e))(Aa||{});const Sa=te({id:"app",state:()=>({theme:"",lang:""}),getters:{getTheme:e=>e.theme},actions:{reload(){const e=wa().get({dbName:Ea.SYSTEM,defaultValue:{}});this.setTheme(null==e?void 0:e.theme),this.setLang(null==e?void 0:e.lang)},setTheme(e=$.DARK){const t=wa();this.theme=e,document.body.setAttribute("arco-theme",e),t.set({dbName:Ea.SYSTEM,path:Aa.THEME,value:e})},setLang(e=j.ZH){const t=wa();this.lang=e,Wn.global.locale=e,t.set({dbName:Ea.SYSTEM,path:Aa.LANG,value:e})}}}),ka=E({setup:e=>(Sa().reload(),(e,t)=>{const n=S("router-view");return k(),R(n)})});const Ra="undefined"!=typeof window,Pa="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Function("return this")(),La=()=>{},Na=()=>!1,Oa=Array.isArray,Ca=Object.assign,Ma=Object.defineProperty,Ia=Object.defineProperties,Da=Object.prototype.hasOwnProperty;function Ta(e){return void 0===e}function xa(e){return null===e}function Wa(e){return"string"==typeof e}function Fa(e){return"boolean"==typeof e}function Ua(e){return"number"==typeof e}function $a(e){return"function"==typeof e}function ja(e){return"[object Object]"===toString.call(e)}function Ha(e){return"object"==typeof e}function Ba(e){return"[object Promise]"===toString.call(e)}function Va(e){var t;if($a(e)){const n=e.toString();return(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\s+[A-Z]/.test(n)||/^class\s+/.test(n)}return!1}function Ga(e){return e instanceof URL}function za(e){return e instanceof Element}function qa(e){return e instanceof Node}function Ka(e,t=null,...n){t&&Wa(t);Wa(e)}function Ya(e,t=null,...n){t&&Wa(t);Wa(e)}function Qa(e,...t){Promise.resolve().then(e.bind(null,...t))}const Xa=function(){class e extends URL{}return(t,n)=>n?new e(""+t,n):new e(""+t)}();function Ja(e){return e.startsWith("//")?`${Pa.location.protocol}${e}`:e}function Za(e,t=null){if(!Wa(e)||!e)return"";try{const{origin:t,pathname:n,search:r}=Xa(Ja(e));if(/\.(\w+)$/.test(n))return`${t}${n}${r}`;const a=`${t}${n}/`.replace(/\/\/$/,"/");return/^https?:\/\//.test(a)?`${a}${r}`:""}catch(n){return Ka(n,t),""}}function eo(e){return Wa(e)&&e?e.replace(/(^\d+)|([^\w\d-_])/gi,""):""}function to(e){const{origin:t,pathname:n}=Xa(e);if(/\.(\w+)$/.test(n)){const e=`${t}${n}`.split("/");return e.pop(),e.join("/")+"/"}return`${t}${n}/`.replace(/\/\/$/,"/")}function no(e,t){return!e||/^((((ht|f)tps?)|file):)?\/\//.test(e)||/^(data|blob):/.test(e)?e:Xa(e,to(Ja(t))).toString()}function ro(e,t,n,r){let a=0;function o(){++a===e.length&&r&&r()}e.forEach(((e,r)=>{Ba(e)?e.then((e=>{t({data:e,index:r}),o()})).catch((e=>{n({error:e,index:r}),o()})):(t({data:e,index:r}),o())}))}const ao=Pa.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)};function oo(e){return new Promise((t=>{ao((()=>{e(t)}))}))}let so=null;function io(e){so=e}function lo(e){so!==e&&(io(e),Qa((()=>{io(null)})))}function co(){return so}function uo(){io(null)}function po(e,t){const n=document.createElement(e,t);return n.__MICRO_APP_NAME__&&delete n.__MICRO_APP_NAME__,n.__PURE_ELEMENT__=!0,n}function ho(e,t,n){if(t.innerHTML="",n){const n=e.cloneNode(!0),r=document.createDocumentFragment();Array.from(n.childNodes).forEach((e=>{r.appendChild(e)})),t.appendChild(r)}else Array.from(e.childNodes).forEach((e=>{t.appendChild(e)}))}function fo(e){return!e||/(^\d)|([^\w\d-_\u4e00-\u9fa5])/gi.test(e)}function mo(e){return/^body$/i.test(e)||/^head$/i.test(e)||/^html$/i.test(e)||/^title$/i.test(e)}function go(e){return function(e){return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot}(e)?e.host:e}function vo(e){return e?e.replace(/^\s+|\s+$/g,""):""}function bo(){return navigator.userAgent.indexOf("Firefox")>-1}function _o(e){const t={},n=e.split("&");for(const r of n){const e=r.indexOf("="),n=e<0?r:r.slice(0,e),a=e<0?null:r.slice(e+1);if(n in t){let e=t[n];Oa(e)||(e=t[n]=[e]),e.push(a)}else t[n]=a}return t}function yo(e){let t="";for(const n in e){const r=e[n];if(xa(r))t+=(t.length?"&":"")+n;else{(Oa(r)?r:[r]).forEach((e=>{Ta(e)||(t+=(t.length?"&":"")+n,xa(e)||(t+="="+e))}))}}return t}function wo(){const e=new Set;return{add:function(t){return e.add(t),()=>!!e.has(t)&&e.delete(t)},list:()=>e}}function Eo(e){const t=e.attributes,n=new Map;for(let r=0;r<t.length;r++)n.set(t[r].name,t[r].value);return n}function Ao(e,t){e?e.push((()=>oo((e=>{t(),e()})))):t()}function So(e){return(null==e?void 0:e.reduce(((e,t)=>e.then(t)),Promise.resolve()))||null}function ko(e){return e.startsWith("inline-")}function Ro(e,t,n,...r){try{$a(e)&&e(...r)}catch(a){Ka(`an error occurred in app ${t} ${n} \n`,null)}}var Po,Lo,No,Oo,Co,Mo,Io,Do,To,xo,Wo,Fo;(Lo=Po||(Po={})).NAME="name",Lo.URL="url",(Oo=No||(No={})).CREATED="created",Oo.LOADING="loading",Oo.LOADED="loaded",Oo.LOAD_FAILED="load_failed",Oo.MOUNTING="mounting",Oo.MOUNTED="mounted",Oo.UNMOUNT="unmount",(Mo=Co||(Co={})).CREATED="created",Mo.BEFOREMOUNT="beforemount",Mo.MOUNTED="mounted",Mo.UNMOUNT="unmount",Mo.ERROR="error",Mo.BEFORESHOW="beforeshow",Mo.AFTERSHOW="aftershow",Mo.AFTERHIDDEN="afterhidden",(Do=Io||(Io={})).ONMOUNT="onmount",Do.ONUNMOUNT="onunmount",(xo=To||(To={})).KEEP_ALIVE_SHOW="keep_alive_show",xo.KEEP_ALIVE_HIDDEN="keep_alive_hidden",(Fo=Wo||(Wo={})).DESTROY="destroy",Fo.DESTORY="destory",Fo.INLINE="inline",Fo.DISABLESCOPECSS="disableScopecss",Fo.DISABLESANDBOX="disableSandbox",Fo.DISABLE_SCOPECSS="disable-scopecss",Fo.DISABLE_SANDBOX="disable-sandbox",Fo.DISABLE_MEMORY_ROUTER="disable-memory-router",Fo.DISABLE_PATCH_REQUEST="disable-patch-request",Fo.KEEP_ROUTER_STATE="keep-router-state",Fo.HIDDEN_ROUTER="hidden-router",Fo.KEEP_ALIVE="keep-alive",Fo.CLEAR_DATA="clear-data",Fo.ESMODULE="esmodule",Fo.SSR="ssr",Fo.FIBER="fiber";const Uo=[1,2,3],$o="window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history";function jo(e,t=null,n={}){return uo(),$a(Ki.options.fetch)?Ki.options.fetch(e,n,t):window.fetch(e,n).then((e=>e.text()))}class Ho{static getInstance(){return this.instance||(this.instance=new Ho),this.instance}run(e,t){const n=e.name,r=e.ssrUrl||e.url;jo(r,n,{cache:"no-cache"}).then((a=>{if(!a){const t="html is empty, please check in detail";return e.onerror(new Error(t)),Ka(t,n)}a=this.formatHTML(r,a,n),t(a,e)})).catch((t=>{Ka(`Failed to fetch data from ${e.url}, micro-app stop rendering`,n),e.onLoadError(t)}))}formatHTML(e,t,n){return this.processHtml(e,t,n,Ki.options.plugins).replace(/<head[^>]*>[\s\S]*?<\/head>/i,(e=>e.replace(/<head/i,"<micro-app-head").replace(/<\/head>/i,"</micro-app-head>"))).replace(/<body[^>]*>[\s\S]*?<\/body>/i,(e=>e.replace(/<body/i,"<micro-app-body").replace(/<\/body>/i,"</micro-app-body>")))}processHtml(e,t,n,r){var a;if(!r)return t;const o=[];return r.global&&o.push(...r.global),(null===(a=r.modules)||void 0===a?void 0:a[n])&&o.push(...r.modules[n]),o.length>0?o.reduce(((t,n)=>ja(n)&&$a(n.processHtml)?n.processHtml(t,e):t),t):t}}const Bo=/(^|\s+)(html|:root)(?=[\s>~[.#:]+|$)/,Vo=/(^|\s+)((html[\s>~]+body)|body)(?=[\s>~[.#:]+|$)/;function Go(e,t){e=t?`${t} ${e}`:e;const n=new Error(e);throw n.reason=e,t&&(n.filename=t),n}class zo{constructor(){this.cssText="",this.prefix="",this.baseURI="",this.linkPath="",this.result="",this.scopecssDisable=!1,this.scopecssDisableSelectors=[],this.scopecssDisableNextLine=!1,this.mediaRule=this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/,"@media"),this.supportsRule=this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/,"@supports"),this.documentRule=this.createMatcherForRuleWithChildRule(/^@([-\w]+)?document *([^{]+)/,"@document"),this.hostRule=this.createMatcherForRuleWithChildRule(/^@host\s*/,"@host"),this.importRule=this.createMatcherForNoneBraceAtRule("import"),this.charsetRule=this.createMatcherForNoneBraceAtRule("charset"),this.namespaceRule=this.createMatcherForNoneBraceAtRule("namespace")}exec(e,t,n,r){return this.cssText=e,this.prefix=t,this.baseURI=n,this.linkPath=r||"",this.matchRules(),bo()?decodeURIComponent(this.result):this.result}reset(){this.cssText=this.prefix=this.baseURI=this.linkPath=this.result="",this.scopecssDisable=this.scopecssDisableNextLine=!1,this.scopecssDisableSelectors=[]}matchRules(){for(this.matchLeadingSpaces(),this.matchComments();this.cssText.length&&"}"!==this.cssText.charAt(0)&&(this.matchAtRule()||this.matchStyleRule());)this.matchComments()}matchStyleRule(){const e=this.formatSelector(!0);return this.scopecssDisableNextLine=!1,e?(this.recordResult(e),this.matchComments(),this.styleDeclarations(),this.matchLeadingSpaces(),!0):Go("selector missing",this.linkPath)}formatSelector(e){const t=this.commonMatch(/^[^{]+/,e);return!!t&&t[0].replace(/(^|,[\n\s]*)([^,]+)/g,((e,t,n)=>(n=vo(n),this.scopecssDisableNextLine||this.scopecssDisable&&(!this.scopecssDisableSelectors.length||this.scopecssDisableSelectors.includes(n))||Bo.test(n)||(n=Vo.test(n)?n.replace(Vo,this.prefix+" micro-app-body"):this.prefix+" "+n),t+n)))}styleDeclarations(){return this.matchOpenBrace()?(this.matchAllDeclarations(),!!this.matchCloseBrace()||Go("Declaration missing '}'",this.linkPath)):Go("Declaration missing '{'",this.linkPath)}matchAllDeclarations(){let e=this.commonMatch(/^(?:url\(["']?(?:[^)"'}]+)["']?\)|[^}/])*/,!0)[0];if(e&&(this.scopecssDisableNextLine||this.scopecssDisable&&!this.scopecssDisableSelectors.length||(e=e.replace(/url\(["']?([^)"']+)["']?\)/gm,((e,t)=>/^((data|blob):|#)/.test(t)||/^(https?:)?\/\//.test(t)?e:(/^((\.\.?\/)|[^/])/.test(t)&&this.linkPath&&(this.baseURI=function(e){const t=e.split("/");return t.pop(),Ja(t.join("/")+"/")}(this.linkPath)),`url("${no(t,this.baseURI)}")`)))),this.recordResult(e)),this.scopecssDisableNextLine=!1,this.cssText&&"}"!==this.cssText.charAt(0))return"/"===this.cssText.charAt(0)&&"*"===this.cssText.charAt(1)?this.matchComments():this.commonMatch(/\/+/),this.matchAllDeclarations()}matchAtRule(){return"@"===this.cssText[0]&&(this.scopecssDisableNextLine=!1,this.keyframesRule()||this.mediaRule()||this.customMediaRule()||this.supportsRule()||this.importRule()||this.charsetRule()||this.namespaceRule()||this.documentRule()||this.pageRule()||this.hostRule()||this.fontFaceRule())}keyframesRule(){if(!this.commonMatch(/^@([-\w]+)?keyframes\s*/))return!1;if(!this.commonMatch(/^[^{]+/))return Go("@keyframes missing name",this.linkPath);if(this.matchComments(),!this.matchOpenBrace())return Go("@keyframes missing '{'",this.linkPath);for(this.matchComments();this.keyframeRule();)this.matchComments();return this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Go("@keyframes missing '}'",this.linkPath)}keyframeRule(){let e;const t=[];for(;e=this.commonMatch(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),this.commonMatch(/^,\s*/);return!!t.length&&(this.styleDeclarations(),this.matchLeadingSpaces(),!0)}customMediaRule(){return!!this.commonMatch(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/)&&(this.matchLeadingSpaces(),!0)}pageRule(){return!!this.commonMatch(/^@page */)&&(this.formatSelector(!1),this.scopecssDisableNextLine=!1,this.commonHandlerForAtRuleWithSelfRule("page"))}fontFaceRule(){return!!this.commonMatch(/^@font-face\s*/)&&this.commonHandlerForAtRuleWithSelfRule("font-face")}createMatcherForRuleWithChildRule(e,t){return()=>!!this.commonMatch(e)&&(this.matchOpenBrace()?(this.matchComments(),this.matchRules(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Go(`${t} missing '}'`,this.linkPath)):Go(`${t} missing '{'`,this.linkPath))}createMatcherForNoneBraceAtRule(e){const t=new RegExp("^@"+e+"\\s*([^;]+);");return()=>!!this.commonMatch(t)&&(this.matchLeadingSpaces(),!0)}commonHandlerForAtRuleWithSelfRule(e){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Go(`@${e} missing '}'`,this.linkPath)):Go(`@${e} missing '{'`,this.linkPath)}matchComments(){for(;this.matchComment(););}matchComment(){if("/"!==this.cssText.charAt(0)||"*"!==this.cssText.charAt(1))return!1;this.scopecssDisableNextLine=!1;let e=2;for(;""!==this.cssText.charAt(e)&&("*"!==this.cssText.charAt(e)||"/"!==this.cssText.charAt(e+1));)++e;if(e+=2,""===this.cssText.charAt(e-1))return Go("End of comment missing",this.linkPath);let t=this.cssText.slice(2,e-2);if(this.recordResult(`/*${t}*/`),t=vo(t.replace(/^\s*!/,"")),"scopecss-disable-next-line"===t)this.scopecssDisableNextLine=!0;else if(/^scopecss-disable/.test(t))if("scopecss-disable"===t)this.scopecssDisable=!0;else{this.scopecssDisable=!0;t.replace("scopecss-disable","").split(",").forEach((e=>{this.scopecssDisableSelectors.push(vo(e))}))}else"scopecss-enable"===t&&(this.scopecssDisable=!1,this.scopecssDisableSelectors=[]);return this.cssText=this.cssText.slice(e),this.matchLeadingSpaces(),!0}commonMatch(e,t=!1){const n=e.exec(this.cssText);if(!n)return;const r=n[0];return this.cssText=this.cssText.slice(r.length),t||this.recordResult(r),n}matchOpenBrace(){return this.commonMatch(/^{\s*/)}matchCloseBrace(){return this.commonMatch(/^}/)}matchLeadingSpaces(){this.commonMatch(/^\s*/)}recordResult(e){bo()?this.result+=encodeURIComponent(e):this.result+=e}}function qo(e,t,n,r,a){if(!e.__MICRO_APP_HAS_SCOPED__){e.__MICRO_APP_HAS_SCOPED__=!0;let s=null;try{s=Ko.exec(e.textContent,n,r,a),Ko.reset()}catch(o){Ko.reset(),Ka("An error occurred while parsing CSS:\n",t)}s&&(e.textContent=s)}}let Ko;function Yo(e,t,n){if(t.scopecss){const r=Qo(t.name);if(Ko||(Ko=new zo),e.textContent)qo(e,t.name,r,t.url,n);else{const a=new MutationObserver((function(){a.disconnect(),e.textContent&&!e.hasAttribute("data-styled")&&qo(e,t.name,r,t.url,n)}));a.observe(e,{childList:!0})}}return e}function Qo(e,t=!1){const n=t?"\\":"";return`${Ki.tagName}${n}[name=${e}${n}]`}function Xo(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},srcElement:{get:()=>t},target:{get:()=>t}})}function Jo(e){const t=new CustomEvent("load");Xo(t,e),$a(e.onload)?e.onload(t):e.dispatchEvent(t)}function Zo(e){const t=new CustomEvent("error");Xo(t,e),$a(e.onerror)?e.onerror(t):e.dispatchEvent(t)}var es=function(){const e=new Map,t=new Map;function n(e){return{setInfo(t,n){e.set(t,n)},getInfo(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},hasInfo:t=>e.has(t),deleteInfo:t=>e.delete(t)}}return{link:n(e),script:Object.assign(Object.assign({},n(t)),{deleteInlineInfo(e){e.forEach((e=>{ko(e)&&t.delete(e)}))}})}}();function ts(e,t,n,r=!1){const a=e.getAttribute("rel");let o=e.getAttribute("href"),s=null;if("stylesheet"===a&&o){o=no(o,n.url);let t=es.link.getInfo(o);const a={attrs:Eo(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||a:t={code:"",appSpace:{[n.name]:a}},es.link.setInfo(o,t),r)return{address:o,linkInfo:t};n.source.links.add(o),s=document.createComment(`link element with href=${o} move to micro-app-head as style element`),t.appSpace[n.name].placeholder=s}else a&&["prefetch","preload","prerender","icon","apple-touch-icon"].includes(a)?r?s=document.createComment(`link element with rel=${a}${o?" & href="+o:""} removed by micro-app`):t.removeChild(e):o&&e.setAttribute("href",no(o,n.url));return r?{replaceComment:s}:s?t.replaceChild(s,e):void 0}function ns(e,t,n,r){const a=Array.from(t.source.links),o=a.map((e=>{const n=es.link.getInfo(e);return n.code?n.code:jo(e,t.name)})),s=t.isPrefetch||t.fiber?[]:null;ro(o,(e=>{Ao(s,(()=>function(e,t,n,r){const a=es.link.getInfo(e);a.code=t;const o=a.appSpace[r.name],s=o.placeholder;if(s){const t=po("style");rs(r,e,t,a,o.attrs),s.parentNode?s.parentNode.replaceChild(t,s):n.appendChild(t),o.placeholder=null}}(a[e.index],e.data,n,t)))}),(e=>{Ka(e,t.name)}),(()=>{s?r.then((()=>{s.push((()=>Promise.resolve(t.onLoad(e)))),So(s)})):t.onLoad(e)}))}function rs(e,t,n,r,a){if(e.scopecss){const a=r.appSpace[e.name];if(a.prefix=a.prefix||Qo(e.name),a.parsedCode)n.textContent=a.parsedCode;else{const o=function(e,t,n){const r=n.appSpace;for(const a in r)if(a!==e){const e=r[a];if(e.parsedCode)return e.parsedCode.replaceAll(new RegExp(Qo(a,!0),"g"),t)}}(e.name,a.prefix,r);o?n.textContent=o:(n.textContent=r.code,Yo(n,e,t)),a.parsedCode=n.textContent}}else n.textContent=r.code;!function(e,t){t.forEach(((t,n)=>{"rel"!==n&&("href"===n&&(n="data-origin-href"),e.setAttribute(n,t))}))}(n,a)}class as{constructor(){this.escapeSetterKeyList=["location"],this.staticEscapeProperties=["System","__cjsWrapper"],this.staticScopeProperties=["webpackJsonp","webpackHotUpdate","Vue"],this.injectReactHRMProperty()}injectReactHRMProperty(){}}function os(e,t){const n=Object.getOwnPropertyDescriptor(e,"parentNode");n&&!n.configurable||Ma(e,"parentNode",{value:t,configurable:!0})}const ss=new WeakMap;function is(e,t,n){if(t instanceof HTMLStyleElement){if(t.hasAttribute("exclude")){const e=document.createComment("style element with exclude attribute ignored by micro-app");return ss.set(t,e),e}return n.scopecss&&!t.hasAttribute("ignore")?Yo(t,n):t}if(t instanceof HTMLLinkElement){if(t.hasAttribute("exclude")||Ps(t.getAttribute("href"),n.name)){const e=document.createComment("link element with exclude attribute ignored by micro-app");return ss.set(t,e),e}if(t.hasAttribute("ignore")||Ls(t.getAttribute("href"),n.name)||t.href&&$a(Ki.options.excludeAssetFilter)&&Ki.options.excludeAssetFilter(t.href))return t;const{address:r,linkInfo:a,replaceComment:o}=ts(t,e,n,!0);if(r&&a){const e=function(e,t,n,r){const a=po("style"),o=()=>{rs(t,e,a,n,n.appSpace[t.name].attrs),Jo(r)};return n.code?Qa(o):jo(e,t.name).then((e=>{n.code=e,o()})).catch((e=>{Ka(e,t.name),Zo(r)})),a}(r,n,a,t);return ss.set(t,e),e}return o?(ss.set(t,o),o):t}if(t instanceof HTMLScriptElement){if(t.src&&$a(Ki.options.excludeAssetFilter)&&Ki.options.excludeAssetFilter(t.src))return t;const{replaceComment:r,address:a,scriptInfo:o}=ks(t,e,n,!0)||{};if(a&&o){const e=o.isExternal?function(e,t,n,r){const a=ws(t,n)?po("script"):document.createComment("dynamic script extract by micro-app"),o=()=>Jo(r),s=()=>{const s=Object.getOwnPropertyDescriptor(vs.rawDocument,"currentScript");s&&!s.configurable||Object.defineProperty(vs.rawDocument,"currentScript",{value:r,configurable:!0}),Os(e,t,n,o,a),!ys(t,n)&&o()};n.code?Qa(s):jo(e,t.name).then((e=>{n.code=e,s()})).catch((e=>{Ka(e,t.name),Zo(r)}));return a}(a,n,o,t):function(e,t,n){const r=ws(t,n)?po("script"):document.createComment("dynamic script extract by micro-app");return Os(e,t,n,void 0,r),r}(a,n,o);return ss.set(t,e),e}return r?(ss.set(t,r),r):t}return t}function ls(e,t,n,r,a){const o=function(e,t){if(e===document.head)return null==t?void 0:t.querySelector("micro-app-head");if(e===document.body)return null==t?void 0:t.querySelector("micro-app-body");return null}(n,e);if(o){if("MICRO-APP-BODY"===o.tagName&&t!==vs.rawRemoveChild){const t=Object.getOwnPropertyDescriptor(r,"parentNode");t&&!t.configurable||Ma(r,"parentNode",{configurable:!0,get:()=>e.container?document.body:o})}return a&&!o.contains(a)?vs.rawAppendChild.call(o,r):t!==vs.rawRemoveChild||o.contains(r)?cs(t,o,r,a):n.contains(r)?t.call(n,r):r}return cs(t,n,r,a)}function cs(e,t,n,r){return(a=e)===vs.rawAppend||a===vs.rawPrepend?e.call(t,n):e.call(t,n,r);var a}function us(e){var t;return null!==(t=ss.get(e))&&void 0!==t?t:e}function ps(e,t,n,r){const a=co();if(qa(t)&&(t.__MICRO_APP_NAME__||a&&!t.__PURE_ELEMENT__)){t.__MICRO_APP_NAME__=t.__MICRO_APP_NAME__||a;const o=Wi.get(t.__MICRO_APP_NAME__);if(null==o?void 0:o.container)return za(t)&&(/^(img|script)$/i.test(t.tagName)?(t.hasAttribute("src")&&vs.rawSetAttribute.call(t,"src",no(t.getAttribute("src"),o.url)),t.hasAttribute("srcset")&&vs.rawSetAttribute.call(t,"srcset",no(t.getAttribute("srcset"),o.url))):/^link$/i.test(t.tagName)&&t.hasAttribute("href")&&vs.rawSetAttribute.call(t,"href",no(t.getAttribute("href"),o.url))),ls(o,r,e,is(e,t,o),n&&us(n));if(r===vs.rawAppend||r===vs.rawPrepend)return r.call(e,t)}else if(r===vs.rawAppend||r===vs.rawPrepend){if(!qa(t)&&a){const n=Wi.get(a);if(null==n?void 0:n.container){if(e===document.head)return r.call(n.querySelector("micro-app-head"),t);if(e===document.body)return r.call(n.querySelector("micro-app-body"),t)}}return r.call(e,t)}return r.call(e,t,n)}function ds(){function e(e){const t=co();if((e===document.body||e===document.head)&&t){const n=Wi.get(t);if(null==n?void 0:n.container){if(e===document.body)return n.querySelector("micro-app-body");if(e===document.head)return n.querySelector("micro-app-head")}}return null}!function(){const e=vs.rawDocument,t=vs.rawRootDocument;function n(t){return function(e){return"[object ProxyDocument]"===toString.call(e)}(t)?e:t}function r(t){var r,a,o;const s=n(this),i=co();return i&&(null===(r=Wi.get(i))||void 0===r?void 0:r.container)&&t&&!mo(t)&&e===s?null!==(o=null===(a=Wi.get(i))||void 0===a?void 0:a.querySelector(t))&&void 0!==o?o:null:vs.rawQuerySelector.call(s,t)}function a(t){var r,a,o;const s=n(this),i=co();return i&&(null===(r=Wi.get(i))||void 0===r?void 0:r.container)&&t&&!mo(t)&&e===s?null!==(o=null===(a=Wi.get(i))||void 0===a?void 0:a.querySelectorAll(t))&&void 0!==o?o:[]:vs.rawQuerySelectorAll.call(s,t)}t.prototype.createElement=function(e,t){return hs(vs.rawCreateElement.call(n(this),e,t))},t.prototype.createElementNS=function(e,t,r){return hs(vs.rawCreateElementNS.call(n(this),e,t,r))},t.prototype.createDocumentFragment=function(){return hs(vs.rawCreateDocumentFragment.call(n(this)))},t.prototype.querySelector=r,t.prototype.querySelectorAll=a,t.prototype.getElementById=function(e){const t=n(this);if(!co()||fo(e))return vs.rawGetElementById.call(t,e);try{return r.call(t,`#${e}`)}catch(a){return vs.rawGetElementById.call(t,e)}},t.prototype.getElementsByClassName=function(e){const t=n(this);if(!co()||fo(e))return vs.rawGetElementsByClassName.call(t,e);try{return a.call(t,`.${e}`)}catch(r){return vs.rawGetElementsByClassName.call(t,e)}},t.prototype.getElementsByTagName=function(e){var t;const r=n(this),o=co();if(!o||mo(e)||fo(e)||!(null===(t=Wi.get(o))||void 0===t?void 0:t.inline)&&/^script$/i.test(e))return vs.rawGetElementsByTagName.call(r,e);try{return a.call(r,e)}catch(s){return vs.rawGetElementsByTagName.call(r,e)}},t.prototype.getElementsByName=function(e){const t=n(this);if(!co()||fo(e))return vs.rawGetElementsByName.call(t,e);try{return a.call(t,`[name=${e}]`)}catch(r){return vs.rawGetElementsByName.call(t,e)}}}(),Element.prototype.appendChild=function(e){return ps(this,e,null,vs.rawAppendChild)},Element.prototype.insertBefore=function(e,t){return ps(this,e,t,vs.rawInsertBefore)},Element.prototype.replaceChild=function(e,t){return ps(this,e,t,vs.rawReplaceChild)},Element.prototype.append=function(...e){let t=0;const n=e.length;for(;t<n;)ps(this,e[t],null,vs.rawAppend),t++},Element.prototype.prepend=function(...e){let t=e.length;for(;t>0;)ps(this,e[t-1],null,vs.rawPrepend),t--},Element.prototype.removeChild=function(e){if(null==e?void 0:e.__MICRO_APP_NAME__){const n=Wi.get(e.__MICRO_APP_NAME__);if(null==n?void 0:n.container)return ls(n,vs.rawRemoveChild,this,us(e));try{return vs.rawRemoveChild.call(this,e)}catch(t){return(null==e?void 0:e.parentNode)&&vs.rawRemoveChild.call(e.parentNode,e)}}return vs.rawRemoveChild.call(this,e)},Element.prototype.cloneNode=function(e){const t=vs.rawCloneNode.call(this,e);return this.__MICRO_APP_NAME__&&(t.__MICRO_APP_NAME__=this.__MICRO_APP_NAME__),t},Element.prototype.querySelector=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return vs.rawElementQuerySelector.call(r,t)},Element.prototype.querySelectorAll=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return vs.rawElementQuerySelectorAll.call(r,t)},Ma(Element.prototype,"innerHTML",{get(){return vs.rawInnerHTMLDesc.get.call(this)},set(e){vs.rawInnerHTMLDesc.set.call(this,e);const t=co();Array.from(this.children).forEach((e=>{za(e)&&t&&(e.__MICRO_APP_NAME__=t)}))}})}function hs(e){const t=co();return t&&(e.__MICRO_APP_NAME__=t),e}let fs=!1;function ms(){uo(),function(){const e=vs.rawRootDocument;e.prototype.createElement=vs.rawCreateElement,e.prototype.createElementNS=vs.rawCreateElementNS,e.prototype.createDocumentFragment=vs.rawCreateDocumentFragment,e.prototype.querySelector=vs.rawQuerySelector,e.prototype.querySelectorAll=vs.rawQuerySelectorAll,e.prototype.getElementById=vs.rawGetElementById,e.prototype.getElementsByClassName=vs.rawGetElementsByClassName,e.prototype.getElementsByTagName=vs.rawGetElementsByTagName,e.prototype.getElementsByName=vs.rawGetElementsByName}(),Element.prototype.appendChild=vs.rawAppendChild,Element.prototype.insertBefore=vs.rawInsertBefore,Element.prototype.replaceChild=vs.rawReplaceChild,Element.prototype.removeChild=vs.rawRemoveChild,Element.prototype.append=vs.rawAppend,Element.prototype.prepend=vs.rawPrepend,Element.prototype.cloneNode=vs.rawCloneNode,Element.prototype.querySelector=vs.rawElementQuerySelector,Element.prototype.querySelectorAll=vs.rawElementQuerySelectorAll,Ma(Element.prototype,"innerHTML",vs.rawInnerHTMLDesc)}let gs=!1;const vs={};function bs(){if(Ra){const e=Function("return window")(),t=Function("return document")(),n=Function("return Document")(),r="noModule"in document.createElement("script"),a=Element.prototype.setAttribute,o=Element.prototype.appendChild,s=Element.prototype.insertBefore,i=Element.prototype.replaceChild,l=Element.prototype.removeChild,c=Element.prototype.append,u=Element.prototype.prepend,p=Element.prototype.cloneNode,d=Element.prototype.querySelector,h=Element.prototype.querySelectorAll,f=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),m=n.prototype.createElement,g=n.prototype.createElementNS,v=n.prototype.createDocumentFragment,b=n.prototype.querySelector,_=n.prototype.querySelectorAll,y=n.prototype.getElementById,w=n.prototype.getElementsByClassName,E=n.prototype.getElementsByTagName,A=n.prototype.getElementsByName,S=new Proxy(Image,{construct(e,t){const n=new e(...t);return n.__MICRO_APP_NAME__=co(),n}}),k=e.addEventListener,R=e.removeEventListener,P=e.setInterval,L=e.setTimeout,N=e.clearInterval,O=e.clearTimeout,C=e.history.pushState,M=e.history.replaceState,I=t.addEventListener,D=t.removeEventListener;window.__MICRO_APP_BASE_APPLICATION__=!0,Ca(vs,{rawWindow:e,rawDocument:t,rawRootDocument:n,supportModuleScript:r,rawSetAttribute:a,rawAppendChild:o,rawInsertBefore:s,rawReplaceChild:i,rawRemoveChild:l,rawAppend:c,rawPrepend:u,rawCloneNode:p,rawElementQuerySelector:d,rawElementQuerySelectorAll:h,rawInnerHTMLDesc:f,rawCreateElement:m,rawCreateElementNS:g,rawCreateDocumentFragment:v,rawQuerySelector:b,rawQuerySelectorAll:_,rawGetElementById:y,rawGetElementsByClassName:w,rawGetElementsByTagName:E,rawGetElementsByName:A,ImageProxy:S,rawWindowAddEventListener:k,rawWindowRemoveEventListener:R,rawSetInterval:P,rawSetTimeout:L,rawClearInterval:N,rawClearTimeout:O,rawDocumentAddEventListener:I,rawDocumentRemoveEventListener:D,rawPushState:C,rawReplaceState:M}),function(){if(!gs){gs=!0;const e=po("style");vs.rawSetAttribute.call(e,"type","text/css"),e.textContent=`\n${Ki.tagName}, micro-app-body { display: block; } \nmicro-app-head { display: none; }`,vs.rawDocument.head.appendChild(e)}}()}}const _s=["text/javascript","text/ecmascript","application/javascript","application/ecmascript","module","systemjs-module","systemjs-importmap"];function ys(e,t){return t.appSpace[e.name].module&&(!e.useSandbox||e.esmodule)}function ws(e,t){return e.inline||t.appSpace[e.name].inline||ys(e,t)||function(e,t){return t.appSpace[e.name].attrs.has("id")}(e,t)}function Es(e,t,n){return function(e,t,n){const r=t.appSpace;for(const a in r)if(a!==e){const e=r[a];if(e.parsedCode===n&&e.parsedFunction)return e.parsedFunction}}(e.name,t,n)||new Function(n)}function As(){const e="inline-"+Math.random().toString(36).substr(2,15);return es.script.hasInfo(e)?As():e}function Ss(e,t){return e.useSandbox&&!ys(e,t)}function ks(e,t,n,r=!1){let a=null,o=e.getAttribute("src");if(o&&(o=no(o,n.url)),e.hasAttribute("exclude")||Ps(o,n.name))a=document.createComment("script element with exclude attribute removed by micro-app");else{if(e.type&&!_s.includes(e.type)||e.hasAttribute("ignore")||Ls(o,n.name))return null;if(vs.supportModuleScript&&e.noModule||!vs.supportModuleScript&&"module"===e.type)a=document.createComment((e.noModule?"noModule":"module")+" script ignored by micro-app");else if(o){let t=es.script.getInfo(o);const s={async:e.hasAttribute("async"),defer:e.defer||"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:Eo(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||s:t={code:"",isExternal:!0,appSpace:{[n.name]:s}},es.script.setInfo(o,t),r)return{address:o,scriptInfo:t};n.source.scripts.add(o),a=document.createComment(`script with src='${o}' extract by micro-app`)}else if(e.textContent){const t=As(),o={code:e.textContent,isExternal:!1,appSpace:{[n.name]:{async:!1,defer:"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:Eo(e)}}};if(r)return{address:t,scriptInfo:o};n.source.scripts.add(t),es.script.setInfo(t,o),a=document.createComment("inline script extract by micro-app")}else r||(a=document.createComment("script element removed by micro-app"))}return r?{replaceComment:a}:t.replaceChild(a,e)}function Rs(e){var t,n,r;return[...(null===(t=Ki.options.plugins)||void 0===t?void 0:t.global)||[],...(null===(r=null===(n=Ki.options.plugins)||void 0===n?void 0:n.modules)||void 0===r?void 0:r[e])||[]]}function Ps(e,t){if(!e)return!1;return(Rs(t)||[]).some((t=>!!t.excludeChecker&&t.excludeChecker(e)))}function Ls(e,t){if(!e)return!1;return(Rs(t)||[]).some((t=>!!t.ignoreChecker&&t.ignoreChecker(e)))}function Ns(e,t){const n=Array.from(t.source.scripts),r=[],a=[];for(const s of n){const e=es.script.getInfo(s),n=e.appSpace[t.name];(!n.defer&&!n.async||t.isPrefetch&&!t.isPrerender)&&(r.push(e.code?e.code:jo(s,t.name)),a.push([s,e]))}const o=t.isPrefetch||t.fiber?[]:null;r.length?ro(r,(e=>{Ao(o,(()=>function(e,t,n,r){if(t.code=n,r.isPrefetch&&2===r.prefetchLevel){const o=t.appSpace[r.name];if(!o.parsedCode&&(o.parsedCode=Cs(e,r,n,t),o.wrapInSandBox=Ss(r,t),!ws(r,t)))try{o.parsedFunction=Es(r,t,o.parsedCode)}catch(a){Ya("Something went wrong while handling preloaded resources",r.name)}}}(a[e.index][0],a[e.index][1],e.data,t)))}),(e=>{Ka(e,t.name)}),(()=>{o?(o.push((()=>Promise.resolve(t.onLoad(e)))),So(o)):t.onLoad(e)})):t.onLoad(e)}function Os(e,t,n,r,a){var o;try{!function(e){!function(e){e.sandBox&&(vs.rawWindow.__MICRO_APP_PROXY_WINDOW__=e.sandBox.proxyWindow)}(e)}(t);const s=n.appSpace[t.name],i=Ss(t,n);if(s.parsedCode&&s.wrapInSandBox===i||(s.parsedCode=Cs(e,t,n.code,n),s.wrapInSandBox=i,s.parsedFunction=null),ws(t,n)){const i=a||po("script");!function(e,t,n,r,a,o){if(n){if(ko(e)){const e=new Blob([t],{type:"text/javascript"});r.src=URL.createObjectURL(e)}else r.src=e;r.setAttribute("type","module"),o&&(o.moduleCount&&o.moduleCount--,r.onload=o.bind(r,0===o.moduleCount))}else r.textContent=t;!function(e,t){t.forEach(((t,n)=>{"type"===n&&"module"===t||"defer"===n||"async"===n||("src"===n&&(n="data-origin-src"),e.setAttribute(n,t))}))}(r,a)}(e,s.parsedCode,ys(t,n),i,s.attrs,r),a||null===(o=t.querySelector("micro-app-body"))||void 0===o||o.appendChild(i)}else!function(e,t){const n=t.appSpace[e.name];n.parsedFunction||(n.parsedFunction=Es(e,t,n.parsedCode));n.parsedFunction.call(window)}(t,n)}catch(s){}}function Cs(e,t,n,r){return ja(Ki.options.plugins)&&(n=function(e,t,n,r){var a;const o=Ms(r.global,t,e);return Ms(null===(a=r.modules)||void 0===a?void 0:a[n],o,e)}(e,n,t.name,Ki.options.plugins)),Ss(t,r)?`;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${$o}){;${n}\n${ko(e)?"":`//# sourceURL=${e}\n`}}).call(proxyWindow,${$o})}})(window.__MICRO_APP_PROXY_WINDOW__);`:n}function Ms(e,t,n){return Oa(e)?e.reduce(((e,t)=>ja(t)&&$a(t.loader)?t.loader(e,n):e),t):t}function Is(e,t,n,r){const a=Array.from(e.children);a.length&&a.forEach((e=>{Is(e,t,n,r)}));for(const o of a)o instanceof HTMLLinkElement?o.hasAttribute("exclude")||Ps(o.getAttribute("href"),t.name)?e.replaceChild(document.createComment("link element with exclude attribute ignored by micro-app"),o):o.hasAttribute("ignore")||Ls(o.getAttribute("href"),t.name)?o.hasAttribute("href")&&o.setAttribute("href",no(o.getAttribute("href"),t.url)):ts(o,e,t):o instanceof HTMLStyleElement?o.hasAttribute("exclude")?e.replaceChild(document.createComment("style element with exclude attribute ignored by micro-app"),o):t.scopecss&&!o.hasAttribute("ignore")&&Ao(r,(()=>Yo(o,t))):o instanceof HTMLScriptElement?ks(o,e,t):o instanceof HTMLImageElement&&o.hasAttribute("src")&&o.setAttribute("src",no(o.getAttribute("src"),t.url))}function Ds(e,t){const n=function(e){const t=po("div");return t.innerHTML=e,t}(e),r=vs.rawElementQuerySelector.call(n,"micro-app-head"),a=vs.rawElementQuerySelector.call(n,"micro-app-body");if(!r||!a){const e=`element ${r?"body":"head"} is missing`;return t.onerror(new Error(e)),Ka(e,t.name)}const o=t.isPrefetch||t.fiber?[]:null;Is(n,t,r,o);const s=So(o);t.source.links.size?ns(n,t,r,s):s?s.then((()=>t.onLoad(n))):t.onLoad(n),t.source.scripts.size?Ns(n,t):t.onLoad(n)}const Ts=new class{constructor(){this.eventList=new Map,this.queue=[],this.recordStep={},this.process=()=>{var e,t;let n;const r=this.recordStep,a=this.queue;for(this.recordStep={},this.queue=[];n=a.shift();){const a=this.eventList.get(n),o=a.tempData,s=a.force;let i;if(a.tempData=null,a.force=!1,s||!this.isEqual(a.data,o)){a.data=o||a.data;for(const e of a.callbacks){const t=e(a.data);t&&(null!=i?i:i=[]).push(t)}null===(t=(e=r[n]).dispatchDataEvent)||void 0===t||t.call(e),r[n].nextStepList.forEach((e=>e(i)))}}}}isLegalName(e){return!!e||(Ka("event-center: Invalid name"),!1)}enqueue(e,t,n){this.recordStep[e]?(this.recordStep[e].nextStepList.push(t),n&&(this.recordStep[e].dispatchDataEvent=n)):this.recordStep[e]={nextStepList:[t],dispatchDataEvent:n},!this.queue.includes(e)&&1===this.queue.push(e)&&Qa(this.process)}isEqual(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==t[n])return!1;return!0}on(e,t,n=!1){if(this.isLegalName(e)){if(!$a(t))return Ka("event-center: Invalid callback function");let r=this.eventList.get(e);r?n&&Object.keys(r.data).length&&(!this.queue.includes(e)||this.isEqual(r.data,r.tempData))&&t(r.data):(r={data:{},callbacks:new Set},this.eventList.set(e,r)),r.callbacks.add(t)}}off(e,t){if(this.isLegalName(e)){const n=this.eventList.get(e);n&&($a(t)?n.callbacks.delete(t):n.callbacks.clear())}}clearData(e){if(this.isLegalName(e)){const t=this.eventList.get(e);t&&(t.data={})}}dispatch(e,t,n,r,a){if(this.isLegalName(e)){if(!ja(t))return Ka("event-center: data must be object");let o=this.eventList.get(e);o?(o.tempData=Ca({},o.tempData||o.data,t),!o.force&&(o.force=!!r)):(o={data:t,callbacks:new Set},this.eventList.set(e,o),o.force=!0),this.enqueue(e,n,a)}}getData(e){var t;const n=this.eventList.get(e);return null!==(t=null==n?void 0:n.data)&&void 0!==t?t:null}};function xs(e,t){return Wa(e)&&e?t?`__from_base_app_${e}__`:`__from_micro_app_${e}__`:""}class Ws{addGlobalDataListener(e,t){const n=this.appName;n&&(e.__APP_NAME__=n,e.__AUTO_TRIGGER__=t),Ts.on("global",e,t)}removeGlobalDataListener(e){$a(e)&&Ts.off("global",e)}setGlobalData(e,t,n){uo(),Ts.dispatch("global",e,(e=>$a(t)&&t(e)),n)}forceSetGlobalData(e,t){this.setGlobalData(e,t,!0)}getGlobalData(){return Ts.getData("global")}clearGlobalData(){Ts.clearData("global")}clearGlobalDataListener(){const e=this.appName,t=Ts.eventList.get("global");if(t)for(const n of t.callbacks)(e&&e===n.__APP_NAME__||!e&&!n.__APP_NAME__)&&t.callbacks.delete(n)}}class Fs extends Ws{addDataListener(e,t,n){Ts.on(xs(eo(e),!1),t,n)}removeDataListener(e,t){$a(t)&&Ts.off(xs(eo(e),!1),t)}getData(e,t=!1){return Ts.getData(xs(eo(e),t))}setData(e,t,n,r){Ts.dispatch(xs(eo(e),!0),t,(e=>$a(n)&&n(e)),r)}forceSetData(e,t,n){this.setData(e,t,n,!0)}clearData(e,t=!0){Ts.clearData(xs(eo(e),t))}clearDataListener(e){Ts.off(xs(eo(e),!1))}}class Us extends Ws{constructor(e){super(),this.appName=eo(e),!this.appName&&Ka(`Invalid appName ${e}`)}addDataListener(e,t){e.__AUTO_TRIGGER__=t,Ts.on(xs(this.appName,!0),e,t)}removeDataListener(e){$a(e)&&Ts.off(xs(this.appName,!0),e)}getData(e=!0){return Ts.getData(xs(this.appName,e))}dispatch(e,t,n){uo(),Ts.dispatch(xs(this.appName,!1),e,(e=>$a(t)&&t(e)),n,(()=>{const t=Wi.get(this.appName);if((null==t?void 0:t.container)&&ja(e)){const e=new CustomEvent("datachange",{detail:{data:Ts.getData(xs(this.appName,!1))}});go(t.container).dispatchEvent(e)}}))}forceDispatch(e,t){this.dispatch(e,t,!0)}clearData(e=!1){Ts.clearData(xs(this.appName,e))}clearDataListener(){Ts.off(xs(this.appName,!0))}}class $s{constructor(){this.appInstanceMap=Wi}static getInstance(){return this.instance||(this.instance=new $s),this.instance}get(e){return this.appInstanceMap.get(e)}set(e,t){this.appInstanceMap.set(e,t)}getAll(){return Array.from(this.appInstanceMap.values())}clear(){this.appInstanceMap.clear()}}function js(){Hs(),$s.getInstance().getAll().forEach((e=>{e.container&&go(e.container).disconnectedCallback()})),!window.__MICRO_APP_UMD_MODE__&&$s.getInstance().clear()}function Hs(){window.__MICRO_APP_ENVIRONMENT__&&window.removeEventListener("unmount",js,!1)}function Bs(e){return Fa(e.__MICRO_APP_IS_BOUND_FUNCTION__)?e.__MICRO_APP_IS_BOUND_FUNCTION__:e.__MICRO_APP_IS_BOUND_FUNCTION__=$a(t=e)&&0===t.name.indexOf("bound ")&&!t.hasOwnProperty("prototype");var t}function Vs(e,t,n="WINDOW"){const r=`__MICRO_APP_BOUND_${n}_FUNCTION__`;if(t[r])return t[r];if(!function(e){return Fa(e.__MICRO_APP_IS_CONSTRUCTOR__)?e.__MICRO_APP_IS_CONSTRUCTOR__:e.__MICRO_APP_IS_CONSTRUCTOR__=Va(e)}(t)&&!Bs(t)){const n=t.bind(e);for(const e in t)n[e]=t[e];return t.hasOwnProperty("prototype")&&Ma(n,"prototype",{value:t.prototype,configurable:!0,enumerable:!1,writable:!0}),t[r]=n}return t}const Gs=["unmount","appstate-change"];function zs(e,t){var n;return Gs.includes(e)||("popstate"===e||"hashchange"===e)&&(null===(n=Wi.get(t))||void 0===n?void 0:n.useMemoryRouter)?`${e}-${t}`:e}const qs=new Map;let Ks=!1;const Ys=new Map;function Qs(){const{rawDocument:e,rawDocumentAddEventListener:t,rawDocumentRemoveEventListener:n}=vs;!Ks&&function(){if(Ks=!0,Object.getOwnPropertyDescriptor(document,"onclick"))return Ya("Cannot redefine document property onclick");const e=document.onclick;document.onclick=null;let t=!1;function n(e){qs.forEach((t=>{$a(t)&&t.call(document,e)}))}Ma(document,"onclick",{configurable:!0,enumerable:!0,get(){const e=co();return e?qs.get(e):qs.get("base")},set(e){const r=co();r?qs.set(r,e):qs.set("base",e),!t&&$a(e)&&(t=!0,vs.rawDocumentAddEventListener.call(vs.rawDocument,"click",n,!1))}}),e&&(document.onclick=e)}(),document.addEventListener=function(n,r,a){const o=co();if(o){const e=Ys.get(o);if(e){const t=e.get(n);t?t.add(r):e.set(n,new Set([r]))}else Ys.set(o,new Map([[n,new Set([r])]]));r&&(r.__MICRO_APP_MARK_OPTIONS__=a)}t.call(e,n,r,a)},document.removeEventListener=function(t,r,a){const o=co();if(o){const e=Ys.get(o);if(e){const n=e.get(t);(null==n?void 0:n.size)&&n.has(r)&&n.delete(r)}}n.call(e,t,r,a)}}function Xs(e,t){const n=new Map,r=new Map,a=new Map,{rawWindow:o,rawDocument:s,rawWindowAddEventListener:i,rawWindowRemoveEventListener:l,rawSetInterval:c,rawSetTimeout:u,rawClearInterval:p,rawClearTimeout:d,rawDocumentRemoveEventListener:h}=vs;t.addEventListener=function(t,r,a){t=zs(t,e);const s=n.get(t);s?s.add(r):n.set(t,new Set([r])),r&&(r.__MICRO_APP_MARK_OPTIONS__=a),i.call(o,t,r,a)},t.removeEventListener=function(t,r,a){t=zs(t,e);const s=n.get(t);(null==s?void 0:s.size)&&s.has(r)&&s.delete(r),l.call(o,t,r,a)},t.setInterval=function(e,t,...n){const a=c.call(o,e,t,...n);return r.set(a,{handler:e,timeout:t,args:n}),a},t.setTimeout=function(e,t,...n){const r=u.call(o,e,t,...n);return a.set(r,{handler:e,timeout:t,args:n}),r},t.clearInterval=function(e){r.delete(e),p.call(o,e)},t.clearTimeout=function(e){a.delete(e),d.call(o,e)};const f=new Map,m=new Map;let g,v=new Map,b=new Map;return{recordEffect:()=>{n.forEach(((e,t)=>{e.size&&f.set(t,new Set(e))})),r.size&&(v=new Map(r)),a.size&&(b=new Map(a)),g=qs.get(e);const t=Ys.get(e);t&&t.forEach(((e,t)=>{e.size&&m.set(t,new Set(e))}))},rebuildEffect:()=>{f.forEach(((e,n)=>{for(const r of e)t.addEventListener(n,r,null==r?void 0:r.__MICRO_APP_MARK_OPTIONS__)})),v.forEach((e=>{t.setInterval(e.handler,e.timeout,...e.args)})),b.forEach((e=>{t.setTimeout(e.handler,e.timeout,...e.args)})),g&&qs.set(e,g),io(e),m.forEach(((e,t)=>{for(const n of e)document.addEventListener(t,n,null==n?void 0:n.__MICRO_APP_MARK_OPTIONS__)})),uo(),f.clear(),v.clear(),b.clear(),m.clear(),g=null},releaseEffect:()=>{n.size&&(n.forEach(((e,t)=>{for(const n of e)l.call(o,t,n)})),n.clear()),r.size&&(r.forEach(((e,t)=>{p.call(o,t)})),r.clear()),a.size&&(a.forEach(((e,t)=>{d.call(o,t)})),a.clear()),qs.delete(e);const t=Ys.get(e);t&&(t.forEach(((e,t)=>{for(const n of e)h.call(s,t,n)})),t.clear())}}}function Js(e,t){const n=vs.rawWindow.history.state,r={microAppState:Ca({},null==n?void 0:n.microAppState,{[e]:t})};return Ca({},n,r)}function Zs(e){var t,n;return(null===(n=null===(t=vs.rawWindow.history.state)||void 0===t?void 0:t.microAppState)||void 0===n?void 0:n[e])||null}const ei=/&/g,ti=/=/g,ni=/%M1/g,ri=/%M2/g;function ai(e){return encodeURIComponent(si(e).replace(ei,"%M1").replace(ti,"%M2"))}function oi(e){return si(e).replace(ni,"&").replace(ri,"=")}function si(e){try{const t=decodeURIComponent(e);return e===t||ni.test(t)||ri.test(t)?t:si(t)}catch(t){return e}}function ii(e){var t,n;const r=vs.rawWindow.location,a=ci(r.search,r.hash),o=(null===(t=a.hashQuery)||void 0===t?void 0:t[e])||(null===(n=a.searchQuery)||void 0===n?void 0:n[e]);return Wa(o)?oi(o):null}function li(e,t){let{pathname:n,search:r,hash:a}=vs.rawWindow.location;const o=ci(r,a),s=ai(t.pathname+t.search+t.hash);let i=!1;if(a&&!r){i=!0,o.hashQuery?o.hashQuery[e]=s:o.hashQuery={[e]:s};const t=a.includes("?")?a.slice(0,a.indexOf("?")+1):a+"?";a=t+yo(o.hashQuery)}else o.searchQuery?o.searchQuery[e]=s:o.searchQuery={[e]:s},r="?"+yo(o.searchQuery);return{fullPath:n+r+a,isAttach2Hash:i}}function ci(e,t){const n={};return""!==e&&"?"!==e&&(n.searchQuery=_o(e.slice(1))),t.includes("?")&&(n.hashQuery=_o(t.slice(t.indexOf("?")+1))),n}function ui(e){const t=Wi.get(e);return!(!t||t.isPrefetch)}function pi(e){const t=vs.rawWindow,n=t=>{if(Hi({excludeHiddenApp:!0,excludePreRender:!0}).includes(e)&&!t.onlyForBrowser){const t=ii(e),n=Wi.get(e).sandBox.proxyWindow;let r=!1;const a=n.location.href;if(t){const a=n.location.hash;ki(e,t,n.location),r=n.location.hash!==a}!function(e,t){const n=new PopStateEvent(zs("popstate",e),{state:Zs(e)});vs.rawWindow.dispatchEvent(n),$a(t.onpopstate)&&t.onpopstate(n)}(e,n),r&&function(e,t,n){const r=new HashChangeEvent(zs("hashchange",e),{newURL:t.location.href,oldURL:n});vs.rawWindow.dispatchEvent(r),$a(t.onhashchange)&&t.onhashchange(r)}(e,n,a),uo()}};return t.addEventListener("popstate",n),()=>{t.removeEventListener("popstate",n)}}function di(e,t,n){uo(),ui(e)&&(function(e){const t=new PopStateEvent("popstate",{state:null});e&&(t.onlyForBrowser=!0),vs.rawWindow.dispatchEvent(t)}(t),n&&function(e){const t=new HashChangeEvent("hashchange",{newURL:vs.rawWindow.location.href,oldURL:e});vs.rawWindow.dispatchEvent(t)}(n))}function hi(e,t){const n=vs.rawWindow.history;function r(n){return function(...r){if(Wa(r[2])||Ga(r[2])){const a=Xa(r[2],t.href);if(a.origin===t.origin){mi(e,n,li(e,a),!0,Js(e,r[0]),r[1]);const o=a.pathname+a.search+a.hash;return void(o!==t.fullPath&&ki(e,o,t))}}fi(e,n,r[2],r[0],r[1])}}const a=r("pushState"),o=r("replaceState");return new Proxy(n,{get(t,n){if("state"===n)return Zs(e);if("pushState"===n)return a;if("replaceState"===n)return o;const r=Reflect.get(t,n);return $a(r)?Vs(t,r,"HISTORY"):r},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})}function fi(e,t,n,r=null,a=""){if(ui(e)){("pushState"===t?vs.rawPushState:vs.rawReplaceState).call(vs.rawWindow.history,r,a,n)}}function mi(e,t,n,r,a,o){if(ui(e)){const s=vs.rawWindow.location,i=s.pathname+s.search+s.hash,l=n.isAttach2Hash&&i!==n.fullPath?s.href:null;fi(e,t,n.fullPath,a,o),i!==n.fullPath&&di(e,r,l)}}function gi(e,t,n){mi(e,"replaceState",t,!0,n)}function vi(e){const t=vs.rawWindow;return function(...n){var r;if((null===(r=t.history.state)||void 0===r?void 0:r.microAppState)&&(!ja(n[0])||!n[0].microAppState)&&(Wa(n[2])||Ga(n[2]))){const e=t.location.href;Xa(n[2],e).href===e&&(n[0]=Ca({},n[0],{microAppState:t.history.state.microAppState}))}e.apply(t.history,n),Hi({excludeHiddenApp:!0,excludePreRender:!0}).forEach((e=>{const t=Wi.get(e);t.sandBox&&t.useMemoryRouter&&!ii(e)&&gi(e,li(e,t.sandBox.proxyWindow.location),Js(e,Zs(e)))})),uo()}}const{router:bi,executeNavigationGuard:_i,clearRouterWhenUnmount:yi}=function(){function e(e,t,n,r){mi(e,t,li(e,n),!1,Js(e,null!=r?r:null)),uo()}function t(t){return function(n){const r=eo(n.name);if(r&&Wa(n.path)){const a=Wi.get(r);if(a&&(!a.sandBox||!a.useMemoryRouter))return Ka(`navigation failed, memory router of app ${r} is closed`);if(Hi({excludePreRender:!0}).includes(r)){const o=a.sandBox.proxyWindow.location,s=Xa(n.path,o.href),i=s.pathname+s.search+s.hash;if(o.fullPath!==i||ii(r)!==i){e(r,t&&!1!==n.replace||!0===n.replace?"replaceState":"pushState",s,n.state)}}else{const t=vs.rawWindow.location,a=Xa(n.path,t.origin),o=a.pathname+a.search+a.hash;ii(r)!==o&&e(r,!1===n.replace?"pushState":"replaceState",a,n.state)}}else Ka("navigation failed, name & path are required when use router."+(t?"replace":"push"))}}function n(e){return function(...t){return vs.rawWindow.history[e](...t)}}const r=wo(),a=wo();function o(e,t,n,r){uo();for(const a of r)$a(a)?a(t,n,e):ja(a)&&$a(a[e])&&a[e](t,n)}function s(e){const t=Wi.get(e);t.sandBox&&t.useMemoryRouter&&gi(e,li(e,t.sandBox.proxyWindow.location),Js(e,Zs(e)))}const i=Object.assign(Object.assign({current:new Map,encode:ai,decode:oi,push:t(!1),replace:t(!0),go:n("go"),back:n("back"),forward:n("forward"),beforeEach:r.add,afterEach:a.add,attachToURL:function(e){(e=eo(e))&&Hi().includes(e)&&s(e)},attachAllToURL:function({includeHiddenApp:e=!1,includePreRender:t=!1}){Hi({excludeHiddenApp:!e,excludePreRender:!t}).forEach((e=>s(e)))}},function(){const e=function(){const e=new Map;return{add:function(t,n){return e.set(t,n),()=>!!e.has(t)&&e.delete(t)},get:t=>e.get(t),delete:t=>!!e.has(t)&&e.delete(t)}}();return{setDefaultPage:function(t){const n=eo(t.name);return n&&t.path?e.add(n,t.path):Na},removeDefaultPage:function(t){return!!(t=eo(t))&&e.delete(t)},getDefaultPage:e.get}}()),function(){let e=null;return{setBaseAppRouter:function(t){Ha(t)&&(e=new Proxy(t,{get(e,t){uo();const n=Reflect.get(e,t);return $a(n)?Vs(e,n,"BASEROUTER"):n},set:(e,t,n)=>(Reflect.set(e,t,n),!0)}))},getBaseAppRouter:()=>e}}());return{router:i,executeNavigationGuard:function(e,t,n){i.current.set(e,t),o(e,t,n,r.list()),ao((()=>{o(e,t,n,a.list())}))},clearRouterWhenUnmount:function(e){i.current.delete(e)}}}(),wi=["href","pathname","search","hash"],Ei=[...wi,"host","hostname","port","protocol","search"],Ai=[...Ei,"origin","fullPath"];function Si(e,t){const n=Ca({name:e},t);for(const r of Ai)n[r]=t[r];return n}function ki(e,t,n,r){const a=Xa(t,n.href),o=Si(e,n);for(const i of Ei)wi.includes(i)?n.shadowLocation[i]=a[i]:n[i]=a[i];const s=Si(e,n);("auto"===r||o.fullPath!==s.fullPath&&"prevent"!==r)&&_i(e,s,o)}function Ri(e,t){const n=function(e,t){const n=vs.rawWindow.location,r=Xa(t),a={href:r.href,pathname:r.pathname,search:r.search,hash:r.hash},o=(t,o)=>{const s=Xa(t,r.href);if(s.origin===r.origin){const r=li(e,s);if(s.pathname===a.pathname&&s.search===a.search){let t=null;return s.hash!==a.hash&&(r.isAttach2Hash&&(t=n.href),fi(e,o,r.fullPath)),void(s.hash?di(e,!1,t):l())}if(r.isAttach2Hash)return fi(e,o,r.fullPath),void l();t=r.fullPath}return t};function s(e,t){return{enumerable:!0,configurable:!0,get:e,set:t}}function i(n,r){const o=Xa(n,t);o[r]===a[r]&&a.hash?di(e,!1):(fi(e,o[r]===a[r]?"replaceState":"pushState",li(e,o).fullPath),l())}function l(){ui(e)&&n.reload()}Ia(r,{href:s((()=>a.href),(t=>{if(ui(e)){const e=o(t,"pushState");e&&(n.href=e)}})),pathname:s((()=>a.pathname),(e=>{i(("/"+e).replace(/^\/+/,"/")+a.search+a.hash,"pathname")})),search:s((()=>a.search),(e=>{i(a.pathname+("?"+e).replace(/^\?+/,"?")+a.hash,"search")})),hash:s((()=>a.hash),(n=>{const r=a.pathname+a.search+("#"+n).replace(/^#+/,"#"),o=Xa(r,t);o.hash!==a.hash&&mi(e,"pushState",li(e,o),!1)})),fullPath:s((()=>a.pathname+a.search+a.hash),La)});const c=t=>function(r){if(ui(e)){const e=o(r,"assign"===t?"pushState":"replaceState");e&&n[t](e)}};return Ca(r,{assign:c("assign"),replace:c("replace"),reload:e=>n.reload(e),shadowLocation:a})}(e,t);return{microLocation:n,microHistory:hi(e,n)}}function Pi(e,t,n){n&&ki(e,n,t,"prevent"),gi(e,li(e,t),Js(e,null)),function(e,t){_i(e,Si(e,t),Si(e,t))}(e,t)}function Li(e){gi(e,function(e,t){var n,r,a,o;let{pathname:s,search:i,hash:l}=t||vs.rawWindow.location;const c=ci(i,l);let u=!1;if(null===(n=c.hashQuery)||void 0===n?void 0:n[e]){u=!0,null===(r=c.hashQuery)||void 0===r||delete r[e];const t=yo(c.hashQuery);l=l.slice(0,l.indexOf("?")+Number(Boolean(t)))+t}else if(null===(a=c.searchQuery)||void 0===a?void 0:a[e]){null===(o=c.searchQuery)||void 0===o||delete o[e];const t=yo(c.searchQuery);i=t?"?"+t:""}return{fullPath:s+i+l,isAttach2Hash:u}}(e),function(e,t){return ja(null==t?void 0:t.microAppState)&&(Ta(t.microAppState[e])||delete t.microAppState[e],Object.keys(t.microAppState).length||delete t.microAppState),Ca({},t)}(e,vs.rawWindow.history.state))}function Ni(e,t){const n=Ta(t)?vs.rawWindow.fetch:t;return $a(n)?function(t,r,...a){return(Wa(t)||Ga(t))&&(t=Xa(t,e).toString()),uo(),n.call(vs.rawWindow,t,r,...a)}:n}function Oi(e,t){const n=Ta(t)?vs.rawWindow.XMLHttpRequest:t;return Va(n)?class extends n{open(t,n,...r){(Wa(n)&&!/^f(ile|tp):\/\//.test(n)||Ga(n))&&(n=Xa(n,e).toString()),uo(),super.open(t,n,...r)}}:n}const{createMicroEventSource:Ci,clearMicroEventSource:Mi}=function(){let e;return{createMicroEventSource:function(t,n,r){const a=Ta(r)?vs.rawWindow.EventSource:r;return Va(a)?class extends a{constructor(r,a,...o){if((Wa(r)||Ga(r))&&(r=Xa(r,n).toString()),uo(),super(r,a,...o),e){const n=e.get(t);n?n.add(this):e.set(t,new Set([this]))}else e=new Map([[t,new Set([this])]])}close(){var n;super.close(),null===(n=e.get(t))||void 0===n||n.delete(this)}}:a},clearMicroEventSource:function(t){const n=null==e?void 0:e.get(t);(null==n?void 0:n.size)&&(n.forEach((e=>{e.close()})),n.clear())}}}(),Ii=["window","self","globalThis"];class Di{constructor(e,t){this.scopeProperties=[],this.escapeProperties=[],this.injectedKeys=new Set,this.escapeKeys=new Set,this.active=!1,this.microAppWindow={},this.adapter=new as,this.getSpecialProperties(e),this.proxyWindow=this.createProxyWindow(e),this.effectController=Xs(e,this.microAppWindow),this.initStaticGlobalKeys(this.microAppWindow,e,t)}start({umdMode:e,baseroute:t,useMemoryRouter:n,defaultPage:r,disablePatchRequest:a}){this.active||(this.active=!0,n?(Ta(this.microAppWindow.location)&&this.setMicroAppRouter(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__),this.initRouteState(r),this.removeHistoryListener=pi(this.microAppWindow.__MICRO_APP_NAME__)):this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=t,e||this.initGlobalKeysWhenStart(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,a),1==++Di.activeCount&&(Qs(),ds(),window.__MICRO_APP_ENVIRONMENT__&&(Hs(),window.addEventListener("unmount",js,!1)),function(){const e=vs.rawWindow;e.history.pushState=vi(vs.rawPushState),e.history.replaceState=vi(vs.rawReplaceState)}()),vs.rawWindow._babelPolyfill&&(vs.rawWindow._babelPolyfill=!1))}stop({umdMode:e,keepRouteState:t,clearEventSource:n,clearData:r}){this.active&&(this.releaseGlobalEffect(r),this.removeHistoryListener&&(this.clearRouteState(t),this.removeHistoryListener()),n&&Mi(this.microAppWindow.__MICRO_APP_NAME__),e||(this.injectedKeys.forEach((e=>{Reflect.deleteProperty(this.microAppWindow,e)})),this.injectedKeys.clear(),this.escapeKeys.forEach((e=>{Reflect.deleteProperty(vs.rawWindow,e)})),this.escapeKeys.clear()),0==--Di.activeCount&&(document.addEventListener=vs.rawDocumentAddEventListener,document.removeEventListener=vs.rawDocumentRemoveEventListener,ms(),function(){const e=vs.rawWindow;e.history.pushState=vs.rawPushState,e.history.replaceState=vs.rawReplaceState}()),this.active=!1)}releaseGlobalEffect(e=!1){this.effectController.releaseEffect(),this.microAppWindow.microApp.clearDataListener(),this.microAppWindow.microApp.clearGlobalDataListener(),e&&(Ki.clearData(this.microAppWindow.__MICRO_APP_NAME__),this.microAppWindow.microApp.clearData())}recordEffectSnapshot(){this.effectController.recordEffect(),function(e){const t=e.appName;e.umdDataListeners={global:new Set,normal:new Set};const n=Ts.eventList.get("global");if(n)for(const a of n.callbacks)t===a.__APP_NAME__&&e.umdDataListeners.global.add(a);const r=Ts.eventList.get(xs(t,!0));r&&(e.umdDataListeners.normal=new Set(r.callbacks))}(this.microAppWindow.microApp)}rebuildEffectSnapshot(){this.effectController.rebuildEffect(),function(e){for(const t of e.umdDataListeners.global)e.addGlobalDataListener(t,t.__AUTO_TRIGGER__);for(const t of e.umdDataListeners.normal)e.addDataListener(t,t.__AUTO_TRIGGER__)}(this.microAppWindow.microApp)}setPreRenderState(e){this.microAppWindow.__MICRO_APP_PRE_RENDER__=e}getSpecialProperties(e){var t;this.scopeProperties=this.scopeProperties.concat(this.adapter.staticScopeProperties),ja(Ki.options.plugins)&&(this.commonActionForSpecialProperties(Ki.options.plugins.global),this.commonActionForSpecialProperties(null===(t=Ki.options.plugins.modules)||void 0===t?void 0:t[e]))}commonActionForSpecialProperties(e){if(Oa(e))for(const t of e)ja(t)&&(Oa(t.scopeProperties)&&(this.scopeProperties=this.scopeProperties.concat(t.scopeProperties)),Oa(t.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(t.escapeProperties)))}createProxyWindow(e){const t=vs.rawWindow,n=new Map;return new Proxy(this.microAppWindow,{get:(n,r)=>{if(lo(e),Reflect.has(n,r)||Wa(r)&&/^__MICRO_APP_/.test(r)||this.scopeProperties.includes(r))return Reflect.get(n,r);const a=Reflect.get(t,r);return $a(a)?Vs(t,a):a},set:(e,n,r)=>{if(this.active){if(this.adapter.escapeSetterKeyList.includes(n))Reflect.set(t,n,r);else if(Da.call(e,n)||!Da.call(t,n)||this.scopeProperties.includes(n))Reflect.set(e,n,r),this.injectedKeys.add(n);else{const a=Object.getOwnPropertyDescriptor(t,n),{configurable:o,enumerable:s,writable:i,set:l}=a;Ma(e,n,{value:r,configurable:o,enumerable:s,writable:null!=i?i:!!l}),this.injectedKeys.add(n)}(this.escapeProperties.includes(n)||this.adapter.staticEscapeProperties.includes(n)&&!Reflect.has(t,n))&&!this.scopeProperties.includes(n)&&(Reflect.set(t,n,r),this.escapeKeys.add(n))}return!0},has:(e,n)=>this.scopeProperties.includes(n)?n in e:n in e||n in t,getOwnPropertyDescriptor:(e,r)=>{if(Da.call(e,r))return n.set(r,"target"),Object.getOwnPropertyDescriptor(e,r);if(Da.call(t,r)){n.set(r,"rawWindow");const e=Object.getOwnPropertyDescriptor(t,r);return e&&!e.configurable&&(e.configurable=!0),e}},defineProperty:(e,r,a)=>"rawWindow"===n.get(r)?Reflect.defineProperty(t,r,a):Reflect.defineProperty(e,r,a),ownKeys:e=>Reflect.ownKeys(t).concat(Reflect.ownKeys(e)).filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null)),deleteProperty:(e,n)=>!Da.call(e,n)||(this.injectedKeys.has(n)&&this.injectedKeys.delete(n),this.escapeKeys.has(n)&&Reflect.deleteProperty(t,n),Reflect.deleteProperty(e,n))})}initStaticGlobalKeys(e,t,n){e.__MICRO_APP_ENVIRONMENT__=!0,e.__MICRO_APP_NAME__=t,e.__MICRO_APP_URL__=n,e.__MICRO_APP_PUBLIC_PATH__=to(n),e.__MICRO_APP_WINDOW__=e,e.__MICRO_APP_PRE_RENDER__=!1,e.rawWindow=vs.rawWindow,e.rawDocument=vs.rawDocument,e.microApp=Ca(new Us(t),{removeDomScope:uo,pureCreateElement:po,router:bi}),this.setProxyDocument(e,t),this.setMappingPropertiesWithRawDescriptor(e)}setProxyDocument(e,t){const{proxyDocument:n,MicroDocument:r}=this.createProxyDocument(t);Ia(e,{document:{configurable:!1,enumerable:!0,get:()=>n},Document:{configurable:!1,enumerable:!1,get:()=>r}})}setMappingPropertiesWithRawDescriptor(e){let t,n;const r=vs.rawWindow;r===r.parent?t=n=this.proxyWindow:(t=r.top,n=r.parent),Ma(e,"top",this.createDescriptorForMicroAppWindow("top",t)),Ma(e,"parent",this.createDescriptorForMicroAppWindow("parent",n)),Ii.forEach((t=>{Ma(e,t,this.createDescriptorForMicroAppWindow(t,this.proxyWindow))}))}createDescriptorForMicroAppWindow(e,t){const{configurable:n=!0,enumerable:r=!0,writable:a,set:o}=Object.getOwnPropertyDescriptor(vs.rawWindow,e)||{writable:!0};return{value:t,configurable:n,enumerable:r,writable:null!=a?a:!!o}}initGlobalKeysWhenStart(e,t,n,r){e.hasOwnProperty=t=>Da.call(e,t)||Da.call(vs.rawWindow,t),this.setHijackProperty(e,t),r||this.patchRequestApi(e,t,n),this.setScopeProperties(e)}setHijackProperty(e,t){let n,r;Ia(e,{eval:{configurable:!0,enumerable:!1,get:()=>(lo(t),n||eval),set:e=>{n=e}},Image:{configurable:!0,enumerable:!1,get:()=>(lo(t),r||vs.ImageProxy),set:e=>{r=e}}})}patchRequestApi(e,t,n){let r=Ni(n),a=Oi(n),o=Ci(t,n);Ia(e,{fetch:{configurable:!0,enumerable:!0,get:()=>r,set(e){r=Ni(n,e)}},XMLHttpRequest:{configurable:!0,enumerable:!0,get:()=>a,set(e){a=Oi(n,e)}},EventSource:{configurable:!0,enumerable:!0,get:()=>o,set(e){o=Ci(t,n,e)}}})}setScopeProperties(e){this.scopeProperties.forEach((t=>{Reflect.set(e,t,e[t])}))}setMicroAppRouter(e,t,n){const{microLocation:r,microHistory:a}=Ri(t,n);Ia(e,{location:{configurable:!1,enumerable:!0,get:()=>r,set:e=>{vs.rawWindow.location=e}},history:{configurable:!0,enumerable:!0,get:()=>a}})}initRouteState(e){!function(e,t,n){const r=ii(e);r?ki(e,r,t,"auto"):Pi(e,t,n)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location,e)}clearRouteState(e){!function(e,t,n,r){if(!r){const{pathname:r,search:a,hash:o}=Xa(t);ki(e,r+a+o,n,"prevent")}Li(e),yi(e)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.__MICRO_APP_URL__,this.proxyWindow.location,e)}setRouteInfoForKeepAliveApp(){Pi(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location)}removeRouteInfoForKeepAliveApp(){Li(this.proxyWindow.__MICRO_APP_NAME__)}createProxyDocument(e){const t=vs.rawDocument,n=vs.rawRootDocument,r=function(n,r){const a=vs.rawCreateElement.call(t,n,r);return a.__MICRO_APP_NAME__=e,a},a=new Proxy(t,{get:(n,o)=>{if(lo(e),function(e){const t=vs.rawDocument.firstElementChild;(null==t?void 0:t.parentNode)===vs.rawDocument&&(os(t,e),Qa((()=>{os(t,vs.rawDocument)})))}(a),"createElement"===o)return r;if(o===Symbol.toStringTag)return"ProxyDocument";if("defaultView"===o)return this.proxyWindow;const s=Reflect.get(n,o);return $a(s)?Vs(t,s,"DOCUMENT"):s},set:(e,t,n)=>(Reflect.set(e,t,n),!0)});class o{static[Symbol.hasInstance](e){let t=e;for(;t=Object.getPrototypeOf(t);)if(t===o.prototype)return!0;return e===a||e instanceof n}}return Object.setPrototypeOf(o,n),Object.setPrototypeOf(o.prototype,new Proxy(n.prototype,{get(n,r){lo(e);const a=Reflect.get(n,r);return $a(a)?Vs(t,a,"DOCUMENT"):a},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})),{proxyDocument:a,MicroDocument:o}}}function Ti(e,t,n,r){var a;if(!e)return Ka(`element does not exist in lifecycle ${n}`,t);e=go(e),uo();const o=Ca({name:t,container:e},r&&{error:r}),s=new CustomEvent(n,{detail:o});!function(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},target:{get:()=>t}})}(s,e),$a(null===(a=Ki.options.lifeCycles)||void 0===a?void 0:a[n])&&Ki.options.lifeCycles[n](s),e.dispatchEvent(s)}function xi(e,t,n={}){const r=new CustomEvent(zs(e,t),{detail:n});window.dispatchEvent(r)}Di.activeCount=0;const Wi=new Map;class Fi{constructor({name:e,url:t,container:n,scopecss:r,useSandbox:a,inline:o,esmodule:s,ssrUrl:i,isPrefetch:l,prefetchLevel:c}){this.state=No.CREATED,this.keepAliveState=null,this.keepAliveContainer=null,this.loadSourceLevel=0,this.umdHookMount=null,this.umdHookUnmount=null,this.libraryName=null,this.umdMode=!1,this.sandBox=null,this.fiber=!1,this.useMemoryRouter=!0,this.name=e,this.url=t,this.useSandbox=a,this.scopecss=this.useSandbox&&r,this.inline=null!=o&&o,this.esmodule=null!=s&&s,this.container=null!=n?n:null,this.ssrUrl=null!=i?i:"",this.isPrefetch=null!=l&&l,this.isPrerender=3===c,this.prefetchLevel=c,Wi.set(this.name,this),this.source={html:null,links:new Set,scripts:new Set},this.loadSourceCode(),this.useSandbox&&(this.sandBox=new Di(e,t))}loadSourceCode(){this.state=No.LOADING,Ho.getInstance().run(this,Ds)}onLoad(e,t,n){var r;if(2==++this.loadSourceLevel)if(this.source.html=e,this.state=No.LOADED,this.isPrefetch||No.UNMOUNT===this.state){if(this.isPrerender){const e=po("div");e.setAttribute("prerender","true"),null===(r=this.sandBox)||void 0===r||r.setPreRenderState(!0),this.mount({container:e,inline:this.inline,useMemoryRouter:!0,baseroute:"",fiber:!0,esmodule:this.esmodule,defaultPage:null!=t?t:"",disablePatchRequest:null!=n&&n})}}else go(this.container).mount(this)}onLoadError(e){this.loadSourceLevel=-1,No.UNMOUNT!==this.state&&(this.onerror(e),this.state=No.LOAD_FAILED)}mount({container:e,inline:t,useMemoryRouter:n,defaultPage:r,baseroute:a,disablePatchRequest:o,fiber:s,esmodule:i}){var l,c,u,p,d,h;if(2!==this.loadSourceLevel)return this.container=e,this.isPrerender=!1,void(this.state=No.LOADING);if(this.container instanceof HTMLDivElement&&this.container.hasAttribute("prerender"))return null===(l=this.sandBox)||void 0===l||l.rebuildEffectSnapshot(),ho(this.container,e,!1),this.container=e,null===(c=this.preRenderEvent)||void 0===c||c.forEach((e=>e())),this.isPrerender=!1,this.preRenderEvent=void 0,bi.attachToURL(this.name),null===(u=this.sandBox)||void 0===u?void 0:u.setPreRenderState(!1);this.container=e,this.inline=t,this.esmodule=i,this.fiber=s,this.useMemoryRouter=n;const f=()=>{Ti(this.container,this.name,Co.BEFOREMOUNT)};let m;if(this.isPrerender?(null!==(p=this.preRenderEvent)&&void 0!==p?p:this.preRenderEvent=[]).push(f):f(),this.state=No.MOUNTING,ho(this.source.html,this.container,!this.umdMode),null===(d=this.sandBox)||void 0===d||d.start({umdMode:this.umdMode,baseroute:a,useMemoryRouter:n,defaultPage:r,disablePatchRequest:o}),this.umdMode){null===(h=this.sandBox)||void 0===h||h.rebuildEffectSnapshot();try{m=this.umdHookMount()}catch(g){Ka("an error occurred in the mount function \n",this.name)}this.handleMounted(m)}else{let e=!1;!function(e,t){const n=e.fiber?[]:null,r=Array.from(e.source.scripts),a=[],o=[];for(const s of r){const r=es.script.getInfo(s),i=r.appSpace[e.name];i.defer||i.async?(r.isExternal&&!r.code?a.push(jo(s,e.name)):a.push(r.code),o.push([s,r]),ys(e,r)&&(t.moduleCount=t.moduleCount?++t.moduleCount:1)):Ao(n,(()=>{Os(s,e,r),t(!1)}))}a.length?ro(a,(e=>{const t=o[e.index][1];t.code=t.code||e.data}),(n=>{t.errorCount=t.errorCount?++t.errorCount:1,Ka(n,e.name)}),(()=>{o.forEach((([r,a])=>{a.code&&Ao(n,(()=>{Os(r,e,a,t),!ys(e,a)&&t(!1)}))})),n?(n.push((()=>Promise.resolve(t(Ta(t.moduleCount)||t.errorCount===a.length)))),So(n)):t(Ta(t.moduleCount)||t.errorCount===a.length)})):n?(n.push((()=>Promise.resolve(t(!0)))),So(n)):t(!0)}(this,(t=>{var n;if(!this.umdMode){const{mount:e,unmount:t}=this.getUmdLibraryHooks();if(this.umdHookUnmount=t,$a(e)&&$a(t)){this.umdHookMount=e,this.umdMode=!0,this.sandBox&&(this.sandBox.proxyWindow.__MICRO_APP_UMD_MODE__=!0);try{m=this.umdHookMount(Ki.getData(this.name,!0))}catch(g){Ka("an error occurred in the mount function \n",this.name)}}}if(!e&&(!0===t||this.umdMode)){e=!0;const t=()=>this.handleMounted(m);this.isPrerender?((null!==(n=this.preRenderEvent)&&void 0!==n?n:this.preRenderEvent=[]).push(t),this.recordAndReleaseEffect()):t()}}))}}handleMounted(e){Ba(e)?e.then((()=>this.dispatchMountedEvent())).catch((e=>this.onerror(e))):this.dispatchMountedEvent()}dispatchMountedEvent(){No.UNMOUNT!==this.state&&(this.state=No.MOUNTED,Ro(this.getGlobalEventListener(Io.ONMOUNT),this.name,`window.${Io.ONMOUNT}`,Ki.getData(this.name,!0)),Ti(this.container,this.name,Co.MOUNTED))}unmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){let a;if(this.state===No.LOAD_FAILED&&(e=!0),this.state=No.UNMOUNT,this.keepAliveState=null,this.keepAliveContainer=null,$a(this.umdHookUnmount))try{a=this.umdHookUnmount(Ki.getData(this.name,!0))}catch(o){Ka("an error occurred in the unmount function \n",this.name)}Ro(this.getGlobalEventListener(Io.ONUNMOUNT),this.name,`window.${Io.ONUNMOUNT}`),xi("unmount",this.name),this.handleUnmounted(e,t,n,a,r)}handleUnmounted(e,t,n,r,a){const o={destroy:e,clearData:t,keepRouteState:n,unmountcb:a};Ba(r)?r.then((()=>this.actionsForUnmount(o))).catch((()=>this.actionsForUnmount(o))):this.actionsForUnmount(o)}actionsForUnmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){var a,o;e?this.actionsForCompletelyDestroy():this.umdMode&&this.container.childElementCount&&ho(this.container,this.source.html,!1),this.umdMode&&(null===(a=this.sandBox)||void 0===a||a.recordEffectSnapshot()),null===(o=this.sandBox)||void 0===o||o.stop({umdMode:this.umdMode,keepRouteState:n&&!e,clearEventSource:!this.umdMode||e,clearData:t||e}),Hi().length||(fs=!1,Element.prototype.setAttribute=vs.rawSetAttribute),Ti(this.container,this.name,Co.UNMOUNT),this.resetConfig(),r&&r()}resetConfig(){this.container.innerHTML="",this.container=null,this.isPrerender=!1,this.preRenderEvent=void 0}actionsForCompletelyDestroy(){!this.useSandbox&&this.umdMode&&delete window[this.libraryName],es.script.deleteInlineInfo(this.source.scripts),Wi.delete(this.name)}hiddenKeepAliveApp(e){var t;const n=this.container;ho(this.container,this.keepAliveContainer?this.keepAliveContainer:this.keepAliveContainer=document.createElement("div"),!1),this.container=this.keepAliveContainer,this.keepAliveState=To.KEEP_ALIVE_HIDDEN,xi("appstate-change",this.name,{appState:"afterhidden"}),Ti(n,this.name,Co.AFTERHIDDEN),this.useMemoryRouter&&(null===(t=this.sandBox)||void 0===t||t.removeRouteInfoForKeepAliveApp()),this.recordAndReleaseEffect(),e&&e()}showKeepAliveApp(e){var t,n;null===(t=this.sandBox)||void 0===t||t.rebuildEffectSnapshot(),xi("appstate-change",this.name,{appState:"beforeshow"}),Ti(e,this.name,Co.BEFORESHOW),ho(this.container,e,!1),this.container=e,this.keepAliveState=To.KEEP_ALIVE_SHOW,this.useMemoryRouter&&(null===(n=this.sandBox)||void 0===n||n.setRouteInfoForKeepAliveApp()),xi("appstate-change",this.name,{appState:"aftershow"}),Ti(this.container,this.name,Co.AFTERSHOW)}onerror(e){Ti(this.container,this.name,Co.ERROR,e)}getAppState(){return this.state}getKeepAliveState(){return this.keepAliveState}getUmdLibraryHooks(){var e,t,n,r;if(No.UNMOUNT!==this.state){const a=null!==(t=null===(e=this.sandBox)||void 0===e?void 0:e.proxyWindow)&&void 0!==t?t:vs.rawWindow;return this.libraryName=go(this.container).getAttribute("library")||`micro-app-${this.name}`,Ha(a[this.libraryName])?a[this.libraryName]:{mount:null===(n=this.sandBox)||void 0===n?void 0:n.proxyWindow.mount,unmount:null===(r=this.sandBox)||void 0===r?void 0:r.proxyWindow.unmount}}return{}}getGlobalEventListener(e){var t;const n=null===(t=this.sandBox)||void 0===t?void 0:t.proxyWindow[e];return $a(n)?n:null}recordAndReleaseEffect(){var e,t;null===(e=this.sandBox)||void 0===e||e.recordEffectSnapshot(),null===(t=this.sandBox)||void 0===t||t.releaseGlobalEffect()}querySelector(e){const t=this.container;return t?vs.rawElementQuerySelector.call(t,e):null}querySelectorAll(e){const t=this.container;return t?vs.rawElementQuerySelectorAll.call(t,e):[]}}function Ui(e){class t extends HTMLElement{constructor(){super(),this.isWaiting=!1,this.cacheData=null,this.connectedCount=0,this.connectStateMap=new Map,this.appName="",this.appUrl="",this.ssrUrl="",this.version="1.0.0-alpha.10",this.handleAttributeUpdate=()=>{if(this.isWaiting=!1,!this.connectStateMap.get(this.connectedCount))return;const e=eo(this.getAttribute("name")),t=Za(this.getAttribute("url"),this.appName);if(this.legalAttribute("name",e)&&this.legalAttribute("url",t)){const n=Wi.get(e);if(e!==this.appName&&n&&No.UNMOUNT!==n.getAppState()&&To.KEEP_ALIVE_HIDDEN!==n.getKeepAliveState()&&!n.isPrefetch)return this.setAttribute("name",this.appName),Ka(`app name conflict, an app named ${e} is running`);e===this.appName&&t===this.appUrl||(e===this.appName?this.handleUnmount(!0,(()=>{this.actionsForAttributeChange(e,t,n)})):this.getKeepAliveModeResult()?(this.handleHiddenKeepAliveApp(),this.actionsForAttributeChange(e,t,n)):this.handleUnmount(this.getDestroyCompatibleResult(),(()=>{this.actionsForAttributeChange(e,t,n)})))}else e!==this.appName&&this.setAttribute("name",this.appName)},fs||(fs=!0,Element.prototype.setAttribute=function(e,t){if(/^micro-app(-\S+)?/i.test(this.tagName)&&"data"===e)if(ja(t)){const e={};Object.getOwnPropertyNames(t).forEach((n=>{Wa(n)&&0===n.indexOf("__")||(e[n]=t[n])})),this.data=e}else"[object Object]"!==t&&Ya("property data must be an object",this.getAttribute("name"));else{const n=this.__MICRO_APP_NAME__||co();if(n&&Wi.has(n)&&(("src"===e||"srcset"===e)&&/^(img|script)$/i.test(this.tagName)||"href"===e&&/^link$/i.test(this.tagName))){const e=Wi.get(n);t=no(t,e.url)}vs.rawSetAttribute.call(this,e,t)}})}static get observedAttributes(){return["name","url"]}connectedCallback(){const e=++this.connectedCount;this.connectStateMap.set(e,!0);const t=this.appName&&this.appUrl;Qa((()=>{this.connectStateMap.get(e)&&(Ti(this,this.appName,Co.CREATED),t&&this.handleConnected())}))}disconnectedCallback(){this.connectStateMap.set(this.connectedCount,!1),this.handleDisconnected()}reload(e){return new Promise((t=>{const n=()=>{this.removeEventListener(Co.MOUNTED,n),this.removeEventListener(Co.AFTERSHOW,n),t(!0)};this.addEventListener(Co.MOUNTED,n),this.addEventListener(Co.AFTERSHOW,n),this.handleDisconnected(e,(()=>{this.handleConnected()}))}))}handleDisconnected(e=!1,t){const n=Wi.get(this.appName);n&&n.getAppState()!==No.UNMOUNT&&n.getKeepAliveState()!==To.KEEP_ALIVE_HIDDEN&&(this.getKeepAliveModeResult()&&!e?this.handleHiddenKeepAliveApp(t):this.handleUnmount(e||this.getDestroyCompatibleResult(),t))}attributeChangedCallback(e,t,n){if(this.legalAttribute(e,n)&&this[e===Po.NAME?"appName":"appUrl"]!==n)if(e!==Po.URL||this.appUrl)if(e!==Po.NAME||this.appName)this.isWaiting||(this.isWaiting=!0,Qa(this.handleAttributeUpdate));else{const e=eo(n);if(!e)return Ka(`Invalid attribute name ${n}`,this.appName);this.cacheData&&(Ki.setData(e,this.cacheData),this.cacheData=null),this.appName=e,e!==n&&this.setAttribute("name",this.appName),this.handleInitialNameAndUrl()}else{if(!(n=Za(n,this.appName)))return Ka(`Invalid attribute url ${n}`,this.appName);this.appUrl=n,this.handleInitialNameAndUrl()}}handleInitialNameAndUrl(){this.connectStateMap.get(this.connectedCount)&&this.handleConnected()}handleConnected(){if(this.appName&&this.appUrl)if(this.getDisposeResult("shadowDOM")&&!this.shadowRoot&&$a(this.attachShadow)&&this.attachShadow({mode:"open"}),this.updateSsrUrl(this.appUrl),Wi.has(this.appName)){const e=Wi.get(this.appName),t=e.ssrUrl||e.url,n=this.ssrUrl||this.appUrl;e.getKeepAliveState()===To.KEEP_ALIVE_HIDDEN&&e.url===this.appUrl?this.handleShowKeepAliveApp(e):t===n&&(e.getAppState()===No.UNMOUNT||e.isPrefetch&&e.scopecss===this.isScopecss()&&e.useSandbox===this.isSandbox())?this.handleAppMount(e):e.isPrefetch||e.getAppState()===No.UNMOUNT?this.handleCreateApp():Ka(`app name conflict, an app named: ${this.appName} with url: ${t} is running`)}else this.handleCreateApp()}actionsForAttributeChange(e,t,n){var r;this.updateSsrUrl(t),this.appName=e,this.appUrl=t,(null!==(r=this.shadowRoot)&&void 0!==r?r:this).innerHTML="",e!==this.getAttribute("name")&&this.setAttribute("name",this.appName),n?n.getKeepAliveState()===To.KEEP_ALIVE_HIDDEN?n.url===this.appUrl?this.handleShowKeepAliveApp(n):Ka(`app name conflict, an app named ${this.appName} is running`):n.url===this.appUrl&&n.ssrUrl===this.ssrUrl?this.handleAppMount(n):this.handleCreateApp():this.handleCreateApp()}legalAttribute(e,t){return!(!Wa(t)||!t)||(Ka(`unexpected attribute ${e}, please check again`,this.appName),!1)}handleCreateApp(){var e;Wi.has(this.appName)&&Wi.get(this.appName).actionsForCompletelyDestroy(),new Fi({name:this.appName,url:this.appUrl,scopecss:this.isScopecss(),useSandbox:this.isSandbox(),inline:this.getDisposeResult("inline"),esmodule:this.getDisposeResult("esmodule"),container:null!==(e=this.shadowRoot)&&void 0!==e?e:this,ssrUrl:this.ssrUrl})}handleAppMount(e){e.isPrefetch=!1,Qa((()=>this.mount(e)))}mount(e){var t;e.mount({container:null!==(t=this.shadowRoot)&&void 0!==t?t:this,inline:this.getDisposeResult("inline"),useMemoryRouter:!this.getDisposeResult("disable-memory-router"),defaultPage:this.getDefaultPageValue(),baseroute:this.getBaseRouteCompatible(),disablePatchRequest:this.getDisposeResult("disable-patch-request"),fiber:this.getDisposeResult("fiber"),esmodule:this.getDisposeResult("esmodule")})}handleUnmount(e,t){const n=Wi.get(this.appName);n&&n.getAppState()!==No.UNMOUNT&&n.unmount({destroy:e,clearData:this.getDisposeResult("clear-data"),keepRouteState:this.getDisposeResult("keep-router-state"),unmountcb:t})}handleHiddenKeepAliveApp(e){const t=Wi.get(this.appName);t&&t.getAppState()!==No.UNMOUNT&&t.getKeepAliveState()!==To.KEEP_ALIVE_HIDDEN&&t.hiddenKeepAliveApp(e)}handleShowKeepAliveApp(e){Qa((()=>{var t;return e.showKeepAliveApp(null!==(t=this.shadowRoot)&&void 0!==t?t:this)}))}getDisposeResult(e){return(this.compatibleSpecialProperties(e)||!!Ki.options[e])&&this.compatibleDisableSpecialProperties(e)}compatibleSpecialProperties(e){return"disable-scopecss"===e?this.hasAttribute("disable-scopecss")||this.hasAttribute("disableScopecss"):"disable-sandbox"===e?this.hasAttribute("disable-sandbox")||this.hasAttribute("disableSandbox"):this.hasAttribute(e)}compatibleDisableSpecialProperties(e){return"disable-scopecss"===e?"false"!==this.getAttribute("disable-scopecss")&&"false"!==this.getAttribute("disableScopecss"):"disable-sandbox"===e?"false"!==this.getAttribute("disable-sandbox")&&"false"!==this.getAttribute("disableSandbox"):"false"!==this.getAttribute(e)}isScopecss(){return!(this.getDisposeResult("disable-scopecss")||this.getDisposeResult("shadowDOM"))}isSandbox(){return!this.getDisposeResult("disable-sandbox")}getBaseRouteCompatible(){var e,t;return null!==(t=null!==(e=this.getAttribute("baseroute"))&&void 0!==e?e:this.getAttribute("baseurl"))&&void 0!==t?t:""}getDestroyCompatibleResult(){return this.getDisposeResult("destroy")||this.getDisposeResult("destory")}getKeepAliveModeResult(){return this.getDisposeResult("keep-alive")&&!this.getDestroyCompatibleResult()}updateSsrUrl(e){if(this.getDisposeResult("ssr"))if(this.getDisposeResult("disable-memory-router")||this.getDisposeResult("disableSandbox")){const t=vs.rawWindow.location;this.ssrUrl=no(t.pathname+t.search,e)}else{let t=function(e,t){const n=ii(e);if(!n)return"";const r=Xa(n,t);return r.origin+r.pathname+r.search}(this.appName,e);const n=this.getDefaultPageValue();if(!t&&n){const r=Xa(n,e);t=r.origin+r.pathname+r.search}this.ssrUrl=t}else this.ssrUrl&&(this.ssrUrl="")}getDefaultPageValue(){return bi.getDefaultPage(this.appName)||this.getAttribute("default-page")||this.getAttribute("defaultPage")||""}set data(e){this.appName?Ki.setData(this.appName,e):this.cacheData=e}get data(){return this.appName?Ki.getData(this.appName,!0):this.cacheData?this.cacheData:null}}vs.rawWindow.customElements.define(e,t)}function $i(e,t){if(!Ra)return Ka("preFetch is only supported in browser environment");ao((()=>{const n=Ua(t)?t:Ki.options.prefetchDelay;setTimeout((()=>{!function(e){$a(e)&&(e=e()),Oa(e)&&e.reduce(((e,t)=>e.then((()=>{return e=t,oo((t=>{var n,r,a,o,s,i;if(ja(e)&&navigator.onLine)if(e.name=eo(e.name),e.url=Za(e.url,e.name),e.name&&e.url&&!Wi.has(e.name)){const l=new Fi({name:e.name,url:e.url,isPrefetch:!0,scopecss:!(null!==(r=null!==(n=e["disable-scopecss"])&&void 0!==n?n:e.disableScopecss)&&void 0!==r?r:Ki.options["disable-scopecss"]),useSandbox:!(null!==(o=null!==(a=e["disable-sandbox"])&&void 0!==a?a:e.disableSandbox)&&void 0!==o?o:Ki.options["disable-sandbox"]),inline:null!==(s=e.inline)&&void 0!==s?s:Ki.options.inline,esmodule:null!==(i=e.esmodule)&&void 0!==i?i:Ki.options.esmodule,prefetchLevel:e.level&&Uo.includes(e.level)?e.level:Ki.options.prefetchLevel&&Uo.includes(Ki.options.prefetchLevel)?Ki.options.prefetchLevel:2}),c=l.onLoad,u=l.onLoadError;l.onLoad=n=>{t(),c.call(l,n,e["default-page"],e["disable-patch-request"])},l.onLoadError=(...e)=>{t(),u.call(l,...e)}}else t();else t()}));var e}))),Promise.resolve())}(e)}),Ua(n)?n:3e3)}))}function ji(e,t,n){if(Oa(e)){const r=e.filter((e=>Wa(e)&&e.includes(`.${t}`)&&!n.hasInfo(e)));ro(r.map((e=>jo(e))),(e=>{const a=r[e.index];"js"===t?n.hasInfo(a)||n.setInfo(a,{code:e.data,isExternal:!1,appSpace:{}}):n.hasInfo(a)||n.setInfo(a,{code:e.data,appSpace:{}})}),(e=>{Ka(e)}))}}function Hi({excludeHiddenApp:e=!1,excludePreRender:t=!1}={}){const n=[];return Wi.forEach(((r,a)=>{No.UNMOUNT===r.getAppState()||r.isPrefetch&&(!r.isPrerender||t)||e&&To.KEEP_ALIVE_HIDDEN===r.getKeepAliveState()||n.push(a)})),n}function Bi(){return Array.from(Wi.keys())}function Vi(e,t){const n=Wi.get(eo(e));return new Promise((r=>{if(n)if(n.getAppState()===No.UNMOUNT||n.isPrefetch)(null==t?void 0:t.destroy)&&n.actionsForCompletelyDestroy(),r(!0);else if(n.getKeepAliveState()===To.KEEP_ALIVE_HIDDEN)(null==t?void 0:t.destroy)?n.unmount({destroy:!0,clearData:!0,keepRouteState:!0,unmountcb:r.bind(null,!0)}):(null==t?void 0:t.clearAliveState)?n.unmount({destroy:!1,clearData:!!t.clearData,keepRouteState:!0,unmountcb:r.bind(null,!0)}):r(!0);else{const e=go(n.container),a=()=>{e.removeEventListener(Co.UNMOUNT,a),e.removeEventListener(Co.AFTERHIDDEN,o),r(!0)},o=()=>{e.removeEventListener(Co.UNMOUNT,a),e.removeEventListener(Co.AFTERHIDDEN,o),r(!0)};if(e.addEventListener(Co.UNMOUNT,a),e.addEventListener(Co.AFTERHIDDEN,o),null==t?void 0:t.destroy){let t,n;e.hasAttribute("destroy")&&(t=e.getAttribute("destroy")),e.hasAttribute("destory")&&(n=e.getAttribute("destory")),e.setAttribute("destroy","true"),e.parentNode.removeChild(e),e.removeAttribute("destroy"),Wa(t)&&e.setAttribute("destroy",t),Wa(n)&&e.setAttribute("destory",n)}else if((null==t?void 0:t.clearAliveState)&&e.hasAttribute("keep-alive")){const n=e.getAttribute("keep-alive");let r;e.removeAttribute("keep-alive"),t.clearData&&(r=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),e.setAttribute("keep-alive",n),Wa(r)&&e.setAttribute("clear-data",r)}else{let n;(null==t?void 0:t.clearData)&&(n=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),Wa(n)&&e.setAttribute("clear-data",n)}}else Ya(`app ${e} does not exist`),r(!1)}))}function Gi(e){return Array.from(Wi.keys()).reduce(((t,n)=>t.then((()=>Vi(n,e)))),Promise.resolve(!0))}function zi(e,t){return new Promise((n=>{const r=Wi.get(eo(e));if(r){const a=r.container&&go(r.container);a?n(a.reload(t)):(Ya(`app ${e} is not rendered, cannot use reload`),n(!1))}else Ya(`app ${e} does not exist`),n(!1)}))}function qi(e){return new Promise((t=>{if(!ja(e))return Ka("renderApp options must be an object");const n=za(e.container)?e.container:Wa(e.container)?document.querySelector(e.container):null;if(!za(n))return Ka("Target container is not a DOM element.");const r=po(Ki.tagName);for(const i in e)if("onDataChange"===i)$a(e[i])&&r.addEventListener("datachange",e[i]);else if("lifeCycles"===i){const t=e[i];if(ja(t))for(const e in t)e.toUpperCase()in Co&&$a(t[e])&&r.addEventListener(e.toLowerCase(),t[e])}else"container"!==i&&r.setAttribute(i,e[i]);const a=()=>{s(),t(!0)},o=()=>{s(),t(!1)},s=()=>{r.removeEventListener(Co.MOUNTED,a),r.removeEventListener(Co.ERROR,o)};r.addEventListener(Co.MOUNTED,a),r.addEventListener(Co.ERROR,o),n.appendChild(r)}))}const Ki=new class extends Fs{constructor(){super(...arguments),this.tagName="micro-app",this.options={},this.router=bi,this.preFetch=$i,this.unmountApp=Vi,this.unmountAllApps=Gi,this.getActiveApps=Hi,this.getAllApps=Bi,this.reload=zi,this.renderApp=qi}start(e){var t,n,r;if(!Ra||!window.customElements)return Ka("micro-app is not supported in this environment");if(null==e?void 0:e.tagName){if(!/^micro-app(-\S+)?/.test(e.tagName))return Ka(`${e.tagName} is invalid tagName`);this.tagName=e.tagName}if(window.customElements.get(this.tagName))return Ya(`element ${this.tagName} is already defined`);if(bs(),ja(e)&&(this.options=e,e["disable-scopecss"]=null!==(t=e["disable-scopecss"])&&void 0!==t?t:e.disableScopecss,e["disable-sandbox"]=null!==(n=e["disable-sandbox"])&&void 0!==n?n:e.disableSandbox,e.preFetchApps&&$i(e.preFetchApps),e.globalAssets&&(ja(r=e.globalAssets)&&ao((()=>{ji(r.js,"js",es.script),ji(r.css,"css",es.link)}))),ja(e.plugins))){const t=e.plugins.modules;if(ja(t))for(const e in t){const n=eo(e);n&&e!==n&&(t[n]=t[e],delete t[e])}}Ui(this.tagName)}},Yi={},Qi=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Yi)return;Yi[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()};var Xi={exports:{}},Ji=Xi.exports=function(){var e,t,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(e,t,n){return e<t?t:e>n?n:e}function o(e){return 100*(-1+e)}function s(e,t,n){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+o(e)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(e)+"%,0)"}:{"margin-left":o(e)+"%"}).transition="all "+t+"ms "+n,a}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(r[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=a(e,r.minimum,1),n.status=1===e?null:e;var o=n.render(!t),c=o.querySelector(r.barSelector),u=r.speed,p=r.easing;return o.offsetWidth,i((function(t){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),l(c,s(e,u,p)),1===e?(l(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout((function(){l(o,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),r.trickleSpeed)};return r.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*a(Math.random()*t,.1,.95)),t=a(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&n.start(),e++,t++,r.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var a,s=t.querySelector(r.barSelector),i=e?"-100":o(n.status||0),c=document.querySelector(r.parent);return l(s,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),r.showSpinner||(a=t.querySelector(r.spinnerSelector))&&h(a),c!=document.body&&u(c,"nprogress-custom-parent"),c.appendChild(t),t},n.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var i=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),l=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function r(t){var n=document.body.style;if(t in n)return t;for(var r,a=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((r=e[a]+o)in n)return r;return t}function a(e){return e=n(e),t[e]||(t[e]=r(e))}function o(e,t,n){t=a(t),e.style[t]=n}return function(e,t){var n,r,a=arguments;if(2==a.length)for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&o(e,n,r);else o(e,a[1],a[2])}}();function c(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function u(e,t){var n=d(e),r=n+t;c(n,t)||(e.className=r.substring(1))}function p(e,t){var n,r=d(e);c(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n}();
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */const Zi=E({name:"IconQuestion",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-question`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),el=["stroke-width","stroke-linecap","stroke-linejoin"],tl=[I("path",{d:"M13 17c0-5.523 4.925-10 11-10s11 4.477 11 10c0 3.607-2.1 6.767-5.25 8.526C26.857 27.142 24 29.686 24 33v3m0 5h.02v.02H24V41Z"},null,-1)];var nl=N(Zi,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},tl,14,el)}]]);const rl=Object.assign(nl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+nl.name,nl)}}),al=E({name:"IconCodeSquare",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-code-square`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),ol=["stroke-width","stroke-linecap","stroke-linejoin"],sl=[I("path",{d:"M23.071 17 16 24.071l7.071 7.071m9.001-14.624-4.14 15.454M9 42h30a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v34a1 1 0 0 0 1 1Z"},null,-1)];var il=N(al,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},sl,14,ol)}]]);const ll=Object.assign(il,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+il.name,il)}}),cl=E({name:"IconCode",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-code`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),ul=["stroke-width","stroke-linecap","stroke-linejoin"],pl=[I("path",{d:"M16.734 12.686 5.42 24l11.314 11.314m14.521-22.628L42.57 24 31.255 35.314M27.2 6.28l-6.251 35.453"},null,-1)];var dl=N(cl,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},pl,14,ul)}]]);const hl=Object.assign(dl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+dl.name,dl)}}),fl=E({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-settings`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),ml=["stroke-width","stroke-linecap","stroke-linejoin"],gl=[I("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),I("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1)];var vl=N(fl,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},gl,14,ml)}]]);const bl=Object.assign(vl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+vl.name,vl)}}),_l=E({name:"IconApps",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-apps`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),yl=["stroke-width","stroke-linecap","stroke-linejoin"],wl=[I("path",{d:"M7 7h13v13H7zM28 7h13v13H28zM7 28h13v13H7zM28 28h13v13H28z"},null,-1)];var El=N(_l,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},wl,14,yl)}]]);const Al=Object.assign(El,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+El.name,El)}}),Sl=E({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-command`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),kl=["stroke-width","stroke-linecap","stroke-linejoin"],Rl=[I("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1)];var Pl=N(Sl,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Rl,14,kl)}]]);const Ll=Object.assign(Pl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Pl.name,Pl)}}),Nl=E({name:"IconTool",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=P("icon");return{cls:h((()=>[t,`${t}-tool`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:L(e.size)?`${e.size}px`:e.size}}))}}}),Ol=["stroke-width","stroke-linecap","stroke-linejoin"],Cl=[I("path",{d:"M19.994 11.035c3.66-3.659 9.094-4.46 13.531-2.405a.1.1 0 0 1 .028.16l-6.488 6.488a1 1 0 0 0 0 1.414l4.243 4.243a1 1 0 0 0 1.414 0l6.488-6.488a.1.1 0 0 1 .16.028c2.056 4.437 1.254 9.872-2.405 13.53-3.695 3.696-9.2 4.477-13.66 2.347L12.923 40.733a1 1 0 0 1-1.414 0L7.266 36.49a1 1 0 0 1 0-1.414l10.382-10.382c-2.13-4.46-1.349-9.965 2.346-13.66Z"},null,-1)];var Ml=N(Nl,[["render",function(e,t,n,r,a,o){return k(),O("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:C(e.cls),style:M(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Cl,14,Ol)}]]);const Il=Object.assign(Ml,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Ml.name,Ml)}});Ji.configure({showSpinner:!1,easing:"linear",speed:1e3,minimum:.2,trickle:!1,trickleSpeed:800});const Dl=[{path:"/dashboard",name:"dashboard",meta:{icon:Ll,keepAlive:!0},component:()=>Qi((()=>import("./dashboard.ee2ae5cd.js")),["assets/dashboard.ee2ae5cd.js","assets/dashboard.830b681d.css","assets/index.3a7f15df.css","assets/typed.8fe96a35.js","assets/acro-design.6eda7891.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])},{path:"/setting",name:"setting",meta:{icon:bl,keepAlive:!0},component:()=>Qi((()=>import("./setting.b05d3c61.js")),["assets/setting.b05d3c61.js","assets/setting.411f738e.css","assets/index.3a7f15df.css","assets/acro-design.6eda7891.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])},{path:"/developer/:page*",name:"developer",meta:{icon:Il,keepAlive:!0},component:()=>Qi((()=>import("./developer.cf61e118.js")),["assets/developer.cf61e118.js","assets/acro-design.6eda7891.js"])},{path:"/chat/:page*",name:"chat",meta:{icon:hl,keepAlive:!0},component:()=>Qi((()=>import("./chat.106dc5c4.js")),["assets/chat.106dc5c4.js","assets/acro-design.6eda7891.js"])},{path:"/playground",name:"playground",meta:{icon:ll,keepAlive:!0},component:()=>Qi((()=>import("./playground.40805817.js")),["assets/playground.40805817.js","assets/playground.d11cc749.css","assets/index.3a7f15df.css","assets/acro-design.6eda7891.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])}],Tl=[{path:"/",name:"layout",component:()=>Qi((()=>import("./index.8ca74490.js")),["assets/index.8ca74490.js","assets/index.b1fa9c9b.css","assets/acro-design.6eda7891.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"]),meta:{icon:Al},redirect:"/dashboard/",children:[...Dl]},{path:"/:pathMatch(.*)*",name:"notFound",meta:{icon:rl},component:()=>Qi((()=>import("./index.a2a8f422.js")),["assets/index.a2a8f422.js","assets/acro-design.6eda7891.js"])}],xl=function(e){const t=xr(e.routes,e),n=e.parseQuery||sa,r=e.stringifyQuery||ia,a=e.history,s=ca(),i=ca(),l=ca(),c=v(Ar);let u=Ar;Xn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Zn.bind(null,(e=>""+e)),f=Zn.bind(null,aa),m=Zn.bind(null,oa);function g(e,o){if(o=Jn({},o||c.value),"string"==typeof e){const r=nr(n,e,o.path),s=t.resolve({path:r.path},o),i=a.createHref(r.fullPath);return Jn(r,s,{params:m(s.params),hash:oa(r.hash),redirectedFrom:void 0,href:i})}let s;if("path"in e)s=Jn({},e,{path:nr(n,e.path,o.path).path});else{const t=Jn({},e.params);for(const e in t)null==t[e]&&delete t[e];s=Jn({},e,{params:f(e.params)}),o.params=f(o.params)}const i=t.resolve(s,o),l=e.hash||"";i.params=d(m(i.params));const u=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Jn({},e,{hash:(p=l,na(p).replace(Jr,"{").replace(ea,"}").replace(Qr,"^")),path:i.path}));var p;const h=a.createHref(u);return Jn({fullPath:u,hash:l,query:r===ia?la(e.query):e.query||{}},i,{redirectedFrom:void 0,href:h})}function b(e){return"string"==typeof e?nr(n,e,c.value.path):Jn({},e)}function _(e,t){if(u!==e)return Pr(8,{from:t,to:e})}function y(e){return A(e)}function E(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=b(r):{path:r},r.params={}),Jn({query:e.query,hash:e.hash,params:e.params},r)}}function A(e,t){const n=u=g(e),a=c.value,o=e.state,s=e.force,i=!0===e.replace,l=E(n);if(l)return A(Jn(b(l),{state:o,force:s,replace:i}),t||n);const p=n;let d;return p.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&ar(t.matched[r],n.matched[a])&&or(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,a,n)&&(d=Pr(16,{to:p,from:a}),T(a,a,!0,!1)),(d?Promise.resolve(d):k(p,a)).catch((e=>Lr(e)?Lr(e,2)?e:D(e):I(e,p,a))).then((e=>{if(e){if(Lr(e,2))return A(Jn(b(e.to),{state:o,force:s,replace:i}),t||p)}else e=P(p,a,!0,i,o);return R(p,a,e),e}))}function S(e,t){const n=_(e,t);return n?Promise.reject(n):Promise.resolve()}function k(e,t){let n;const[r,a,o]=function(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>ar(e,o)))?r.push(o):n.push(o));const i=e.matched[s];i&&(t.matched.find((e=>ar(e,i)))||a.push(i))}return[n,r,a]}(e,t);n=pa(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(ua(r,e,t))}));const l=S.bind(null,e,t);return n.push(l),ba(n).then((()=>{n=[];for(const r of s.list())n.push(ua(r,e,t));return n.push(l),ba(n)})).then((()=>{n=pa(a,"beforeRouteUpdate",e,t);for(const r of a)r.updateGuards.forEach((r=>{n.push(ua(r,e,t))}));return n.push(l),ba(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const a of r.beforeEnter)n.push(ua(a,e,t));else n.push(ua(r.beforeEnter,e,t));return n.push(l),ba(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=pa(o,"beforeRouteEnter",e,t),n.push(l),ba(n)))).then((()=>{n=[];for(const r of i.list())n.push(ua(r,e,t));return n.push(l),ba(n)})).catch((e=>Lr(e,8)?e:Promise.reject(e)))}function R(e,t,n){for(const r of l.list())r(e,t,n)}function P(e,t,n,r,o){const s=_(e,t);if(s)return s;const i=t===Ar,l=Xn?history.state:{};n&&(r||i?a.replace(e.fullPath,Jn({scroll:i&&l&&l.scroll},o)):a.push(e.fullPath,o)),c.value=e,T(e,t,n,i),D()}let L;function N(){L=a.listen(((e,t,n)=>{const r=g(e),o=E(r);if(o)return void A(Jn(o,{replace:!0}),r).catch(er);u=r;const s=c.value;var i,l;Xn&&(i=vr(s.fullPath,n.delta),l=mr(),br.set(i,l)),k(r,s).catch((e=>Lr(e,12)?e:Lr(e,2)?(A(e.to,r).then((e=>{Lr(e,20)&&!n.delta&&n.type===lr.pop&&a.go(-1,!1)})).catch(er),Promise.reject()):(n.delta&&a.go(-n.delta,!1),I(e,r,s)))).then((e=>{(e=e||P(r,s,!1))&&(n.delta?a.go(-n.delta,!1):n.type===lr.pop&&Lr(e,20)&&a.go(-1,!1)),R(r,s,e)})).catch(er)}))}let O,C=ca(),M=ca();function I(e,t,n){D(e);const r=M.list();return r.length&&r.forEach((r=>r(e,t,n))),Promise.reject(e)}function D(e){return O||(O=!e,N(),C.list().forEach((([t,n])=>e?n(e):t())),C.reset()),e}function T(t,n,r,a){const{scrollBehavior:o}=e;if(!Xn||!o)return Promise.resolve();const s=!r&&function(e){const t=br.get(e);return br.delete(e),t}(vr(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return p().then((()=>o(t,n,s))).then((e=>e&&gr(e))).catch((e=>I(e,t,n)))}const x=e=>a.go(e);let W;const F=new Set;return{currentRoute:c,addRoute:function(e,n){let r,a;return Er(e)?(r=t.getRecordMatcher(e),a=n):a=e,t.addRoute(a,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:g,options:e,push:y,replace:function(e){return y(Jn(b(e),{replace:!0}))},go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:s.add,beforeResolve:i.add,afterEach:l.add,onError:M.add,isReady:function(){return O&&c.value!==Ar?Promise.resolve():new Promise(((e,t)=>{C.add([e,t])}))},install(e){e.component("RouterLink",ha),e.component("RouterView",va),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>w(c)}),Xn&&!W&&c.value===Ar&&(W=!0,y(a.location).catch((e=>{})));const t={};for(const r in Ar)t[r]=h((()=>c.value[r]));e.provide(Kn,this),e.provide(Yn,o(t)),e.provide(Qn,c);const n=e.unmount;F.add(e),e.unmount=function(){F.delete(e),F.size<1&&(u=Ar,L&&L(),c.value=Ar,W=!1,O=!1),n()}}}}({history:function(e){const t=wr(e=dr(e)),n=function(e,t,n,r){let a=[],o=[],s=null;const i=({state:o})=>{const i=_r(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=i,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else r(i);a.forEach((e=>{e(n.value,l,{delta:u,type:lr.pop,direction:u?u>0?ur.forward:ur.back:ur.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(Jn({},e.state,{scroll:mr()}),"")}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",l),{pauseListeners:function(){s=n.value},listen:function(e){a.push(e);const t=()=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),r=Jn({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:fr.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}("/base/"),routes:Tl});xl.beforeEach((async(e,t,n)=>{Ji.isStarted()||Ji.start(),n()})),xl.afterEach((e=>{Ji.done()}));const Wl=function(){const r=e(!0),a=r.run((()=>t({})));let o=[],s=[];const i=n({install(e){B(i),i._a=e,e.provide(V,i),e.config.globalProperties.$pinia=i,s.forEach((e=>o.push(e))),s=[]},use(e){return this._a?o.push(e):s.push(e),this},_p:o,_a:null,_e:r,_s:new Map,state:a});return i}();Ki.start({"disable-memory-router":!0,"disable-patch-request":!0,inline:!1,destroy:!1,shadowDOM:!1,ssr:!1,"disable-scopecss":!1,"disable-sandbox":!1,"keep-alive":!0,"keep-router-state":!0,lifeCycles:{created(){},beforemount(){},mounted(){},unmount(){},error(){},aftershow(){},afterhidden(){},beforeshow(){}},plugins:{modules:{chat:[{loader:e=>e}],developer:[{loader:e=>e}]}},fetch(e,t,n){if("http://localhost:3001/error.js"===e)return Promise.resolve("");let r=null;return"http://localhost:3001/base/react16/"===e&&(r={headers:{"custom-head":"custom-head"}}),fetch(e,Object.assign(t,r)).then((e=>e.text()))}}),window.eventCenterForMicroVue=new Us("chat"),Ki.addDataListener("chat",(function(e){const{callback:t}=e;t()}),!1);const Fl=D(ka);Fl.use(Wl),Fl.use(xl),Fl.use(Wn),Fl.mount("#app");export{j as L,$ as T,_a as a,ya as b,Dl as f,Wn as i,Sa as u};
