import{e,r as t,m as n,g as r,w as a,a as o,i as s,b as i,t as l,c,o as u,n as p,d,f as h,F as f,h as m,j as g,s as v,k as b,l as _,T as y,u as w,p as E,q as A,v as S,x as k,y as R,z as P,A as L,B as N,C as O,_ as C,D as M,E as I,G as D,H as T,I as x}from"./acro-design.1b4525da.js";import{L as W,a as F}from"./lowdb.b41c9ad3.js";import{l as U,a as $,c as j}from"./lodash.74753a6d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var H=(e=>(e.DARK="dark",e.LIGHT="light",e))(H||{}),B=(e=>(e.EN="en",e.ZH="zh",e.JA="ja",e))(B||{});
/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
let V;const G=e=>V=e,z=Symbol();function q(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var K,Y;(Y=K||(K={})).direct="direct",Y.patchObject="patch object",Y.patchFunction="patch function";const Q=()=>{};function X(e,t,n,a=Q){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};return!n&&r()&&u(o),o}function J(e,...t){e.slice().forEach((e=>{e(...t)}))}function Z(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];q(a)&&q(r)&&e.hasOwnProperty(n)&&!s(r)&&!i(r)?e[n]=Z(a,r):e[n]=r}return e}const ee=Symbol();const{assign:te}=Object;function ne(r,c,u={},d,h){let f;const m=u.state,g=te({actions:{}},u),v={deep:!0};let b,_,y,w=n([]),E=n([]);const A=d.state.value[r];function S(e){let t;b=_=!1,"function"==typeof e?(e(d.state.value[r]),t={type:K.patchFunction,storeId:r,events:y}):(Z(d.state.value[r],e),t={type:K.patchObject,payload:e,storeId:r,events:y}),p().then((()=>{b=!0})),_=!0,J(w,t,d.state.value[r])}m||A||(d.state.value[r]={}),t({});const k=Q;function R(e,t){return function(){G(d);const n=Array.from(arguments),a=[],o=[];function s(e){a.push(e)}function i(e){o.push(e)}let l;J(E,{args:n,name:e,store:L,after:s,onError:i});try{l=t.apply(this&&this.$id===r?this:L,n)}catch(c){throw J(o,c),c}return l instanceof Promise?l.then((e=>(J(a,e),e))).catch((e=>(J(o,e),Promise.reject(e)))):(J(a,l),l)}}const P={_p:d,$id:r,$onAction:X.bind(null,E),$patch:S,$reset:k,$subscribe(e,t={}){const n=X(w,e,t.detached,(()=>o())),o=f.run((()=>a((()=>d.state.value[r]),(n=>{("sync"===t.flush?_:b)&&e({storeId:r,type:K.direct,events:y},n)}),te({},v,t))));return n},$dispose:function(){f.stop(),w=[],E=[],d._s.delete(r)}},L=o(te({},P));d._s.set(r,L);const N=d._e.run((()=>(f=e(),f.run((()=>c())))));for(const e in N){const t=N[e];if(s(t)&&(!s(C=t)||!C.effect)||i(t))m||(!A||q(O=t)&&O.hasOwnProperty(ee)||(s(t)?t.value=A[e]:Z(t,A[e])),d.state.value[r][e]=t);else if("function"==typeof t){const n=R(e,t);N[e]=n,g.actions[e]=t}}var O,C;return te(L,N),te(l(L),N),Object.defineProperty(L,"$state",{get:()=>d.state.value[r],set:e=>{S((t=>{te(t,e)}))}}),d._p.forEach((e=>{te(L,f.run((()=>e({store:L,app:d._a,pinia:d,options:g}))))})),A&&m&&u.hydrate&&u.hydrate(L.$state,A),b=!0,_=!0,L}function re(e,t,a){let o,s;const i="function"==typeof t;function l(e,a){const l=r();(e=e||l&&c(z))&&G(e),(e=V)._s.has(o)||(i?ne(o,t,s,e):function(e,t,r,a){const{state:o,actions:s,getters:i}=t,l=r.state.value[e];let c;c=ne(e,(function(){l||(r.state.value[e]=o?o():{});const t=d(r.state.value[e]);return te(t,s,Object.keys(i||{}).reduce(((t,a)=>(t[a]=n(h((()=>{G(r);const t=r._s.get(e);return i[a].call(t,t)}))),t)),{}))}),t,r),c.$reset=function(){const e=o?o():{};this.$patch((t=>{te(t,e)}))}}(o,s,e));return e._s.get(o)}return"string"==typeof e?(o=e,s=i?a:t):(s=e,o=e.id),l.$id=o,l}
/*!
  * shared v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ae="undefined"!=typeof window,oe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,se=e=>oe?Symbol(e):e,ie=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),le=e=>"number"==typeof e&&isFinite(e),ce=e=>"[object RegExp]"===Se(e),ue=e=>ke(e)&&0===Object.keys(e).length;function pe(e,t){}const de=Object.assign;let he;const fe=()=>he||(he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function me(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ge=Object.prototype.hasOwnProperty;function ve(e,t){return ge.call(e,t)}const be=Array.isArray,_e=e=>"function"==typeof e,ye=e=>"string"==typeof e,we=e=>"boolean"==typeof e,Ee=e=>null!==e&&"object"==typeof e,Ae=Object.prototype.toString,Se=e=>Ae.call(e),ke=e=>"[object Object]"===Se(e),Re=1,Pe=2,Le=3,Ne=4,Oe=5,Ce=6,Me=7,Ie=8,De=9,Te=10,xe=11,We=12,Fe=13,Ue=14,$e=15;function je(e,t,n={}){const{domain:r,messages:a,args:o}=n,s=new SyntaxError(String(e));return s.code=e,t&&(s.location=t),s.domain=r,s}function He(e){throw e}function Be(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const Ve=String.fromCharCode(8232),Ge=String.fromCharCode(8233);function ze(e){const t=e;let n=0,r=1,a=1,o=0;const s=e=>"\r"===t[e]&&"\n"===t[e+1],i=e=>t[e]===Ge,l=e=>t[e]===Ve,c=e=>s(e)||(e=>"\n"===t[e])(e)||i(e)||l(e),u=e=>s(e)||i(e)||l(e)?"\n":t[e];function p(){return o=0,c(n)&&(r++,a=0),s(n)&&n++,n++,a++,t[n]}return{index:()=>n,line:()=>r,column:()=>a,peekOffset:()=>o,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+o),next:p,peek:function(){return s(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,a=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)p();o=0}}}const qe=void 0;function Ke(e,t={}){const n=!1!==t.location,r=ze(e),a=()=>r.index(),o=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},s=o(),i=a(),l={currentType:14,offset:i,startLoc:s,endLoc:s,lastType:14,lastOffset:i,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function p(e,t,n,...r){const a=c();if(t.column+=n,t.offset+=n,u){const n=je(e,Be(a.startLoc,t),{domain:"tokenizer",args:r});u(n)}}function d(e,t,r){e.endLoc=o(),e.currentType=t;const a={type:t};return n&&(a.loc=Be(e.startLoc,e.endLoc)),null!=r&&(a.value=r),a}const h=e=>d(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(p(Re,o(),0,t),"")}function m(e){let t="";for(;" "===e.currentPeek()||"\n"===e.currentPeek();)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===qe)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=function(e){if(e===qe)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function _(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function y(e,t=!0){const n=(t=!1,r="",a=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!a)||!(" "===r||"\n"===r):" "===o?(e.peek(),n(!0," ",a)):"\n"!==o||(e.peek(),n(!0,"\n",a)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function w(e,t){const n=e.currentChar();return n===qe?qe:t(n)?(e.next(),n):null}function E(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function A(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}))}function S(e){return w(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function k(e){let t="",n="";for(;t=A(e);)n+=t;return n}function R(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return P(e,t,4);case"U":return P(e,t,6);default:return p(Ne,o(),0,t),""}}function P(e,t,n){f(e,t);let r="";for(let a=0;a<n;a++){const n=S(e);if(!n){p(Oe,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function L(e){g(e);const t=f(e,"|");return g(e),t}function N(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&p(De,o(),0),e.next(),n=d(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&p(Ie,o(),0),e.next(),n=d(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&p(Me,o(),0),n=O(e,t)||h(t),t.braceNest=0,n;default:let r=!0,a=!0,s=!0;if(_(e))return t.braceNest>0&&p(Me,o(),0),n=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return p(Me,o(),0),t.braceNest=0,C(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t))return n=d(t,5,function(e){g(e);let t="",n="";for(;t=E(e);)n+=t;return e.currentChar()===qe&&p(Me,o(),0),n}(e)),g(e),n;if(a=b(e,t))return n=d(t,6,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${k(e)}`):t+=k(e),e.currentChar()===qe&&p(Me,o(),0),t}(e)),g(e),n;if(s=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=d(t,7,function(e){g(e),f(e,"'");let t="",n="";const r=e=>"'"!==e&&"\n"!==e;for(;t=w(e,r);)n+="\\"===t?R(e):t;const a=e.currentChar();return"\n"===a||a===qe?(p(Le,o(),0),"\n"===a&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),g(e),n;if(!r&&!a&&!s)return n=d(t,13,function(e){g(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&" "!==e&&"\n"!==e;for(;t=w(e,r);)n+=t;return n}(e)),p(Pe,o(),0,n.value),g(e),n}return n}function O(e,t){const{currentType:n}=t;let r=null;const a=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||"\n"!==a&&" "!==a||p(Te,o(),0),a){case"@":return e.next(),r=d(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),d(t,9,".");case":":return g(e),e.next(),d(t,10,":");default:return _(e)?(r=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),O(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),d(t,12,function(e){let t="",n="";for(;t=E(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||" "===t||!t)&&("\n"===t?(e.peek(),r()):v(t))},a=r();return e.resetPeek(),a}(e,t)?(g(e),"{"===a?N(e,t)||r:d(t,11,function(e){const t=(n=!1,r)=>{const a=e.currentChar();return"{"!==a&&"%"!==a&&"@"!==a&&"|"!==a&&a?" "===a?r:"\n"===a?(r+=a,e.next(),t(n,r)):(r+=a,e.next(),t(!0,r)):r};return t(!1,"")}(e))):(8===n&&p(Te,o(),0),t.braceNest=0,t.inLinked=!1,C(e,t))}}function C(e,t){let n={type:14};if(t.braceNest>0)return N(e,t)||h(t);if(t.inLinked)return O(e,t)||h(t);const r=e.currentChar();switch(r){case"{":return N(e,t)||h(t);case"}":return p(Ce,o(),0),e.next(),d(t,3,"}");case"@":return O(e,t)||h(t);default:if(_(e))return n=d(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(y(e))return d(t,0,function(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!y(e))break;t+=n,e.next()}else if(" "===n||"\n"===n)if(y(e))t+=n,e.next();else{if(_(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e));if("%"===r)return e.next(),d(t,4,"%")}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=a(),l.startLoc=o(),r.currentChar()===qe?d(l,14):C(r,l)},currentOffset:a,currentPosition:o,context:c}}const Ye=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Qe(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function Xe(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,a,...o){const s=e.currentPosition();if(s.offset+=a,s.column+=a,n){const e=je(t,Be(r,s),{domain:"parser",args:o});n(e)}}function a(e,n,r){const a={type:e,start:n,end:n};return t&&(a.loc={start:r,end:r}),a}function o(e,n,r,a){e.end=n,a&&(e.type=a),t&&e.loc&&(e.loc.end=r)}function s(e,t){const n=e.context(),r=a(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function i(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(5,r,s);return i.index=parseInt(t,10),e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(4,r,s);return i.key=t,e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,i=a(9,r,s);return i.value=t.replace(Ye,Qe),e.nextToken(),o(i,e.currentOffset(),e.currentPosition()),i}function u(e){const t=e.context(),n=a(6,t.offset,t.startLoc);let s=e.nextToken();if(9===s.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:s,lastStartLoc:i}=n,l=a(8,s,i);return 12!==t.type?(r(e,We,n.lastStartLoc,0),l.value="",o(l,s,i),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,Ue,n.lastStartLoc,0,Je(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(10!==s.type&&r(e,Ue,t.lastStartLoc,0,Je(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 11:null==s.value&&r(e,Ue,t.lastStartLoc,0,Je(s)),n.key=function(e,t){const n=e.context(),r=a(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,s.value||"");break;case 5:null==s.value&&r(e,Ue,t.lastStartLoc,0,Je(s)),n.key=l(e,s.value||"");break;case 6:null==s.value&&r(e,Ue,t.lastStartLoc,0,Je(s)),n.key=i(e,s.value||"");break;case 7:null==s.value&&r(e,Ue,t.lastStartLoc,0,Je(s)),n.key=c(e,s.value||"");break;default:r(e,Fe,t.lastStartLoc,0);const u=e.context(),p=a(7,u.offset,u.startLoc);return p.value="",o(p,u.offset,u.startLoc),n.key=p,o(n,u.offset,u.startLoc),{nextConsumeToken:s,node:n}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function p(e){const t=e.context(),n=a(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let p=null;do{const a=p||e.nextToken();switch(p=null,a.type){case 0:null==a.value&&r(e,Ue,t.lastStartLoc,0,Je(a)),n.items.push(s(e,a.value||""));break;case 6:null==a.value&&r(e,Ue,t.lastStartLoc,0,Je(a)),n.items.push(i(e,a.value||""));break;case 5:null==a.value&&r(e,Ue,t.lastStartLoc,0,Je(a)),n.items.push(l(e,a.value||""));break;case 7:null==a.value&&r(e,Ue,t.lastStartLoc,0,Je(a)),n.items.push(c(e,a.value||""));break;case 8:const o=u(e);n.items.push(o.node),p=o.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function d(e){const t=e.context(),{offset:n,startLoc:s}=t,i=p(e);return 14===t.currentType?i:function(e,t,n,s){const i=e.context();let l=0===s.items.length;const c=a(1,t,n);c.cases=[],c.cases.push(s);do{const t=p(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==i.currentType);return l&&r(e,xe,n,0),o(c,e.currentOffset(),e.currentPosition()),c}(e,n,s,i)}return{parse:function(n){const s=Ke(n,de({},e)),i=s.context(),l=a(0,i.offset,i.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=d(s),14!==i.currentType&&r(s,Ue,i.lastStartLoc,0,n[i.offset]||""),o(l,s.currentOffset(),s.currentPosition()),l}}}function Je(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Ze(e,t){for(let n=0;n<e.length;n++)et(e[n],t)}function et(e,t){switch(e.type){case 1:Ze(e.cases,t),t.helper("plural");break;case 2:Ze(e.items,t);break;case 6:et(e.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function tt(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&et(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function nt(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?nt(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let n=0;n<a&&(nt(e,t.cases[n]),n!==a-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let o=0;o<a&&(nt(e,t.items[o]),o!==a-1);o++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),nt(e,t.key),t.modifier&&(e.push(", "),nt(e,t.modifier)),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function rt(e,t={}){const n=de({},t),r=Xe(n).parse(e);return tt(r,n),((e,t={})=>{const n=ye(t.mode)?t.mode:"normal",r=ye(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,i=e.helpers||[],l=function(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:o}=t,s={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:o,indentLevel:0};function i(e,t){s.code+=e}function l(e,t=!0){const n=t?a:"";i(o?n+"  ".repeat(e):n)}return{context:()=>s,push:i,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{mode:n,filename:r,sourceMap:a,breakLineCode:o,needIndent:s});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),i.length>0&&(l.push(`const { ${i.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),nt(l,e),l.deindent(s),l.push("}");const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}})(r,n)}
/*!
  * devtools-if v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const at="i18n:init",ot="function:translate",st=[];
/*!
  * core-base v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */st[0]={w:[0],i:[3,0],"[":[4],o:[7]},st[1]={w:[1],".":[2],"[":[4],o:[7]},st[2]={w:[2],i:[3,0],0:[3,0]},st[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},st[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},st[5]={"'":[4,0],o:8,l:[5,0]},st[6]={'"':[4,0],o:8,l:[6,0]};const it=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function lt(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ct(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,it.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const ut=new Map;function pt(e,t){return Ee(e)?e[t]:null}const dt=e=>e,ht=e=>"",ft=e=>0===e.length?"":e.join(""),mt=e=>null==e?"":be(e)||ke(e)&&e.toString===Ae?JSON.stringify(e,null,2):String(e);function gt(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function vt(e={}){const t=e.locale,n=function(e){const t=le(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(le(e.named.count)||le(e.named.n))?le(e.named.count)?e.named.count:le(e.named.n)?e.named.n:t:t}(e),r=Ee(e.pluralRules)&&ye(t)&&_e(e.pluralRules[t])?e.pluralRules[t]:gt,a=Ee(e.pluralRules)&&ye(t)&&_e(e.pluralRules[t])?gt:void 0,o=e.list||[],s=e.named||{};le(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,s);function i(t){const n=_e(e.messages)?e.messages(t):!!Ee(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):ht)}const l=ke(e.processor)&&_e(e.processor.normalize)?e.processor.normalize:ft,c=ke(e.processor)&&_e(e.processor.interpolate)?e.processor.interpolate:mt,u={list:e=>o[e],named:e=>s[e],plural:e=>e[r(n,e.length,a)],linked:(t,n)=>{const r=i(t)(u);return ye(n)?(a=n,e.modifiers?e.modifiers[a]:dt)(r):r;var a},message:i,type:ke(e.processor)&&ye(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:l};return u}let bt=null;const _t=yt(ot);function yt(e){return t=>bt&&bt.emit(e,t)}function wt(e,t,n){return[...new Set([n,...be(t)?t:Ee(t)?Object.keys(t):ye(t)?[t]:[n]])]}function Et(e,t,n){const r=ye(n)?n:Rt,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let o=a.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;be(e);)e=At(o,e,t);const s=be(t)||!ke(t)?t:t.default?t.default:null;e=ye(s)?[s]:s,be(e)&&At(o,e,!1),a.__localeChainCache.set(r,o)}return o}function At(e,t,n){let r=!0;for(let a=0;a<t.length&&we(r);a++){const o=t[a];ye(o)&&(r=St(e,t[a],n))}return r}function St(e,t,n){let r;const a=t.split("-");do{r=kt(e,a.join("-"),n),a.splice(-1,1)}while(a.length&&!0===r);return r}function kt(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const a=t.replace(/!/g,"");e.push(a),(be(n)||ke(n))&&n[a]&&(r=n[a])}return r}const Rt="en-US";let Pt,Lt,Nt;let Ot=null;const Ct=e=>{Ot=e};let Mt=null;const It=e=>{Mt=e};let Dt=0;function Tt(e={}){const t=ye(e.version)?e.version:"9.2.0-beta.35",n=ye(e.locale)?e.locale:Rt,r=be(e.fallbackLocale)||ke(e.fallbackLocale)||ye(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,a=ke(e.messages)?e.messages:{[n]:{}},o=ke(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},s=ke(e.numberFormats)?e.numberFormats:{[n]:{}},i=de({},e.modifiers||{},{upper:e=>ye(e)?e.toUpperCase():e,lower:e=>ye(e)?e.toLowerCase():e,capitalize:e=>ye(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}),l=e.pluralRules||{},c=_e(e.missing)?e.missing:null,u=!we(e.missingWarn)&&!ce(e.missingWarn)||e.missingWarn,p=!we(e.fallbackWarn)&&!ce(e.fallbackWarn)||e.fallbackWarn,d=!!e.fallbackFormat,h=!!e.unresolving,f=_e(e.postTranslation)?e.postTranslation:null,m=ke(e.processor)?e.processor:null,g=!we(e.warnHtmlMessage)||e.warnHtmlMessage,v=!!e.escapeParameter,b=_e(e.messageCompiler)?e.messageCompiler:Pt,_=_e(e.messageResolver)?e.messageResolver:Lt||pt,y=_e(e.localeFallbacker)?e.localeFallbacker:Nt||wt,w=Ee(e.fallbackContext)?e.fallbackContext:void 0,E=_e(e.onWarn)?e.onWarn:pe,A=e,S=Ee(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,k=Ee(A.__numberFormatters)?A.__numberFormatters:new Map,R=Ee(A.__meta)?A.__meta:{};Dt++;const P={version:t,cid:Dt,locale:n,fallbackLocale:r,messages:a,modifiers:i,pluralRules:l,missing:c,missingWarn:u,fallbackWarn:p,fallbackFormat:d,unresolving:h,postTranslation:f,processor:m,warnHtmlMessage:g,escapeParameter:v,messageCompiler:b,messageResolver:_,localeFallbacker:y,fallbackContext:w,onWarn:E,__meta:R};return P.datetimeFormats=o,P.numberFormats=s,P.__datetimeFormatters=S,P.__numberFormatters=k,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){bt&&bt.emit(at,{timestamp:Date.now(),i18n:e,version:t,meta:n})}(P,t,R),P}function xt(e,t,n,r,a){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,a);return ye(r)?r:t}return t}function Wt(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const Ft=e=>e;let Ut=Object.create(null);let $t=$e;const jt=()=>++$t,Ht={INVALID_ARGUMENT:$t,INVALID_DATE_ARGUMENT:jt(),INVALID_ISO_DATE_ARGUMENT:jt(),__EXTEND_POINT__:jt()};function Bt(e){return je(e,null,void 0)}const Vt=()=>"",Gt=e=>_e(e);function zt(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:o,fallbackLocale:s,messages:i}=e,[l,c]=Yt(...t),u=we(c.missingWarn)?c.missingWarn:e.missingWarn,p=we(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,d=we(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,f=ye(c.default)||we(c.default)?we(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:"",m=n||""!==f,g=ye(c.locale)?c.locale:e.locale;d&&function(e){be(e.list)?e.list=e.list.map((e=>ye(e)?me(e):e)):Ee(e.named)&&Object.keys(e.named).forEach((t=>{ye(e.named[t])&&(e.named[t]=me(e.named[t]))}))}(c);let[v,b,_]=h?[l,g,i[g]||{}]:qt(e,l,g,s,p,u),y=v,w=l;if(h||ye(y)||Gt(y)||m&&(y=f,w=y),!(h||(ye(y)||Gt(y))&&ye(b)))return a?-1:l;let E=!1;const A=Gt(y)?y:Kt(e,l,b,y,w,(()=>{E=!0}));if(E)return y;const S=function(e,t,n,r){const{modifiers:a,pluralRules:o,messageResolver:s,fallbackLocale:i,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,p=r=>{let a=s(n,r);if(null==a&&u){const[,,e]=qt(u,r,t,i,l,c);a=s(e,r)}if(ye(a)){let n=!1;const o=Kt(e,r,t,a,r,(()=>{n=!0}));return n?Vt:o}return Gt(a)?a:Vt},d={locale:t,modifiers:a,pluralRules:o,messages:p};e.processor&&(d.processor=e.processor);r.list&&(d.list=r.list);r.named&&(d.named=r.named);le(r.plural)&&(d.pluralIndex=r.plural);return d}(e,b,_,c),k=function(e,t,n){return t(n)}(0,A,vt(S)),R=r?r(k):k;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:ye(l)?l:Gt(y)?y.key:"",locale:b||(Gt(y)?y.locale:""),format:ye(y)?y:Gt(y)?y.source:"",message:R};t.meta=de({},e.__meta,Ot||{}),_t(t)}return R}function qt(e,t,n,r,a,o){const{messages:s,onWarn:i,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let p,d={},h=null;for(let f=0;f<u.length&&(p=u[f],d=s[p]||{},null===(h=l(d,t))&&(h=d[t]),!ye(h)&&!_e(h));f++){const n=xt(e,t,p,0,"translate");n!==t&&(h=n)}return[h,p,d]}function Kt(e,t,n,r,a,o){const{messageCompiler:s,warnHtmlMessage:i}=e;if(Gt(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>r;return e.locale=n,e.key=t,e}const l=s(r,function(e,t,n,r,a,o){return{warnHtmlMessage:a,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>ie({l:e,k:t,s:n}))(t,n,e)}}(0,n,a,0,i,o));return l.locale=n,l.key=t,l.source=r,l}function Yt(...e){const[t,n,r]=e,a={};if(!ye(t)&&!le(t)&&!Gt(t))throw Bt(Ht.INVALID_ARGUMENT);const o=le(t)?String(t):(Gt(t),t);return le(n)?a.plural=n:ye(n)?a.default=n:ke(n)&&!ue(n)?a.named=n:be(n)&&(a.list=n),le(r)?a.plural=r:ye(r)?a.default=r:ke(r)&&de(a,r),[o,a]}function Qt(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:i}=e,[l,c,u,p]=Xt(...t);we(u.missingWarn)?u.missingWarn:e.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,h=ye(u.locale)?u.locale:e.locale,f=s(e,a,h);if(!ye(l)||""===l)return new Intl.DateTimeFormat(h).format(c);let m,g={},v=null;for(let y=0;y<f.length&&(m=f[y],g=n[m]||{},v=g[l],!ke(v));y++)xt(e,l,m,0,"datetime format");if(!ke(v)||!ye(m))return r?-1:l;let b=`${m}__${l}`;ue(p)||(b=`${b}__${JSON.stringify(p)}`);let _=i.get(b);return _||(_=new Intl.DateTimeFormat(m,de({},v,p)),i.set(b,_)),d?_.formatToParts(c):_.format(c)}function Xt(...e){const[t,n,r,a]=e;let o,s={},i={};if(ye(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw Bt(Ht.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();o=new Date(n);try{o.toISOString()}catch(l){throw Bt(Ht.INVALID_ISO_DATE_ARGUMENT)}}else if("[object Date]"===Se(t)){if(isNaN(t.getTime()))throw Bt(Ht.INVALID_DATE_ARGUMENT);o=t}else{if(!le(t))throw Bt(Ht.INVALID_ARGUMENT);o=t}return ye(n)?s.key=n:ke(n)&&(s=n),ye(r)?s.locale=r:ke(r)&&(i=r),ke(a)&&(i=a),[s.key||"",o,s,i]}function Jt(e,t,n){const r=e;for(const a in n){const e=`${t}__${a}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function Zt(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:i}=e,[l,c,u,p]=en(...t);we(u.missingWarn)?u.missingWarn:e.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,h=ye(u.locale)?u.locale:e.locale,f=s(e,a,h);if(!ye(l)||""===l)return new Intl.NumberFormat(h).format(c);let m,g={},v=null;for(let y=0;y<f.length&&(m=f[y],g=n[m]||{},v=g[l],!ke(v));y++)xt(e,l,m,0,"number format");if(!ke(v)||!ye(m))return r?-1:l;let b=`${m}__${l}`;ue(p)||(b=`${b}__${JSON.stringify(p)}`);let _=i.get(b);return _||(_=new Intl.NumberFormat(m,de({},v,p)),i.set(b,_)),d?_.formatToParts(c):_.format(c)}function en(...e){const[t,n,r,a]=e;let o={},s={};if(!le(t))throw Bt(Ht.INVALID_ARGUMENT);const i=t;return ye(n)?o.key=n:ke(n)&&(o=n),ye(r)?o.locale=r:ke(r)&&(s=r),ke(a)&&(s=a),[o.key||"",i,o,s]}function tn(e,t,n){const r=e;for(const a in n){const e=`${t}__${a}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(fe().__INTLIFY_PROD_DEVTOOLS__=!1);let nn=$e;const rn=()=>++nn,an={UNEXPECTED_RETURN_TYPE:nn,INVALID_ARGUMENT:rn(),MUST_BE_CALL_SETUP_TOP:rn(),NOT_INSLALLED:rn(),NOT_AVAILABLE_IN_LEGACY_MODE:rn(),REQUIRED_VALUE:rn(),INVALID_VALUE:rn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:rn(),NOT_INSLALLED_WITH_PROVIDE:rn(),UNEXPECTED_ERROR:rn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:rn(),BRIDGE_SUPPORT_VUE_2_ONLY:rn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:rn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:rn(),__EXTEND_POINT__:rn()};function on(e,...t){return je(e,null,void 0)}const sn=se("__transrateVNode"),ln=se("__datetimeParts"),cn=se("__numberParts"),un=se("__setPluralRules");se("__intlifyMeta");const pn=se("__injectWithOption");function dn(e){if(!Ee(e))return e;for(const t in e)if(ve(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let a=e;for(let e=0;e<r;e++)n[e]in a||(a[n[e]]={}),a=a[n[e]];a[n[r]]=e[t],delete e[t],Ee(a[n[r]])&&dn(a[n[r]])}else Ee(e[t])&&dn(e[t]);return e}function hn(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:o}=t,s=ke(n)?n:be(r)?{}:{[e]:{}};if(be(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||{},mn(n,s[t])):mn(n,s)}else ye(e)&&mn(JSON.parse(e),s)})),null==a&&o)for(const i in s)ve(s,i)&&dn(s[i]);return s}const fn=e=>!Ee(e)||be(e);function mn(e,t){if(fn(e)||fn(t))throw on(an.INVALID_VALUE);for(const n in e)ve(e,n)&&(fn(e[n])||fn(t[n])?t[n]=e[n]:mn(e[n],t[n]))}function gn(e){return e.type}function vn(e,t,n){let r=Ee(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=hn(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);if(a.length&&a.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),Ee(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(Ee(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function bn(e){return _(y,null,e,0)}let _n=0;function yn(e){return(t,n,a,o)=>e(n,a,r()||void 0,o)}function wn(e={},n){const{__root:o}=e,s=void 0===o;let i=!we(e.inheritLocale)||e.inheritLocale;const l=t(o&&i?o.locale.value:ye(e.locale)?e.locale:Rt),c=t(o&&i?o.fallbackLocale.value:ye(e.fallbackLocale)||be(e.fallbackLocale)||ke(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:l.value),u=t(hn(l.value,e)),p=t(ke(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),d=t(ke(e.numberFormats)?e.numberFormats:{[l.value]:{}});let f=o?o.missingWarn:!we(e.missingWarn)&&!ce(e.missingWarn)||e.missingWarn,m=o?o.fallbackWarn:!we(e.fallbackWarn)&&!ce(e.fallbackWarn)||e.fallbackWarn,g=o?o.fallbackRoot:!we(e.fallbackRoot)||e.fallbackRoot,v=!!e.fallbackFormat,b=_e(e.missing)?e.missing:null,_=_e(e.missing)?yn(e.missing):null,y=_e(e.postTranslation)?e.postTranslation:null,w=o?o.warnHtmlMessage:!we(e.warnHtmlMessage)||e.warnHtmlMessage,E=!!e.escapeParameter;const A=o?o.modifiers:ke(e.modifiers)?e.modifiers:{};let S,k=e.pluralRules||o&&o.pluralRules;S=function(){s&&It(null);const t={version:"9.2.0-beta.35",locale:l.value,fallbackLocale:c.value,messages:u.value,modifiers:A,pluralRules:k,missing:null===_?void 0:_,missingWarn:f,fallbackWarn:m,fallbackFormat:v,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:w,escapeParameter:E,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=p.value,t.numberFormats=d.value,t.__datetimeFormatters=ke(S)?S.__datetimeFormatters:void 0,t.__numberFormatters=ke(S)?S.__numberFormatters:void 0;const n=Tt(t);return s&&It(n),n}(),Wt(S,l.value,c.value);const R=h({get:()=>l.value,set:e=>{l.value=e,S.locale=l.value}}),P=h({get:()=>c.value,set:e=>{c.value=e,S.fallbackLocale=c.value,Wt(S,l.value,e)}}),L=h((()=>u.value)),N=h((()=>p.value)),O=h((()=>d.value));function C(e,t,n,a,i,h){let f;if(l.value,c.value,u.value,p.value,d.value,__INTLIFY_PROD_DEVTOOLS__)try{Ct((()=>{const e=r();let t=null;return e&&(t=gn(e).__INTLIFY_META__)?{__INTLIFY_META__:t}:null})()),s||(S.fallbackContext=o?Mt:void 0),f=e(S)}finally{Ct(null),s||(S.fallbackContext=void 0)}else f=e(S);if(le(f)&&-1===f){const[e,n]=t();return o&&g?a(o):i(e)}if(h(f))return f;throw on(an.UNEXPECTED_RETURN_TYPE)}function M(...e){return C((t=>Reflect.apply(zt,null,[t,...e])),(()=>Yt(...e)),0,(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>ye(e)))}const I={normalize:function(e){return e.map((e=>ye(e)?bn(e):e))},interpolate:e=>e,type:"vnode"};function D(e){return u.value[e]||{}}_n++,o&&ae&&(a(o.locale,(e=>{i&&(l.value=e,S.locale=e,Wt(S,l.value,c.value))})),a(o.fallbackLocale,(e=>{i&&(c.value=e,S.fallbackLocale=e,Wt(S,l.value,c.value))})));const T={id:_n,locale:R,fallbackLocale:P,get inheritLocale(){return i},set inheritLocale(e){i=e,e&&o&&(l.value=o.locale.value,c.value=o.fallbackLocale.value,Wt(S,l.value,c.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:L,get modifiers(){return A},get pluralRules(){return k||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(e){f=e,S.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(e){m=e,S.fallbackWarn=m},get fallbackRoot(){return g},set fallbackRoot(e){g=e},get fallbackFormat(){return v},set fallbackFormat(e){v=e,S.fallbackFormat=v},get warnHtmlMessage(){return w},set warnHtmlMessage(e){w=e,S.warnHtmlMessage=e},get escapeParameter(){return E},set escapeParameter(e){E=e,S.escapeParameter=e},t:M,getLocaleMessage:D,setLocaleMessage:function(e,t){u.value[e]=t,S.messages=u.value},mergeLocaleMessage:function(e,t){u.value[e]=u.value[e]||{},mn(t,u.value[e]),S.messages=u.value},getPostTranslationHandler:function(){return _e(y)?y:null},setPostTranslationHandler:function(e){y=e,S.postTranslation=e},getMissingHandler:function(){return b},setMissingHandler:function(e){null!==e&&(_=yn(e)),b=e,S.missing=_},[un]:function(e){k=e,S.pluralRules=k}};return T.datetimeFormats=N,T.numberFormats=O,T.rt=function(...e){const[t,n,r]=e;if(r&&!Ee(r))throw on(an.INVALID_ARGUMENT);return M(t,n,de({resolvedMessage:!0},r||{}))},T.te=function(e,t){const n=D(ye(t)?t:l.value);return null!==S.messageResolver(n,e)},T.tm=function(e){const t=function(e){let t=null;const n=Et(S,c.value,l.value);for(let r=0;r<n.length;r++){const a=u.value[n[r]]||{},o=S.messageResolver(a,e);if(null!=o){t=o;break}}return t}(e);return null!=t?t:o&&o.tm(e)||{}},T.d=function(...e){return C((t=>Reflect.apply(Qt,null,[t,...e])),(()=>Xt(...e)),0,(t=>Reflect.apply(t.d,t,[...e])),(()=>""),(e=>ye(e)))},T.n=function(...e){return C((t=>Reflect.apply(Zt,null,[t,...e])),(()=>en(...e)),0,(t=>Reflect.apply(t.n,t,[...e])),(()=>""),(e=>ye(e)))},T.getDateTimeFormat=function(e){return p.value[e]||{}},T.setDateTimeFormat=function(e,t){p.value[e]=t,S.datetimeFormats=p.value,Jt(S,e,t)},T.mergeDateTimeFormat=function(e,t){p.value[e]=de(p.value[e]||{},t),S.datetimeFormats=p.value,Jt(S,e,t)},T.getNumberFormat=function(e){return d.value[e]||{}},T.setNumberFormat=function(e,t){d.value[e]=t,S.numberFormats=d.value,tn(S,e,t)},T.mergeNumberFormat=function(e,t){d.value[e]=de(d.value[e]||{},t),S.numberFormats=d.value,tn(S,e,t)},T[pn]=e.__injectWithOption,T[sn]=function(...e){return C((t=>{let n;const r=t;try{r.processor=I,n=Reflect.apply(zt,null,[r,...e])}finally{r.processor=null}return n}),(()=>Yt(...e)),0,(t=>t[sn](...e)),(e=>[bn(e)]),(e=>be(e)))},T[ln]=function(...e){return C((t=>Reflect.apply(Qt,null,[t,...e])),(()=>Xt(...e)),0,(t=>t[ln](...e)),(()=>[]),(e=>ye(e)||be(e)))},T[cn]=function(...e){return C((t=>Reflect.apply(Zt,null,[t,...e])),(()=>en(...e)),0,(t=>t[cn](...e)),(()=>[]),(e=>ye(e)||be(e)))},T}function En(e={},t){{const t=wn(function(e){const t=ye(e.locale)?e.locale:Rt,n=ye(e.fallbackLocale)||be(e.fallbackLocale)||ke(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=_e(e.missing)?e.missing:void 0,a=!we(e.silentTranslationWarn)&&!ce(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!we(e.silentFallbackWarn)&&!ce(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!we(e.fallbackRoot)||e.fallbackRoot,i=!!e.formatFallbackMessages,l=ke(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=_e(e.postTranslation)?e.postTranslation:void 0,p=!ye(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,d=!!e.escapeParameterHtml,h=!we(e.sync)||e.sync;let f=e.messages;if(ke(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return de(r,t[n]),e}),f||{})}const{__i18n:m,__root:g,__injectWithOption:v}=e,b=e.datetimeFormats,_=e.numberFormats;return{locale:t,fallbackLocale:n,messages:f,flatJson:e.flatJson,datetimeFormats:b,numberFormats:_,missing:r,missingWarn:a,fallbackWarn:o,fallbackRoot:s,fallbackFormat:i,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:p,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:h,__i18n:m,__root:g,__injectWithOption:v}}(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return we(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=we(e)?!e:e},get silentFallbackWarn(){return we(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=we(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,a]=e,o={};let s=null,i=null;if(!ye(n))throw on(an.INVALID_ARGUMENT);const l=n;return ye(r)?o.locale=r:be(r)?s=r:ke(r)&&(i=r),be(a)?s=a:ke(a)&&(i=a),Reflect.apply(t.t,t,[l,s||i||{},o])},rt:(...e)=>Reflect.apply(t.rt,t,[...e]),tc(...e){const[n,r,a]=e,o={plural:1};let s=null,i=null;if(!ye(n))throw on(an.INVALID_ARGUMENT);const l=n;return ye(r)?o.locale=r:le(r)?o.plural=r:be(r)?s=r:ke(r)&&(i=r),ye(a)?o.locale=a:be(a)?s=a:ke(a)&&(i=a),Reflect.apply(t.t,t,[l,s||i||{},o])},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1,__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const An={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function Sn(e){return f}const kn={name:"i18n-t",props:de({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>le(e)||!isNaN(e)}},An),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||Tn({useScope:e.scope,__useComponent:!0}),o=Object.keys(n).filter((e=>"_"!==e));return()=>{const n={};e.locale&&(n.locale=e.locale),void 0!==e.plural&&(n.plural=ye(e.plural)?+e.plural:e.plural);const s=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce(((e,t)=>[...e,...be(t.children)?t.children:[t]]),[]);return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}(t,o),i=a[sn](e.keypath,s,n),l=de({},r),c=ye(e.tag)||Ee(e.tag)?e.tag:Sn();return m(c,l,i)}}};function Rn(e,t,n,r){const{slots:a,attrs:o}=t;return()=>{const t={part:!0};let s={};e.locale&&(t.locale=e.locale),ye(e.format)?t.key=e.format:Ee(e.format)&&(ye(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?de({},t,{[r]:e.format[r]}):t),{}));const i=r(e.value,t,s);let l=[t.key];be(i)?l=i.map(((e,t)=>{const n=a[e.type],r=n?n({[e.type]:e.value,index:t,parts:i}):[e.value];var o;return be(o=r)&&!ye(o[0])&&(r[0].key=`${e.type}-${t}`),r})):ye(i)&&(l=[i]);const c=de({},o),u=ye(e.tag)||Ee(e.tag)?e.tag:Sn();return m(u,c,l)}}const Pn=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],Ln={name:"i18n-n",props:de({value:{type:Number,required:!0},format:{type:[String,Object]}},An),setup(e,t){const n=e.i18n||Tn({useScope:"parent",__useComponent:!0});return Rn(e,t,Pn,((...e)=>n[cn](...e)))}},Nn=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],On={name:"i18n-d",props:de({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},An),setup(e,t){const n=e.i18n||Tn({useScope:"parent",__useComponent:!0});return Rn(e,t,Nn,((...e)=>n[ln](...e)))}};function Cn(e){const t=(t,{instance:n,value:r,modifiers:a})=>{if(!n||!n.$)throw on(an.UNEXPECTED_ERROR);const o=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),s=function(e){if(ye(e))return{path:e};if(ke(e)){if(!("path"in e))throw on(an.REQUIRED_VALUE);return e}throw on(an.INVALID_VALUE)}(r);t.textContent=Reflect.apply(o.t,o,[...Mn(s)])};return{beforeMount:t,beforeUpdate:t}}function Mn(e){const{path:t,locale:n,args:r,choice:a,plural:o}=e,s={},i=r||{};return ye(n)&&(s.locale=n),le(a)&&(s.plural=a),le(o)&&(s.plural=o),[t,i,s]}function In(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[un](t.pluralizationRules||e.pluralizationRules);const n=hn(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const Dn=se("global-vue-i18n");function Tn(e={}){const n=r();if(null==n)throw on(an.MUST_BE_CALL_SETUP_TOP);if(!n.isCE&&null!=n.appContext.app&&!n.appContext.app.__VUE_I18N_SYMBOL__)throw on(an.NOT_INSLALLED);const a=function(e){{const t=c(e.isCE?Dn:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw on(e.isCE?an.NOT_INSLALLED_WITH_PROVIDE:an.UNEXPECTED_ERROR);return t}}(n),o=function(e){return"composition"===e.mode?e.global:e.global.__composer}(a),s=gn(n),i=function(e,t){return ue(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,s);if(__VUE_I18N_LEGACY_API__&&"legacy"===a.mode&&!e.__useComponent){if(!a.allowComposition)throw on(an.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,n,r,a={}){const o="local"===n,s=v(null);if(o&&e.proxy&&!e.proxy.$options.i18n)throw on(an.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=!we(a.inheritLocale)||a.inheritLocale,l=t(o&&i?r.locale.value:ye(a.locale)?a.locale:Rt),c=t(o&&i?r.fallbackLocale.value:ye(a.fallbackLocale)||be(a.fallbackLocale)||ke(a.fallbackLocale)||!1===a.fallbackLocale?a.fallbackLocale:l.value),u=t(hn(l.value,a)),p=t(ke(a.datetimeFormats)?a.datetimeFormats:{[l.value]:{}}),d=t(ke(a.numberFormats)?a.numberFormats:{[l.value]:{}}),f=o?r.missingWarn:!we(a.missingWarn)&&!ce(a.missingWarn)||a.missingWarn,m=o?r.fallbackWarn:!we(a.fallbackWarn)&&!ce(a.fallbackWarn)||a.fallbackWarn,g=o?r.fallbackRoot:!we(a.fallbackRoot)||a.fallbackRoot,_=!!a.fallbackFormat,y=_e(a.missing)?a.missing:null,w=_e(a.postTranslation)?a.postTranslation:null,E=o?r.warnHtmlMessage:!we(a.warnHtmlMessage)||a.warnHtmlMessage,A=!!a.escapeParameter,S=o?r.modifiers:ke(a.modifiers)?a.modifiers:{},k=a.pluralRules||o&&r.pluralRules;function R(){return[l.value,c.value,u.value,p.value,d.value]}const P=h({get:()=>s.value?s.value.locale.value:l.value,set:e=>{s.value&&(s.value.locale.value=e),l.value=e}}),L=h({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:e=>{s.value&&(s.value.fallbackLocale.value=e),c.value=e}}),N=h((()=>s.value?s.value.messages.value:u.value)),O=h((()=>p.value)),C=h((()=>d.value));function M(){return s.value?s.value.getPostTranslationHandler():w}function I(e){s.value&&s.value.setPostTranslationHandler(e)}function D(){return s.value?s.value.getMissingHandler():y}function T(e){s.value&&s.value.setMissingHandler(e)}function x(e){return R(),e()}function W(...e){return s.value?x((()=>Reflect.apply(s.value.t,null,[...e]))):x((()=>""))}function F(...e){return s.value?Reflect.apply(s.value.rt,null,[...e]):""}function U(...e){return s.value?x((()=>Reflect.apply(s.value.d,null,[...e]))):x((()=>""))}function $(...e){return s.value?x((()=>Reflect.apply(s.value.n,null,[...e]))):x((()=>""))}function j(e){return s.value?s.value.tm(e):{}}function H(e,t){return!!s.value&&s.value.te(e,t)}function B(e){return s.value?s.value.getLocaleMessage(e):{}}function V(e,t){s.value&&(s.value.setLocaleMessage(e,t),u.value[e]=t)}function G(e,t){s.value&&s.value.mergeLocaleMessage(e,t)}function z(e){return s.value?s.value.getDateTimeFormat(e):{}}function q(e,t){s.value&&(s.value.setDateTimeFormat(e,t),p.value[e]=t)}function K(e,t){s.value&&s.value.mergeDateTimeFormat(e,t)}function Y(e){return s.value?s.value.getNumberFormat(e):{}}function Q(e,t){s.value&&(s.value.setNumberFormat(e,t),d.value[e]=t)}function X(e,t){s.value&&s.value.mergeNumberFormat(e,t)}const J={get id(){return s.value?s.value.id:-1},locale:P,fallbackLocale:L,messages:N,datetimeFormats:O,numberFormats:C,get inheritLocale(){return s.value?s.value.inheritLocale:i},set inheritLocale(e){s.value&&(s.value.inheritLocale=e)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(u.value)},get modifiers(){return s.value?s.value.modifiers:S},get pluralRules(){return s.value?s.value.pluralRules:k},get isGlobal(){return!!s.value&&s.value.isGlobal},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(e){s.value&&(s.value.missingWarn=e)},get fallbackWarn(){return s.value?s.value.fallbackWarn:m},set fallbackWarn(e){s.value&&(s.value.missingWarn=e)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(e){s.value&&(s.value.fallbackRoot=e)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(e){s.value&&(s.value.fallbackFormat=e)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:E},set warnHtmlMessage(e){s.value&&(s.value.warnHtmlMessage=e)},get escapeParameter(){return s.value?s.value.escapeParameter:A},set escapeParameter(e){s.value&&(s.value.escapeParameter=e)},t:W,getPostTranslationHandler:M,setPostTranslationHandler:I,getMissingHandler:D,setMissingHandler:T,rt:F,d:U,n:$,tm:j,te:H,getLocaleMessage:B,setLocaleMessage:V,mergeLocaleMessage:G,getDateTimeFormat:z,setDateTimeFormat:q,mergeDateTimeFormat:K,getNumberFormat:Y,setNumberFormat:Q,mergeNumberFormat:X};function Z(e){e.locale.value=l.value,e.fallbackLocale.value=c.value,Object.keys(u.value).forEach((t=>{e.mergeLocaleMessage(t,u.value[t])})),Object.keys(p.value).forEach((t=>{e.mergeDateTimeFormat(t,p.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeNumberFormat(t,d.value[t])})),e.escapeParameter=A,e.fallbackFormat=_,e.fallbackRoot=g,e.fallbackWarn=m,e.missingWarn=f,e.warnHtmlMessage=E}return b((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw on(an.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const t=s.value=e.proxy.$i18n.__composer;"global"===n?(l.value=t.locale.value,c.value=t.fallbackLocale.value,u.value=t.messages.value,p.value=t.datetimeFormats.value,d.value=t.numberFormats.value):o&&Z(t)})),J}(n,i,o,e)}if("global"===i)return vn(o,e,s),o;if("parent"===i){let t=function(e,t,n=!1){let r=null;const a=t.root;let o=t.parent;for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[pn]&&(r=null))}if(null!=r)break;if(a===o)break;o=o.parent}return r}(a,n,e.__useComponent);return null==t&&(t=o),t}const l=a;let p=l.__getInstance(n);if(null==p){const t=de({},e);"__i18n"in s&&(t.__i18n=s.__i18n),o&&(t.__root=o),p=wn(t),function(e,t,n){g((()=>{}),t),u((()=>{e.__deleteInstance(t)}),t)}(l,n),l.__setInstance(n,p)}return p}const xn=["locale","fallbackLocale","availableLocales"],Wn=["t","rt","d","n","tm"];var Fn;if(Pt=function(e,t={}){{const n=(t.onCacheKey||Ft)(e),r=Ut[n];if(r)return r;let a=!1;const o=t.onError||He;t.onError=e=>{a=!0,o(e)};const{code:s}=rt(e,t),i=new Function(`return ${s}`)();return a?i:Ut[n]=i}},Lt=function(e,t){if(!Ee(e))return null;let n=ut.get(t);if(n||(n=function(e){const t=[];let n,r,a,o,s,i,l,c=-1,u=0,p=0;const d=[];function h(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,a="\\"+t,d[0](),!0}for(d[0]=()=>{void 0===r?r=a:r+=a},d[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},d[2]=()=>{d[0](),p++},d[3]=()=>{if(p>0)p--,u=4,d[0]();else{if(p=0,void 0===r)return!1;if(r=ct(r),!1===r)return!1;d[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!h()){if(o=lt(n),l=st[u],s=l[o]||l.l||8,8===s)return;if(u=s[0],void 0!==s[1]&&(i=d[s[1]],i&&(a=n,!1===i())))return;if(7===u)return t}}(t),n&&ut.set(t,n)),!n)return null;const r=n.length;let a=e,o=0;for(;o<r;){const e=a[n[o]];if(void 0===e)return null;a=e,o++}return a},Nt=Et,"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(fe().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(fe().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(fe().__INTLIFY_PROD_DEVTOOLS__=!1),__INTLIFY_PROD_DEVTOOLS__){const e=fe();e.__INTLIFY__=!0,Fn=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,bt=Fn}const Un=function(t={},n){const a=__VUE_I18N_LEGACY_API__&&we(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,o=!we(t.globalInjection)||t.globalInjection,i=!__VUE_I18N_LEGACY_API__||!a||!!t.allowComposition,l=new Map,[c,u]=function(t,n,r){const a=e();{const e=__VUE_I18N_LEGACY_API__&&n?a.run((()=>En(t))):a.run((()=>wn(t)));if(null==e)throw on(an.UNEXPECTED_ERROR);return[a,e]}}(t,a),p=se("");{const e={get mode(){return __VUE_I18N_LEGACY_API__&&a?"legacy":"composition"},get allowComposition(){return i},async install(t,...n){t.__VUE_I18N_SYMBOL__=p,t.provide(t.__VUE_I18N_SYMBOL__,e),!a&&o&&function(e,t){const n=Object.create(null);xn.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw on(an.UNEXPECTED_ERROR);const a=s(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,a)})),e.config.globalProperties.$i18n=n,Wn.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw on(an.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}(t,e.global),__VUE_I18N_FULL_INSTALL__&&function(e,t,...n){const r=ke(n[0])?n[0]:{},a=!!r.useI18nComponentName;(!we(r.globalInstall)||r.globalInstall)&&(e.component(a?"i18n":kn.name,kn),e.component(Ln.name,Ln),e.component(On.name,On)),e.directive("t",Cn(t))}(t,e,...n),__VUE_I18N_LEGACY_API__&&a&&t.mixin(function(e,t,n){return{beforeCreate(){const a=r();if(!a)throw on(an.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const n=o.i18n;o.__i18n&&(n.__i18n=o.__i18n),n.__root=t,this===this.$root?this.$i18n=In(e,n):(n.__injectWithOption=!0,this.$i18n=En(n))}else o.__i18n?this===this.$root?this.$i18n=In(e,o):this.$i18n=En({__i18n:o.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;o.__i18nGlobal&&vn(t,o,o),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(a,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){},unmounted(){const e=r();if(!e)throw on(an.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}(u,u.__composer,e));const i=t.unmount;t.unmount=()=>{e.dispose(),i()}},get global(){return u},dispose(){c.stop()},__instances:l,__getInstance:function(e){return l.get(e)||null},__setInstance:function(e,t){l.set(e,t)},__deleteInstance:function(e){l.delete(e)}};return e}}({locale:"zh",messages:{en:{message:{hello:"hello world"},menu:{layout:"layout",developer:"developer",chat:"chat",setting:"setting",notFound:"404",dashboard:"dashboard",playground:"playground"}},zh:{message:{hello:"你好 世界"},menu:{layout:"布局",developer:"开发",chat:"编辑",setting:"配置",notFound:"404",dashboard:"介绍",playground:"练习"}},ja:{message:{hello:"こんにちは、世界"},menu:{layout:"レイアウト",developer:"開発者",chat:"チャット",setting:"テスト",notFound:"見出されない",dashboard:"dashboard",playground:"playground"}}}});const $n=new W("micro-base"),jn=new class extends F{constructor(){super(...arguments),this.chain=U.chain(this).get("data")}}($n);jn.data={system:{},database:{}};const Hn=localStorage.getItem("micro-base");function Bn({dbName:e="database",path:t="",user:n=!0,validator:r=(()=>!0),defaultValue:a=""}){const o=`${e}.${n?"user.ghost-uuid":"public"}${t?`.${t}`:""}`,s=jn.chain.get(o).value();return void 0!==s&&r(s)||(jn.chain.set(o,a),jn.write()),o}function Vn({dbName:e="database",path:t="",defaultValue:n="",user:r=!1}){return $.exports.cloneDeep(jn.chain.get(Bn({dbName:e,path:t,user:r,defaultValue:n})).value())}function Gn({dbName:e="database",path:t="",user:n=!1,validator:r=(()=>!0),defaultValue:a=""}={}){return jn.chain.get(Bn({dbName:e,path:t,user:n,validator:r,defaultValue:a}))}
/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */null!==Hn&&(jn.data=JSON.parse(Hn)),jn.write();const zn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,qn=e=>zn?Symbol(e):"_vr_"+e,Kn=qn("rvlm"),Yn=qn("rvd"),Qn=qn("r"),Xn=qn("rl"),Jn=qn("rvl"),Zn="undefined"!=typeof window;const er=Object.assign;function tr(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const nr=()=>{},rr=/\/$/;function ar(e,t,n="/"){let r,a={},o="",s="";const i=t.indexOf("?"),l=t.indexOf("#",i>-1?i:0);return i>-1&&(r=t.slice(0,i),o=t.slice(i+1,l>-1?l:t.length),a=e(o)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a,o,s=n.length-1;for(a=0;a<r.length;a++)if(o=r[a],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:a,hash:s}}function or(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function sr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ir(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!lr(e[n],t[n]))return!1;return!0}function lr(e,t){return Array.isArray(e)?cr(e,t):Array.isArray(t)?cr(t,e):e===t}function cr(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var ur,pr,dr,hr;function fr(e){if(!e)if(Zn){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(rr,"")}(pr=ur||(ur={})).pop="pop",pr.push="push",(hr=dr||(dr={})).back="back",hr.forward="forward",hr.unknown="";const mr=/^[^#]+#/;function gr(e,t){return e.replace(mr,"#")+t}const vr=()=>({left:window.pageXOffset,top:window.pageYOffset});function br(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),a="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function _r(e,t){return(history.state?history.state.position-t:-1)+e}const yr=new Map;function wr(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let t=a.includes(e.slice(o))?e.slice(o).length:1,n=a.slice(t);return"/"!==n[0]&&(n="/"+n),or(n,"")}return or(n,e)+r+a}function Er(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?vr():null}}function Ar(e){const{history:t,location:n}=window,r={value:wr(e,n)},a={value:t.state};function o(r,o,s){const i=e.indexOf("#"),l=i>-1?(n.host&&document.querySelector("base")?e:e.slice(i))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](o,"",l),a.value=o}catch(c){n[s?"replace":"assign"](l)}}return a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:a,push:function(e,n){const s=er({},a.value,t.state,{forward:e,scroll:vr()});o(s.current,s,!0),o(e,er({},Er(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){o(e,er({},t.state,Er(a.value.back,e,a.value.forward,!0),n,{position:a.value.position}),!0),r.value=e}}}function Sr(e){return"string"==typeof e||"symbol"==typeof e}const kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rr=qn("nf");var Pr,Lr;function Nr(e,t){return er(new Error,{type:e,[Rr]:!0},t)}function Or(e,t){return e instanceof Error&&Rr in e&&(null==t||!!(e.type&t))}(Lr=Pr||(Pr={}))[Lr.aborted=4]="aborted",Lr[Lr.cancelled=8]="cancelled",Lr[Lr.duplicated=16]="duplicated";const Cr={sensitive:!1,strict:!1,start:!0,end:!0},Mr=/[.+*?^${}()[\]/\\]/g;function Ir(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Dr(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const e=Ir(r[n],a[n]);if(e)return e;n++}return a.length-r.length}const Tr={type:0,value:""},xr=/[a-zA-Z0-9_]/;function Wr(e,t,n){const r=function(e,t){const n=er({},Cr,t),r=[];let a=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(a+="/");for(let t=0;t<l.length;t++){const r=l[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(a+="/"),a+=r.value.replace(Mr,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:u}=r;o.push({name:e,repeatable:n,optional:c});const p=u||"[^/]+?";if("[^/]+?"!==p){s+=10;try{new RegExp(`(${p})`)}catch(i){throw new Error(`Invalid custom RegExp for param "${e}" (${p}): `+i.message)}}let d=n?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;t||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),a+=d,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===p&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const s=new RegExp(a,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",a=o[r-1];n[a.name]=e&&a.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const a of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of a)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:i}=e,l=o in t?t[o]:"";if(Array.isArray(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!i)throw new Error(`Missing required param "${o}"`);a.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Tr]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const a=[];let o;function s(){o&&a.push(o),o=[]}let i,l=0,c="",u="";function p(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===i||"+"===i)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===i||"+"===i,optional:"*"===i||"?"===i})):t("Invalid state to consume buffer"),c="")}function d(){c+=i}for(;l<e.length;)if(i=e[l++],"\\"!==i||2===n)switch(n){case 0:"/"===i?(c&&p(),s()):":"===i?(p(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===i?n=2:xr.test(i)?d():(p(),n=0,"*"!==i&&"?"!==i&&"+"!==i&&l--);break;case 2:")"===i?"\\"==u[u.length-1]?u=u.slice(0,-1)+i:n=3:u+=i;break;case 3:p(),n=0,"*"!==i&&"?"!==i&&"+"!==i&&l--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),p(),s(),a}(e.path),n),a=er(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Fr(e,t){const n=[],r=new Map;function a(e,n,r){const i=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ur(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;const c=Hr(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(er({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let p,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(p=Wr(t,n,c),r?r.alias.push(p):(d=d||p,d!==p&&d.alias.push(p),i&&e.name&&!$r(p)&&o(e.name)),"children"in l){const e=l.children;for(let t=0;t<e.length;t++)a(e[t],p,r&&r.children[t])}r=r||p,s(p)}return d?()=>{o(d)}:nr}function o(e){if(Sr(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<n.length&&Dr(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Br(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!$r(e)&&r.set(e.record.name,e)}return t=Hr({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>a(e))),{addRoute:a,resolve:function(e,t){let a,o,s,i={};if("name"in e&&e.name){if(a=r.get(e.name),!a)throw Nr(1,{location:e});s=a.record.name,i=er(function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(t.params,a.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=a.stringify(i)}else if("path"in e)o=e.path,a=n.find((e=>e.re.test(o))),a&&(i=a.parse(o),s=a.record.name);else{if(a=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!a)throw Nr(1,{location:e,currentLocation:t});s=a.record.name,i=er({},t.params,e.params),o=a.stringify(i)}const l=[];let c=a;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:i,matched:l,meta:jr(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Ur(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function $r(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jr(e){return e.reduce(((e,t)=>er(e,t.meta)),{})}function Hr(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Br(e,t){return t.children.some((t=>t===e||Br(e,t)))}const Vr=/#/g,Gr=/&/g,zr=/\//g,qr=/=/g,Kr=/\?/g,Yr=/\+/g,Qr=/%5B/g,Xr=/%5D/g,Jr=/%5E/g,Zr=/%60/g,ea=/%7B/g,ta=/%7C/g,na=/%7D/g,ra=/%20/g;function aa(e){return encodeURI(""+e).replace(ta,"|").replace(Qr,"[").replace(Xr,"]")}function oa(e){return aa(e).replace(Yr,"%2B").replace(ra,"+").replace(Vr,"%23").replace(Gr,"%26").replace(Zr,"`").replace(ea,"{").replace(na,"}").replace(Jr,"^")}function sa(e){return null==e?"":function(e){return aa(e).replace(Vr,"%23").replace(Kr,"%3F")}(e).replace(zr,"%2F")}function ia(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function la(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(Yr," "),a=e.indexOf("="),o=ia(a<0?e:e.slice(0,a)),s=a<0?null:ia(e.slice(a+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function ca(e){let t="";for(let n in e){const r=e[n];if(n=oa(n).replace(qr,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&oa(e))):[r&&oa(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function ua(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function pa(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function da(e){const t=c(Kn,{}).value;t&&function(e,t,n){const r=()=>{e[t].delete(n)};u(r),E(r),A((()=>{e[t].add(n)})),e[t].add(n)}(t,"leaveGuards",e)}function ha(e,t,n,r,a){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise(((s,i)=>{const l=e=>{var l;!1===e?i(Nr(4,{from:n,to:t})):e instanceof Error?i(e):"string"==typeof(l=e)||l&&"object"==typeof l?i(Nr(2,{from:t,to:e})):(o&&r.enterCallbacks[a]===o&&"function"==typeof e&&o.push(e),s())},c=e.call(r&&r.instances[a],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>i(e)))}))}function fa(e,t,n,r){const a=[];for(const s of e)for(const e in s.components){let i=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(o=i)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(i.__vccOpts||i)[t];o&&a.push(ha(o,n,r,s,e))}else{let o=i();a.push((()=>o.then((a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=(i=a).__esModule||zn&&"Module"===i[Symbol.toStringTag]?a.default:a;var i;s.components[e]=o;const l=(o.__vccOpts||o)[t];return l&&ha(l,n,r,s,e)()}))))}}var o;return a}function ma(e){const t=c(Qn),n=c(Xn),r=h((()=>t.resolve(w(e.to)))),a=h((()=>{const{matched:e}=r.value,{length:t}=e,a=e[t-1],o=n.matched;if(!a||!o.length)return-1;const s=o.findIndex(sr.bind(null,a));if(s>-1)return s;const i=va(e[t-2]);return t>1&&va(a)===i&&o[o.length-1].path!==i?o.findIndex(sr.bind(null,e[t-2])):s})),o=h((()=>a.value>-1&&function(e,t){for(const n in t){const r=t[n],a=e[n];if("string"==typeof r){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some(((e,t)=>e!==a[t])))return!1}return!0}(n.params,r.value.params))),s=h((()=>a.value>-1&&a.value===n.matched.length-1&&ir(n.params,r.value.params)));return{route:r,href:h((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[w(e.replace)?"replace":"push"](w(e.to)).catch(nr):Promise.resolve()}}}const ga=S({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ma,setup(e,{slots:t}){const n=o(ma(e)),{options:r}=c(Qn),a=h((()=>({[ba(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ba(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:m("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}});function va(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ba=(e,t,n)=>null!=e?e:null!=t?t:n;function _a(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ya=S({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:n,slots:r}){const o=c(Jn),s=h((()=>e.route||o.value)),i=c(Yn,0),l=h((()=>s.value.matched[i]));k(Yn,i+1),k(Kn,l),k(Jn,s);const u=t();return a((()=>[u.value,l.value,e.name]),(([e,t,n],[r,a,o])=>{t&&(t.instances[n]=e,a&&a!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=a.leaveGuards),t.updateGuards.size||(t.updateGuards=a.updateGuards))),!e||!t||a&&sr(t,a)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const t=s.value,a=l.value,o=a&&a.components[e.name],i=e.name;if(!o)return _a(r.default,{Component:o,route:t});const c=a.props[e.name],p=c?!0===c?t.params:"function"==typeof c?c(t):c:null,d=m(o,er({},p,n,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[i]=null)},ref:u}));return _a(r.default,{Component:d,route:t})||d}}});function wa(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function Ea(){return c(Qn)}function Aa(){return c(Xn)}const Sa=re({id:"db",actions:{set({dbName:e="database",path:t="",value:n="",user:r=!1}){!function({dbName:e="database",path:t="",value:n="",user:r=!1}){jn.data=jn.chain.set(Bn({dbName:e,path:t,user:r}),n).value(),jn.write()}({dbName:e,path:t,value:n,user:r})},get:({dbName:e="database",path:t="",defaultValue:n="",user:r=!1})=>Vn({dbName:e,path:t,defaultValue:n,user:r}),database:({user:e=!1}={})=>Gn({user:e,defaultValue:{}}),databaseClear:({user:e=!1}={})=>Gn({user:e,validator:()=>!1,defaultValue:{}}),databasePage:({basis:e="fullPath",user:t=!1}={})=>Gn({path:`$page.${Aa()[e]}`,user:t,defaultValue:{}}),databasePageClear:({basis:e="fullPath",user:t=!1}={})=>Gn({path:`$page.${Aa()[e]}`,user:t,validator:()=>!1,defaultValue:{}}),pageSet:({instance:e,basis:t="fullPath",user:n=!1})=>Gn({path:`$page.${Aa()[t]}.$data`,user:n,validator:()=>!1,defaultValue:$.exports.cloneDeep(e.$data)}),pageGet:({instance:e,basis:t="fullPath",user:n=!1})=>Vn({path:`$page.${Aa()[t]}.$data`,user:n,defaultValue:$.exports.cloneDeep(e.$data)}),pageClear:({basis:e="fullPath",user:t=!1})=>Gn({path:`$page.${Aa()[e]}.$data`,user:t,validator:()=>!1,defaultValue:{}})}});var ka=(e=>(e.DATABASE="database",e.SYSTEM="system",e))(ka||{}),Ra=(e=>(e.LANG="lang",e.THEME="theme",e.ASYNCMENU="asyncMenu",e))(Ra||{});const Pa=re({id:"app",state:()=>({theme:"",lang:""}),getters:{getTheme:e=>e.theme},actions:{reload(){const e=Sa().get({dbName:ka.SYSTEM,defaultValue:{}});this.setTheme(null==e?void 0:e.theme),this.setLang(null==e?void 0:e.lang)},setTheme(e=H.DARK){const t=Sa();this.theme=e,document.body.setAttribute("arco-theme",e),t.set({dbName:ka.SYSTEM,path:Ra.THEME,value:e})},setLang(e=B.ZH){const t=Sa();this.lang=e,Un.global.locale=e,t.set({dbName:ka.SYSTEM,path:Ra.LANG,value:e})}}}),La=S({setup:e=>(Pa().reload(),(e,t)=>{const n=R("router-view");return P(),L(n)})});const Na="undefined"!=typeof window,Oa="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Function("return this")(),Ca=()=>{},Ma=()=>!1,Ia=Array.isArray,Da=Object.assign,Ta=Object.defineProperty,xa=Object.defineProperties,Wa=Object.prototype.hasOwnProperty;function Fa(e){return void 0===e}function Ua(e){return null===e}function $a(e){return"string"==typeof e}function ja(e){return"boolean"==typeof e}function Ha(e){return"number"==typeof e}function Ba(e){return"function"==typeof e}function Va(e){return"[object Object]"===toString.call(e)}function Ga(e){return"object"==typeof e}function za(e){return"[object Promise]"===toString.call(e)}function qa(e){var t;if(Ba(e)){const n=e.toString();return(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\s+[A-Z]/.test(n)||/^class\s+/.test(n)}return!1}function Ka(e){return e instanceof URL}function Ya(e){return e instanceof Element}function Qa(e){return e instanceof Node}function Xa(e,t=null,...n){t&&$a(t);$a(e)}function Ja(e,t=null,...n){t&&$a(t);$a(e)}function Za(e,...t){Promise.resolve().then(e.bind(null,...t))}const eo=function(){class e extends URL{}return(t,n)=>n?new e(""+t,n):new e(""+t)}();function to(e){return e.startsWith("//")?`${Oa.location.protocol}${e}`:e}function no(e,t=null){if(!$a(e)||!e)return"";try{const{origin:t,pathname:n,search:r}=eo(to(e));if(/\.(\w+)$/.test(n))return`${t}${n}${r}`;const a=`${t}${n}/`.replace(/\/\/$/,"/");return/^https?:\/\//.test(a)?`${a}${r}`:""}catch(n){return Xa(n,t),""}}function ro(e){return $a(e)&&e?e.replace(/(^\d+)|([^\w\d-_])/gi,""):""}function ao(e){const{origin:t,pathname:n}=eo(e);if(/\.(\w+)$/.test(n)){const e=`${t}${n}`.split("/");return e.pop(),e.join("/")+"/"}return`${t}${n}/`.replace(/\/\/$/,"/")}function oo(e,t){return!e||/^((((ht|f)tps?)|file):)?\/\//.test(e)||/^(data|blob):/.test(e)?e:eo(e,ao(to(t))).toString()}function so(e,t,n,r){let a=0;function o(){++a===e.length&&r&&r()}e.forEach(((e,r)=>{za(e)?e.then((e=>{t({data:e,index:r}),o()})).catch((e=>{n({error:e,index:r}),o()})):(t({data:e,index:r}),o())}))}const io=Oa.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)};function lo(e){return new Promise((t=>{io((()=>{e(t)}))}))}let co=null;function uo(e){co=e}function po(e){co!==e&&(uo(e),Za((()=>{uo(null)})))}function ho(){return co}function fo(){uo(null)}function mo(e,t){const n=document.createElement(e,t);return n.__MICRO_APP_NAME__&&delete n.__MICRO_APP_NAME__,n.__PURE_ELEMENT__=!0,n}function go(e,t,n){if(t.innerHTML="",n){const n=e.cloneNode(!0),r=document.createDocumentFragment();Array.from(n.childNodes).forEach((e=>{r.appendChild(e)})),t.appendChild(r)}else Array.from(e.childNodes).forEach((e=>{t.appendChild(e)}))}function vo(e){return!e||/(^\d)|([^\w\d-_\u4e00-\u9fa5])/gi.test(e)}function bo(e){return/^body$/i.test(e)||/^head$/i.test(e)||/^html$/i.test(e)||/^title$/i.test(e)}function _o(e){return function(e){return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot}(e)?e.host:e}function yo(e){return e?e.replace(/^\s+|\s+$/g,""):""}function wo(){return navigator.userAgent.indexOf("Firefox")>-1}function Eo(e){const t={},n=e.split("&");for(const r of n){const e=r.indexOf("="),n=e<0?r:r.slice(0,e),a=e<0?null:r.slice(e+1);if(n in t){let e=t[n];Ia(e)||(e=t[n]=[e]),e.push(a)}else t[n]=a}return t}function Ao(e){let t="";for(const n in e){const r=e[n];if(Ua(r))t+=(t.length?"&":"")+n;else{(Ia(r)?r:[r]).forEach((e=>{Fa(e)||(t+=(t.length?"&":"")+n,Ua(e)||(t+="="+e))}))}}return t}function So(){const e=new Set;return{add:function(t){return e.add(t),()=>!!e.has(t)&&e.delete(t)},list:()=>e}}function ko(e){const t=e.attributes,n=new Map;for(let r=0;r<t.length;r++)n.set(t[r].name,t[r].value);return n}function Ro(e,t){e?e.push((()=>lo((e=>{t(),e()})))):t()}function Po(e){return(null==e?void 0:e.reduce(((e,t)=>e.then(t)),Promise.resolve()))||null}function Lo(e){return e.startsWith("inline-")}function No(e,t,n,...r){try{Ba(e)&&e(...r)}catch(a){Xa(`an error occurred in app ${t} ${n} \n`,null)}}var Oo,Co,Mo,Io,Do,To,xo,Wo,Fo,Uo,$o,jo;(Co=Oo||(Oo={})).NAME="name",Co.URL="url",(Io=Mo||(Mo={})).CREATED="created",Io.LOADING="loading",Io.LOADED="loaded",Io.LOAD_FAILED="load_failed",Io.MOUNTING="mounting",Io.MOUNTED="mounted",Io.UNMOUNT="unmount",(To=Do||(Do={})).CREATED="created",To.BEFOREMOUNT="beforemount",To.MOUNTED="mounted",To.UNMOUNT="unmount",To.ERROR="error",To.BEFORESHOW="beforeshow",To.AFTERSHOW="aftershow",To.AFTERHIDDEN="afterhidden",(Wo=xo||(xo={})).ONMOUNT="onmount",Wo.ONUNMOUNT="onunmount",(Uo=Fo||(Fo={})).KEEP_ALIVE_SHOW="keep_alive_show",Uo.KEEP_ALIVE_HIDDEN="keep_alive_hidden",(jo=$o||($o={})).DESTROY="destroy",jo.DESTORY="destory",jo.INLINE="inline",jo.DISABLESCOPECSS="disableScopecss",jo.DISABLESANDBOX="disableSandbox",jo.DISABLE_SCOPECSS="disable-scopecss",jo.DISABLE_SANDBOX="disable-sandbox",jo.DISABLE_MEMORY_ROUTER="disable-memory-router",jo.DISABLE_PATCH_REQUEST="disable-patch-request",jo.KEEP_ROUTER_STATE="keep-router-state",jo.HIDDEN_ROUTER="hidden-router",jo.KEEP_ALIVE="keep-alive",jo.CLEAR_DATA="clear-data",jo.ESMODULE="esmodule",jo.SSR="ssr",jo.FIBER="fiber";const Ho=[1,2,3],Bo="window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history";function Vo(e,t=null,n={}){return fo(),Ba(Xi.options.fetch)?Xi.options.fetch(e,n,t):window.fetch(e,n).then((e=>e.text()))}class Go{static getInstance(){return this.instance||(this.instance=new Go),this.instance}run(e,t){const n=e.name,r=e.ssrUrl||e.url;Vo(r,n,{cache:"no-cache"}).then((a=>{if(!a){const t="html is empty, please check in detail";return e.onerror(new Error(t)),Xa(t,n)}a=this.formatHTML(r,a,n),t(a,e)})).catch((t=>{Xa(`Failed to fetch data from ${e.url}, micro-app stop rendering`,n),e.onLoadError(t)}))}formatHTML(e,t,n){return this.processHtml(e,t,n,Xi.options.plugins).replace(/<head[^>]*>[\s\S]*?<\/head>/i,(e=>e.replace(/<head/i,"<micro-app-head").replace(/<\/head>/i,"</micro-app-head>"))).replace(/<body[^>]*>[\s\S]*?<\/body>/i,(e=>e.replace(/<body/i,"<micro-app-body").replace(/<\/body>/i,"</micro-app-body>")))}processHtml(e,t,n,r){var a;if(!r)return t;const o=[];return r.global&&o.push(...r.global),(null===(a=r.modules)||void 0===a?void 0:a[n])&&o.push(...r.modules[n]),o.length>0?o.reduce(((t,n)=>Va(n)&&Ba(n.processHtml)?n.processHtml(t,e):t),t):t}}const zo=/(^|\s+)(html|:root)(?=[\s>~[.#:]+|$)/,qo=/(^|\s+)((html[\s>~]+body)|body)(?=[\s>~[.#:]+|$)/;function Ko(e,t){e=t?`${t} ${e}`:e;const n=new Error(e);throw n.reason=e,t&&(n.filename=t),n}class Yo{constructor(){this.cssText="",this.prefix="",this.baseURI="",this.linkPath="",this.result="",this.scopecssDisable=!1,this.scopecssDisableSelectors=[],this.scopecssDisableNextLine=!1,this.mediaRule=this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/,"@media"),this.supportsRule=this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/,"@supports"),this.documentRule=this.createMatcherForRuleWithChildRule(/^@([-\w]+)?document *([^{]+)/,"@document"),this.hostRule=this.createMatcherForRuleWithChildRule(/^@host\s*/,"@host"),this.importRule=this.createMatcherForNoneBraceAtRule("import"),this.charsetRule=this.createMatcherForNoneBraceAtRule("charset"),this.namespaceRule=this.createMatcherForNoneBraceAtRule("namespace")}exec(e,t,n,r){return this.cssText=e,this.prefix=t,this.baseURI=n,this.linkPath=r||"",this.matchRules(),wo()?decodeURIComponent(this.result):this.result}reset(){this.cssText=this.prefix=this.baseURI=this.linkPath=this.result="",this.scopecssDisable=this.scopecssDisableNextLine=!1,this.scopecssDisableSelectors=[]}matchRules(){for(this.matchLeadingSpaces(),this.matchComments();this.cssText.length&&"}"!==this.cssText.charAt(0)&&(this.matchAtRule()||this.matchStyleRule());)this.matchComments()}matchStyleRule(){const e=this.formatSelector(!0);return this.scopecssDisableNextLine=!1,e?(this.recordResult(e),this.matchComments(),this.styleDeclarations(),this.matchLeadingSpaces(),!0):Ko("selector missing",this.linkPath)}formatSelector(e){const t=this.commonMatch(/^[^{]+/,e);return!!t&&t[0].replace(/(^|,[\n\s]*)([^,]+)/g,((e,t,n)=>(n=yo(n),this.scopecssDisableNextLine||this.scopecssDisable&&(!this.scopecssDisableSelectors.length||this.scopecssDisableSelectors.includes(n))||zo.test(n)||(n=qo.test(n)?n.replace(qo,this.prefix+" micro-app-body"):this.prefix+" "+n),t+n)))}styleDeclarations(){return this.matchOpenBrace()?(this.matchAllDeclarations(),!!this.matchCloseBrace()||Ko("Declaration missing '}'",this.linkPath)):Ko("Declaration missing '{'",this.linkPath)}matchAllDeclarations(){let e=this.commonMatch(/^(?:url\(["']?(?:[^)"'}]+)["']?\)|[^}/])*/,!0)[0];if(e&&(this.scopecssDisableNextLine||this.scopecssDisable&&!this.scopecssDisableSelectors.length||(e=e.replace(/url\(["']?([^)"']+)["']?\)/gm,((e,t)=>/^((data|blob):|#)/.test(t)||/^(https?:)?\/\//.test(t)?e:(/^((\.\.?\/)|[^/])/.test(t)&&this.linkPath&&(this.baseURI=function(e){const t=e.split("/");return t.pop(),to(t.join("/")+"/")}(this.linkPath)),`url("${oo(t,this.baseURI)}")`)))),this.recordResult(e)),this.scopecssDisableNextLine=!1,this.cssText&&"}"!==this.cssText.charAt(0))return"/"===this.cssText.charAt(0)&&"*"===this.cssText.charAt(1)?this.matchComments():this.commonMatch(/\/+/),this.matchAllDeclarations()}matchAtRule(){return"@"===this.cssText[0]&&(this.scopecssDisableNextLine=!1,this.keyframesRule()||this.mediaRule()||this.customMediaRule()||this.supportsRule()||this.importRule()||this.charsetRule()||this.namespaceRule()||this.documentRule()||this.pageRule()||this.hostRule()||this.fontFaceRule())}keyframesRule(){if(!this.commonMatch(/^@([-\w]+)?keyframes\s*/))return!1;if(!this.commonMatch(/^[^{]+/))return Ko("@keyframes missing name",this.linkPath);if(this.matchComments(),!this.matchOpenBrace())return Ko("@keyframes missing '{'",this.linkPath);for(this.matchComments();this.keyframeRule();)this.matchComments();return this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Ko("@keyframes missing '}'",this.linkPath)}keyframeRule(){let e;const t=[];for(;e=this.commonMatch(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),this.commonMatch(/^,\s*/);return!!t.length&&(this.styleDeclarations(),this.matchLeadingSpaces(),!0)}customMediaRule(){return!!this.commonMatch(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/)&&(this.matchLeadingSpaces(),!0)}pageRule(){return!!this.commonMatch(/^@page */)&&(this.formatSelector(!1),this.scopecssDisableNextLine=!1,this.commonHandlerForAtRuleWithSelfRule("page"))}fontFaceRule(){return!!this.commonMatch(/^@font-face\s*/)&&this.commonHandlerForAtRuleWithSelfRule("font-face")}createMatcherForRuleWithChildRule(e,t){return()=>!!this.commonMatch(e)&&(this.matchOpenBrace()?(this.matchComments(),this.matchRules(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Ko(`${t} missing '}'`,this.linkPath)):Ko(`${t} missing '{'`,this.linkPath))}createMatcherForNoneBraceAtRule(e){const t=new RegExp("^@"+e+"\\s*([^;]+);");return()=>!!this.commonMatch(t)&&(this.matchLeadingSpaces(),!0)}commonHandlerForAtRuleWithSelfRule(e){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):Ko(`@${e} missing '}'`,this.linkPath)):Ko(`@${e} missing '{'`,this.linkPath)}matchComments(){for(;this.matchComment(););}matchComment(){if("/"!==this.cssText.charAt(0)||"*"!==this.cssText.charAt(1))return!1;this.scopecssDisableNextLine=!1;let e=2;for(;""!==this.cssText.charAt(e)&&("*"!==this.cssText.charAt(e)||"/"!==this.cssText.charAt(e+1));)++e;if(e+=2,""===this.cssText.charAt(e-1))return Ko("End of comment missing",this.linkPath);let t=this.cssText.slice(2,e-2);if(this.recordResult(`/*${t}*/`),t=yo(t.replace(/^\s*!/,"")),"scopecss-disable-next-line"===t)this.scopecssDisableNextLine=!0;else if(/^scopecss-disable/.test(t))if("scopecss-disable"===t)this.scopecssDisable=!0;else{this.scopecssDisable=!0;t.replace("scopecss-disable","").split(",").forEach((e=>{this.scopecssDisableSelectors.push(yo(e))}))}else"scopecss-enable"===t&&(this.scopecssDisable=!1,this.scopecssDisableSelectors=[]);return this.cssText=this.cssText.slice(e),this.matchLeadingSpaces(),!0}commonMatch(e,t=!1){const n=e.exec(this.cssText);if(!n)return;const r=n[0];return this.cssText=this.cssText.slice(r.length),t||this.recordResult(r),n}matchOpenBrace(){return this.commonMatch(/^{\s*/)}matchCloseBrace(){return this.commonMatch(/^}/)}matchLeadingSpaces(){this.commonMatch(/^\s*/)}recordResult(e){wo()?this.result+=encodeURIComponent(e):this.result+=e}}function Qo(e,t,n,r,a){if(!e.__MICRO_APP_HAS_SCOPED__){e.__MICRO_APP_HAS_SCOPED__=!0;let s=null;try{s=Xo.exec(e.textContent,n,r,a),Xo.reset()}catch(o){Xo.reset(),Xa("An error occurred while parsing CSS:\n",t)}s&&(e.textContent=s)}}let Xo;function Jo(e,t,n){if(t.scopecss){const r=Zo(t.name);if(Xo||(Xo=new Yo),e.textContent)Qo(e,t.name,r,t.url,n);else{const a=new MutationObserver((function(){a.disconnect(),e.textContent&&!e.hasAttribute("data-styled")&&Qo(e,t.name,r,t.url,n)}));a.observe(e,{childList:!0})}}return e}function Zo(e,t=!1){const n=t?"\\":"";return`${Xi.tagName}${n}[name=${e}${n}]`}function es(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},srcElement:{get:()=>t},target:{get:()=>t}})}function ts(e){const t=new CustomEvent("load");es(t,e),Ba(e.onload)?e.onload(t):e.dispatchEvent(t)}function ns(e){const t=new CustomEvent("error");es(t,e),Ba(e.onerror)?e.onerror(t):e.dispatchEvent(t)}var rs=function(){const e=new Map,t=new Map;function n(e){return{setInfo(t,n){e.set(t,n)},getInfo(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},hasInfo:t=>e.has(t),deleteInfo:t=>e.delete(t)}}return{link:n(e),script:Object.assign(Object.assign({},n(t)),{deleteInlineInfo(e){e.forEach((e=>{Lo(e)&&t.delete(e)}))}})}}();function as(e,t,n,r=!1){const a=e.getAttribute("rel");let o=e.getAttribute("href"),s=null;if("stylesheet"===a&&o){o=oo(o,n.url);let t=rs.link.getInfo(o);const a={attrs:ko(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||a:t={code:"",appSpace:{[n.name]:a}},rs.link.setInfo(o,t),r)return{address:o,linkInfo:t};n.source.links.add(o),s=document.createComment(`link element with href=${o} move to micro-app-head as style element`),t.appSpace[n.name].placeholder=s}else a&&["prefetch","preload","prerender","icon","apple-touch-icon"].includes(a)?r?s=document.createComment(`link element with rel=${a}${o?" & href="+o:""} removed by micro-app`):t.removeChild(e):o&&e.setAttribute("href",oo(o,n.url));return r?{replaceComment:s}:s?t.replaceChild(s,e):void 0}function os(e,t,n,r){const a=Array.from(t.source.links),o=a.map((e=>{const n=rs.link.getInfo(e);return n.code?n.code:Vo(e,t.name)})),s=t.isPrefetch||t.fiber?[]:null;so(o,(e=>{Ro(s,(()=>function(e,t,n,r){const a=rs.link.getInfo(e);a.code=t;const o=a.appSpace[r.name],s=o.placeholder;if(s){const t=mo("style");ss(r,e,t,a,o.attrs),s.parentNode?s.parentNode.replaceChild(t,s):n.appendChild(t),o.placeholder=null}}(a[e.index],e.data,n,t)))}),(e=>{Xa(e,t.name)}),(()=>{s?r.then((()=>{s.push((()=>Promise.resolve(t.onLoad(e)))),Po(s)})):t.onLoad(e)}))}function ss(e,t,n,r,a){if(e.scopecss){const a=r.appSpace[e.name];if(a.prefix=a.prefix||Zo(e.name),a.parsedCode)n.textContent=a.parsedCode;else{const o=function(e,t,n){const r=n.appSpace;for(const a in r)if(a!==e){const e=r[a];if(e.parsedCode)return e.parsedCode.replaceAll(new RegExp(Zo(a,!0),"g"),t)}}(e.name,a.prefix,r);o?n.textContent=o:(n.textContent=r.code,Jo(n,e,t)),a.parsedCode=n.textContent}}else n.textContent=r.code;!function(e,t){t.forEach(((t,n)=>{"rel"!==n&&("href"===n&&(n="data-origin-href"),e.setAttribute(n,t))}))}(n,a)}class is{constructor(){this.escapeSetterKeyList=["location"],this.staticEscapeProperties=["System","__cjsWrapper"],this.staticScopeProperties=["webpackJsonp","webpackHotUpdate","Vue"],this.injectReactHRMProperty()}injectReactHRMProperty(){}}function ls(e,t){const n=Object.getOwnPropertyDescriptor(e,"parentNode");n&&!n.configurable||Ta(e,"parentNode",{value:t,configurable:!0})}const cs=new WeakMap;function us(e,t,n){if(t instanceof HTMLStyleElement){if(t.hasAttribute("exclude")){const e=document.createComment("style element with exclude attribute ignored by micro-app");return cs.set(t,e),e}return n.scopecss&&!t.hasAttribute("ignore")?Jo(t,n):t}if(t instanceof HTMLLinkElement){if(t.hasAttribute("exclude")||Os(t.getAttribute("href"),n.name)){const e=document.createComment("link element with exclude attribute ignored by micro-app");return cs.set(t,e),e}if(t.hasAttribute("ignore")||Cs(t.getAttribute("href"),n.name)||t.href&&Ba(Xi.options.excludeAssetFilter)&&Xi.options.excludeAssetFilter(t.href))return t;const{address:r,linkInfo:a,replaceComment:o}=as(t,e,n,!0);if(r&&a){const e=function(e,t,n,r){const a=mo("style"),o=()=>{ss(t,e,a,n,n.appSpace[t.name].attrs),ts(r)};return n.code?Za(o):Vo(e,t.name).then((e=>{n.code=e,o()})).catch((e=>{Xa(e,t.name),ns(r)})),a}(r,n,a,t);return cs.set(t,e),e}return o?(cs.set(t,o),o):t}if(t instanceof HTMLScriptElement){if(t.src&&Ba(Xi.options.excludeAssetFilter)&&Xi.options.excludeAssetFilter(t.src))return t;const{replaceComment:r,address:a,scriptInfo:o}=Ls(t,e,n,!0)||{};if(a&&o){const e=o.isExternal?function(e,t,n,r){const a=Ss(t,n)?mo("script"):document.createComment("dynamic script extract by micro-app"),o=()=>ts(r),s=()=>{const s=Object.getOwnPropertyDescriptor(ys.rawDocument,"currentScript");s&&!s.configurable||Object.defineProperty(ys.rawDocument,"currentScript",{value:r,configurable:!0}),Is(e,t,n,o,a),!As(t,n)&&o()};n.code?Za(s):Vo(e,t.name).then((e=>{n.code=e,s()})).catch((e=>{Xa(e,t.name),ns(r)}));return a}(a,n,o,t):function(e,t,n){const r=Ss(t,n)?mo("script"):document.createComment("dynamic script extract by micro-app");return Is(e,t,n,void 0,r),r}(a,n,o);return cs.set(t,e),e}return r?(cs.set(t,r),r):t}return t}function ps(e,t,n,r,a){const o=function(e,t){if(e===document.head)return null==t?void 0:t.querySelector("micro-app-head");if(e===document.body)return null==t?void 0:t.querySelector("micro-app-body");return null}(n,e);if(o){if("MICRO-APP-BODY"===o.tagName&&t!==ys.rawRemoveChild){const t=Object.getOwnPropertyDescriptor(r,"parentNode");t&&!t.configurable||Ta(r,"parentNode",{configurable:!0,get:()=>e.container?document.body:o})}return a&&!o.contains(a)?ys.rawAppendChild.call(o,r):t!==ys.rawRemoveChild||o.contains(r)?ds(t,o,r,a):n.contains(r)?t.call(n,r):r}return ds(t,n,r,a)}function ds(e,t,n,r){return(a=e)===ys.rawAppend||a===ys.rawPrepend?e.call(t,n):e.call(t,n,r);var a}function hs(e){var t;return null!==(t=cs.get(e))&&void 0!==t?t:e}function fs(e,t,n,r){const a=ho();if(Qa(t)&&(t.__MICRO_APP_NAME__||a&&!t.__PURE_ELEMENT__)){t.__MICRO_APP_NAME__=t.__MICRO_APP_NAME__||a;const o=$i.get(t.__MICRO_APP_NAME__);if(null==o?void 0:o.container)return Ya(t)&&(/^(img|script)$/i.test(t.tagName)?(t.hasAttribute("src")&&ys.rawSetAttribute.call(t,"src",oo(t.getAttribute("src"),o.url)),t.hasAttribute("srcset")&&ys.rawSetAttribute.call(t,"srcset",oo(t.getAttribute("srcset"),o.url))):/^link$/i.test(t.tagName)&&t.hasAttribute("href")&&ys.rawSetAttribute.call(t,"href",oo(t.getAttribute("href"),o.url))),ps(o,r,e,us(e,t,o),n&&hs(n));if(r===ys.rawAppend||r===ys.rawPrepend)return r.call(e,t)}else if(r===ys.rawAppend||r===ys.rawPrepend){if(!Qa(t)&&a){const n=$i.get(a);if(null==n?void 0:n.container){if(e===document.head)return r.call(n.querySelector("micro-app-head"),t);if(e===document.body)return r.call(n.querySelector("micro-app-body"),t)}}return r.call(e,t)}return r.call(e,t,n)}function ms(){function e(e){const t=ho();if((e===document.body||e===document.head)&&t){const n=$i.get(t);if(null==n?void 0:n.container){if(e===document.body)return n.querySelector("micro-app-body");if(e===document.head)return n.querySelector("micro-app-head")}}return null}!function(){const e=ys.rawDocument,t=ys.rawRootDocument;function n(t){return function(e){return"[object ProxyDocument]"===toString.call(e)}(t)?e:t}function r(t){var r,a,o;const s=n(this),i=ho();return i&&(null===(r=$i.get(i))||void 0===r?void 0:r.container)&&t&&!bo(t)&&e===s?null!==(o=null===(a=$i.get(i))||void 0===a?void 0:a.querySelector(t))&&void 0!==o?o:null:ys.rawQuerySelector.call(s,t)}function a(t){var r,a,o;const s=n(this),i=ho();return i&&(null===(r=$i.get(i))||void 0===r?void 0:r.container)&&t&&!bo(t)&&e===s?null!==(o=null===(a=$i.get(i))||void 0===a?void 0:a.querySelectorAll(t))&&void 0!==o?o:[]:ys.rawQuerySelectorAll.call(s,t)}t.prototype.createElement=function(e,t){return gs(ys.rawCreateElement.call(n(this),e,t))},t.prototype.createElementNS=function(e,t,r){return gs(ys.rawCreateElementNS.call(n(this),e,t,r))},t.prototype.createDocumentFragment=function(){return gs(ys.rawCreateDocumentFragment.call(n(this)))},t.prototype.querySelector=r,t.prototype.querySelectorAll=a,t.prototype.getElementById=function(e){const t=n(this);if(!ho()||vo(e))return ys.rawGetElementById.call(t,e);try{return r.call(t,`#${e}`)}catch(a){return ys.rawGetElementById.call(t,e)}},t.prototype.getElementsByClassName=function(e){const t=n(this);if(!ho()||vo(e))return ys.rawGetElementsByClassName.call(t,e);try{return a.call(t,`.${e}`)}catch(r){return ys.rawGetElementsByClassName.call(t,e)}},t.prototype.getElementsByTagName=function(e){var t;const r=n(this),o=ho();if(!o||bo(e)||vo(e)||!(null===(t=$i.get(o))||void 0===t?void 0:t.inline)&&/^script$/i.test(e))return ys.rawGetElementsByTagName.call(r,e);try{return a.call(r,e)}catch(s){return ys.rawGetElementsByTagName.call(r,e)}},t.prototype.getElementsByName=function(e){const t=n(this);if(!ho()||vo(e))return ys.rawGetElementsByName.call(t,e);try{return a.call(t,`[name=${e}]`)}catch(r){return ys.rawGetElementsByName.call(t,e)}}}(),Element.prototype.appendChild=function(e){return fs(this,e,null,ys.rawAppendChild)},Element.prototype.insertBefore=function(e,t){return fs(this,e,t,ys.rawInsertBefore)},Element.prototype.replaceChild=function(e,t){return fs(this,e,t,ys.rawReplaceChild)},Element.prototype.append=function(...e){let t=0;const n=e.length;for(;t<n;)fs(this,e[t],null,ys.rawAppend),t++},Element.prototype.prepend=function(...e){let t=e.length;for(;t>0;)fs(this,e[t-1],null,ys.rawPrepend),t--},Element.prototype.removeChild=function(e){if(null==e?void 0:e.__MICRO_APP_NAME__){const n=$i.get(e.__MICRO_APP_NAME__);if(null==n?void 0:n.container)return ps(n,ys.rawRemoveChild,this,hs(e));try{return ys.rawRemoveChild.call(this,e)}catch(t){return(null==e?void 0:e.parentNode)&&ys.rawRemoveChild.call(e.parentNode,e)}}return ys.rawRemoveChild.call(this,e)},Element.prototype.cloneNode=function(e){const t=ys.rawCloneNode.call(this,e);return this.__MICRO_APP_NAME__&&(t.__MICRO_APP_NAME__=this.__MICRO_APP_NAME__),t},Element.prototype.querySelector=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return ys.rawElementQuerySelector.call(r,t)},Element.prototype.querySelectorAll=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return ys.rawElementQuerySelectorAll.call(r,t)},Ta(Element.prototype,"innerHTML",{get(){return ys.rawInnerHTMLDesc.get.call(this)},set(e){ys.rawInnerHTMLDesc.set.call(this,e);const t=ho();Array.from(this.children).forEach((e=>{Ya(e)&&t&&(e.__MICRO_APP_NAME__=t)}))}})}function gs(e){const t=ho();return t&&(e.__MICRO_APP_NAME__=t),e}let vs=!1;function bs(){fo(),function(){const e=ys.rawRootDocument;e.prototype.createElement=ys.rawCreateElement,e.prototype.createElementNS=ys.rawCreateElementNS,e.prototype.createDocumentFragment=ys.rawCreateDocumentFragment,e.prototype.querySelector=ys.rawQuerySelector,e.prototype.querySelectorAll=ys.rawQuerySelectorAll,e.prototype.getElementById=ys.rawGetElementById,e.prototype.getElementsByClassName=ys.rawGetElementsByClassName,e.prototype.getElementsByTagName=ys.rawGetElementsByTagName,e.prototype.getElementsByName=ys.rawGetElementsByName}(),Element.prototype.appendChild=ys.rawAppendChild,Element.prototype.insertBefore=ys.rawInsertBefore,Element.prototype.replaceChild=ys.rawReplaceChild,Element.prototype.removeChild=ys.rawRemoveChild,Element.prototype.append=ys.rawAppend,Element.prototype.prepend=ys.rawPrepend,Element.prototype.cloneNode=ys.rawCloneNode,Element.prototype.querySelector=ys.rawElementQuerySelector,Element.prototype.querySelectorAll=ys.rawElementQuerySelectorAll,Ta(Element.prototype,"innerHTML",ys.rawInnerHTMLDesc)}let _s=!1;const ys={};function ws(){if(Na){const e=Function("return window")(),t=Function("return document")(),n=Function("return Document")(),r="noModule"in document.createElement("script"),a=Element.prototype.setAttribute,o=Element.prototype.appendChild,s=Element.prototype.insertBefore,i=Element.prototype.replaceChild,l=Element.prototype.removeChild,c=Element.prototype.append,u=Element.prototype.prepend,p=Element.prototype.cloneNode,d=Element.prototype.querySelector,h=Element.prototype.querySelectorAll,f=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),m=n.prototype.createElement,g=n.prototype.createElementNS,v=n.prototype.createDocumentFragment,b=n.prototype.querySelector,_=n.prototype.querySelectorAll,y=n.prototype.getElementById,w=n.prototype.getElementsByClassName,E=n.prototype.getElementsByTagName,A=n.prototype.getElementsByName,S=new Proxy(Image,{construct(e,t){const n=new e(...t);return n.__MICRO_APP_NAME__=ho(),n}}),k=e.addEventListener,R=e.removeEventListener,P=e.setInterval,L=e.setTimeout,N=e.clearInterval,O=e.clearTimeout,C=e.history.pushState,M=e.history.replaceState,I=t.addEventListener,D=t.removeEventListener;window.__MICRO_APP_BASE_APPLICATION__=!0,Da(ys,{rawWindow:e,rawDocument:t,rawRootDocument:n,supportModuleScript:r,rawSetAttribute:a,rawAppendChild:o,rawInsertBefore:s,rawReplaceChild:i,rawRemoveChild:l,rawAppend:c,rawPrepend:u,rawCloneNode:p,rawElementQuerySelector:d,rawElementQuerySelectorAll:h,rawInnerHTMLDesc:f,rawCreateElement:m,rawCreateElementNS:g,rawCreateDocumentFragment:v,rawQuerySelector:b,rawQuerySelectorAll:_,rawGetElementById:y,rawGetElementsByClassName:w,rawGetElementsByTagName:E,rawGetElementsByName:A,ImageProxy:S,rawWindowAddEventListener:k,rawWindowRemoveEventListener:R,rawSetInterval:P,rawSetTimeout:L,rawClearInterval:N,rawClearTimeout:O,rawDocumentAddEventListener:I,rawDocumentRemoveEventListener:D,rawPushState:C,rawReplaceState:M}),function(){if(!_s){_s=!0;const e=mo("style");ys.rawSetAttribute.call(e,"type","text/css"),e.textContent=`\n${Xi.tagName}, micro-app-body { display: block; } \nmicro-app-head { display: none; }`,ys.rawDocument.head.appendChild(e)}}()}}const Es=["text/javascript","text/ecmascript","application/javascript","application/ecmascript","module","systemjs-module","systemjs-importmap"];function As(e,t){return t.appSpace[e.name].module&&(!e.useSandbox||e.esmodule)}function Ss(e,t){return e.inline||t.appSpace[e.name].inline||As(e,t)||function(e,t){return t.appSpace[e.name].attrs.has("id")}(e,t)}function ks(e,t,n){return function(e,t,n){const r=t.appSpace;for(const a in r)if(a!==e){const e=r[a];if(e.parsedCode===n&&e.parsedFunction)return e.parsedFunction}}(e.name,t,n)||new Function(n)}function Rs(){const e="inline-"+Math.random().toString(36).substr(2,15);return rs.script.hasInfo(e)?Rs():e}function Ps(e,t){return e.useSandbox&&!As(e,t)}function Ls(e,t,n,r=!1){let a=null,o=e.getAttribute("src");if(o&&(o=oo(o,n.url)),e.hasAttribute("exclude")||Os(o,n.name))a=document.createComment("script element with exclude attribute removed by micro-app");else{if(e.type&&!Es.includes(e.type)||e.hasAttribute("ignore")||Cs(o,n.name))return null;if(ys.supportModuleScript&&e.noModule||!ys.supportModuleScript&&"module"===e.type)a=document.createComment((e.noModule?"noModule":"module")+" script ignored by micro-app");else if(o){let t=rs.script.getInfo(o);const s={async:e.hasAttribute("async"),defer:e.defer||"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:ko(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||s:t={code:"",isExternal:!0,appSpace:{[n.name]:s}},rs.script.setInfo(o,t),r)return{address:o,scriptInfo:t};n.source.scripts.add(o),a=document.createComment(`script with src='${o}' extract by micro-app`)}else if(e.textContent){const t=Rs(),o={code:e.textContent,isExternal:!1,appSpace:{[n.name]:{async:!1,defer:"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:ko(e)}}};if(r)return{address:t,scriptInfo:o};n.source.scripts.add(t),rs.script.setInfo(t,o),a=document.createComment("inline script extract by micro-app")}else r||(a=document.createComment("script element removed by micro-app"))}return r?{replaceComment:a}:t.replaceChild(a,e)}function Ns(e){var t,n,r;return[...(null===(t=Xi.options.plugins)||void 0===t?void 0:t.global)||[],...(null===(r=null===(n=Xi.options.plugins)||void 0===n?void 0:n.modules)||void 0===r?void 0:r[e])||[]]}function Os(e,t){if(!e)return!1;return(Ns(t)||[]).some((t=>!!t.excludeChecker&&t.excludeChecker(e)))}function Cs(e,t){if(!e)return!1;return(Ns(t)||[]).some((t=>!!t.ignoreChecker&&t.ignoreChecker(e)))}function Ms(e,t){const n=Array.from(t.source.scripts),r=[],a=[];for(const s of n){const e=rs.script.getInfo(s),n=e.appSpace[t.name];(!n.defer&&!n.async||t.isPrefetch&&!t.isPrerender)&&(r.push(e.code?e.code:Vo(s,t.name)),a.push([s,e]))}const o=t.isPrefetch||t.fiber?[]:null;r.length?so(r,(e=>{Ro(o,(()=>function(e,t,n,r){if(t.code=n,r.isPrefetch&&2===r.prefetchLevel){const o=t.appSpace[r.name];if(!o.parsedCode&&(o.parsedCode=Ds(e,r,n,t),o.wrapInSandBox=Ps(r,t),!Ss(r,t)))try{o.parsedFunction=ks(r,t,o.parsedCode)}catch(a){Ja("Something went wrong while handling preloaded resources",r.name)}}}(a[e.index][0],a[e.index][1],e.data,t)))}),(e=>{Xa(e,t.name)}),(()=>{o?(o.push((()=>Promise.resolve(t.onLoad(e)))),Po(o)):t.onLoad(e)})):t.onLoad(e)}function Is(e,t,n,r,a){var o;try{!function(e){!function(e){e.sandBox&&(ys.rawWindow.__MICRO_APP_PROXY_WINDOW__=e.sandBox.proxyWindow)}(e)}(t);const s=n.appSpace[t.name],i=Ps(t,n);if(s.parsedCode&&s.wrapInSandBox===i||(s.parsedCode=Ds(e,t,n.code,n),s.wrapInSandBox=i,s.parsedFunction=null),Ss(t,n)){const i=a||mo("script");!function(e,t,n,r,a,o){if(n){if(Lo(e)){const e=new Blob([t],{type:"text/javascript"});r.src=URL.createObjectURL(e)}else r.src=e;r.setAttribute("type","module"),o&&(o.moduleCount&&o.moduleCount--,r.onload=o.bind(r,0===o.moduleCount))}else r.textContent=t;!function(e,t){t.forEach(((t,n)=>{"type"===n&&"module"===t||"defer"===n||"async"===n||("src"===n&&(n="data-origin-src"),e.setAttribute(n,t))}))}(r,a)}(e,s.parsedCode,As(t,n),i,s.attrs,r),a||null===(o=t.querySelector("micro-app-body"))||void 0===o||o.appendChild(i)}else!function(e,t){const n=t.appSpace[e.name];n.parsedFunction||(n.parsedFunction=ks(e,t,n.parsedCode));n.parsedFunction.call(window)}(t,n)}catch(s){}}function Ds(e,t,n,r){return Va(Xi.options.plugins)&&(n=function(e,t,n,r){var a;const o=Ts(r.global,t,e);return Ts(null===(a=r.modules)||void 0===a?void 0:a[n],o,e)}(e,n,t.name,Xi.options.plugins)),Ps(t,r)?`;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${Bo}){;${n}\n${Lo(e)?"":`//# sourceURL=${e}\n`}}).call(proxyWindow,${Bo})}})(window.__MICRO_APP_PROXY_WINDOW__);`:n}function Ts(e,t,n){return Ia(e)?e.reduce(((e,t)=>Va(t)&&Ba(t.loader)?t.loader(e,n):e),t):t}function xs(e,t,n,r){const a=Array.from(e.children);a.length&&a.forEach((e=>{xs(e,t,n,r)}));for(const o of a)o instanceof HTMLLinkElement?o.hasAttribute("exclude")||Os(o.getAttribute("href"),t.name)?e.replaceChild(document.createComment("link element with exclude attribute ignored by micro-app"),o):o.hasAttribute("ignore")||Cs(o.getAttribute("href"),t.name)?o.hasAttribute("href")&&o.setAttribute("href",oo(o.getAttribute("href"),t.url)):as(o,e,t):o instanceof HTMLStyleElement?o.hasAttribute("exclude")?e.replaceChild(document.createComment("style element with exclude attribute ignored by micro-app"),o):t.scopecss&&!o.hasAttribute("ignore")&&Ro(r,(()=>Jo(o,t))):o instanceof HTMLScriptElement?Ls(o,e,t):o instanceof HTMLImageElement&&o.hasAttribute("src")&&o.setAttribute("src",oo(o.getAttribute("src"),t.url))}function Ws(e,t){const n=function(e){const t=mo("div");return t.innerHTML=e,t}(e),r=ys.rawElementQuerySelector.call(n,"micro-app-head"),a=ys.rawElementQuerySelector.call(n,"micro-app-body");if(!r||!a){const e=`element ${r?"body":"head"} is missing`;return t.onerror(new Error(e)),Xa(e,t.name)}const o=t.isPrefetch||t.fiber?[]:null;xs(n,t,r,o);const s=Po(o);t.source.links.size?os(n,t,r,s):s?s.then((()=>t.onLoad(n))):t.onLoad(n),t.source.scripts.size?Ms(n,t):t.onLoad(n)}const Fs=new class{constructor(){this.eventList=new Map,this.queue=[],this.recordStep={},this.process=()=>{var e,t;let n;const r=this.recordStep,a=this.queue;for(this.recordStep={},this.queue=[];n=a.shift();){const a=this.eventList.get(n),o=a.tempData,s=a.force;let i;if(a.tempData=null,a.force=!1,s||!this.isEqual(a.data,o)){a.data=o||a.data;for(const e of a.callbacks){const t=e(a.data);t&&(null!=i?i:i=[]).push(t)}null===(t=(e=r[n]).dispatchDataEvent)||void 0===t||t.call(e),r[n].nextStepList.forEach((e=>e(i)))}}}}isLegalName(e){return!!e||(Xa("event-center: Invalid name"),!1)}enqueue(e,t,n){this.recordStep[e]?(this.recordStep[e].nextStepList.push(t),n&&(this.recordStep[e].dispatchDataEvent=n)):this.recordStep[e]={nextStepList:[t],dispatchDataEvent:n},!this.queue.includes(e)&&1===this.queue.push(e)&&Za(this.process)}isEqual(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==t[n])return!1;return!0}on(e,t,n=!1){if(this.isLegalName(e)){if(!Ba(t))return Xa("event-center: Invalid callback function");let r=this.eventList.get(e);r?n&&Object.keys(r.data).length&&(!this.queue.includes(e)||this.isEqual(r.data,r.tempData))&&t(r.data):(r={data:{},callbacks:new Set},this.eventList.set(e,r)),r.callbacks.add(t)}}off(e,t){if(this.isLegalName(e)){const n=this.eventList.get(e);n&&(Ba(t)?n.callbacks.delete(t):n.callbacks.clear())}}clearData(e){if(this.isLegalName(e)){const t=this.eventList.get(e);t&&(t.data={})}}dispatch(e,t,n,r,a){if(this.isLegalName(e)){if(!Va(t))return Xa("event-center: data must be object");let o=this.eventList.get(e);o?(o.tempData=Da({},o.tempData||o.data,t),!o.force&&(o.force=!!r)):(o={data:t,callbacks:new Set},this.eventList.set(e,o),o.force=!0),this.enqueue(e,n,a)}}getData(e){var t;const n=this.eventList.get(e);return null!==(t=null==n?void 0:n.data)&&void 0!==t?t:null}};function Us(e,t){return $a(e)&&e?t?`__from_base_app_${e}__`:`__from_micro_app_${e}__`:""}class $s{addGlobalDataListener(e,t){const n=this.appName;n&&(e.__APP_NAME__=n,e.__AUTO_TRIGGER__=t),Fs.on("global",e,t)}removeGlobalDataListener(e){Ba(e)&&Fs.off("global",e)}setGlobalData(e,t,n){fo(),Fs.dispatch("global",e,(e=>Ba(t)&&t(e)),n)}forceSetGlobalData(e,t){this.setGlobalData(e,t,!0)}getGlobalData(){return Fs.getData("global")}clearGlobalData(){Fs.clearData("global")}clearGlobalDataListener(){const e=this.appName,t=Fs.eventList.get("global");if(t)for(const n of t.callbacks)(e&&e===n.__APP_NAME__||!e&&!n.__APP_NAME__)&&t.callbacks.delete(n)}}class js extends $s{addDataListener(e,t,n){Fs.on(Us(ro(e),!1),t,n)}removeDataListener(e,t){Ba(t)&&Fs.off(Us(ro(e),!1),t)}getData(e,t=!1){return Fs.getData(Us(ro(e),t))}setData(e,t,n,r){Fs.dispatch(Us(ro(e),!0),t,(e=>Ba(n)&&n(e)),r)}forceSetData(e,t,n){this.setData(e,t,n,!0)}clearData(e,t=!0){Fs.clearData(Us(ro(e),t))}clearDataListener(e){Fs.off(Us(ro(e),!1))}}class Hs extends $s{constructor(e){super(),this.appName=ro(e),!this.appName&&Xa(`Invalid appName ${e}`)}addDataListener(e,t){e.__AUTO_TRIGGER__=t,Fs.on(Us(this.appName,!0),e,t)}removeDataListener(e){Ba(e)&&Fs.off(Us(this.appName,!0),e)}getData(e=!0){return Fs.getData(Us(this.appName,e))}dispatch(e,t,n){fo(),Fs.dispatch(Us(this.appName,!1),e,(e=>Ba(t)&&t(e)),n,(()=>{const t=$i.get(this.appName);if((null==t?void 0:t.container)&&Va(e)){const e=new CustomEvent("datachange",{detail:{data:Fs.getData(Us(this.appName,!1))}});_o(t.container).dispatchEvent(e)}}))}forceDispatch(e,t){this.dispatch(e,t,!0)}clearData(e=!1){Fs.clearData(Us(this.appName,e))}clearDataListener(){Fs.off(Us(this.appName,!0))}}class Bs{constructor(){this.appInstanceMap=$i}static getInstance(){return this.instance||(this.instance=new Bs),this.instance}get(e){return this.appInstanceMap.get(e)}set(e,t){this.appInstanceMap.set(e,t)}getAll(){return Array.from(this.appInstanceMap.values())}clear(){this.appInstanceMap.clear()}}function Vs(){Gs(),Bs.getInstance().getAll().forEach((e=>{e.container&&_o(e.container).disconnectedCallback()})),!window.__MICRO_APP_UMD_MODE__&&Bs.getInstance().clear()}function Gs(){window.__MICRO_APP_ENVIRONMENT__&&window.removeEventListener("unmount",Vs,!1)}function zs(e){return ja(e.__MICRO_APP_IS_BOUND_FUNCTION__)?e.__MICRO_APP_IS_BOUND_FUNCTION__:e.__MICRO_APP_IS_BOUND_FUNCTION__=Ba(t=e)&&0===t.name.indexOf("bound ")&&!t.hasOwnProperty("prototype");var t}function qs(e,t,n="WINDOW"){const r=`__MICRO_APP_BOUND_${n}_FUNCTION__`;if(t[r])return t[r];if(!function(e){return ja(e.__MICRO_APP_IS_CONSTRUCTOR__)?e.__MICRO_APP_IS_CONSTRUCTOR__:e.__MICRO_APP_IS_CONSTRUCTOR__=qa(e)}(t)&&!zs(t)){const n=t.bind(e);for(const e in t)n[e]=t[e];return t.hasOwnProperty("prototype")&&Ta(n,"prototype",{value:t.prototype,configurable:!0,enumerable:!1,writable:!0}),t[r]=n}return t}const Ks=["unmount","appstate-change"];function Ys(e,t){var n;return Ks.includes(e)||("popstate"===e||"hashchange"===e)&&(null===(n=$i.get(t))||void 0===n?void 0:n.useMemoryRouter)?`${e}-${t}`:e}const Qs=new Map;let Xs=!1;const Js=new Map;function Zs(){const{rawDocument:e,rawDocumentAddEventListener:t,rawDocumentRemoveEventListener:n}=ys;!Xs&&function(){if(Xs=!0,Object.getOwnPropertyDescriptor(document,"onclick"))return Ja("Cannot redefine document property onclick");const e=document.onclick;document.onclick=null;let t=!1;function n(e){Qs.forEach((t=>{Ba(t)&&t.call(document,e)}))}Ta(document,"onclick",{configurable:!0,enumerable:!0,get(){const e=ho();return e?Qs.get(e):Qs.get("base")},set(e){const r=ho();r?Qs.set(r,e):Qs.set("base",e),!t&&Ba(e)&&(t=!0,ys.rawDocumentAddEventListener.call(ys.rawDocument,"click",n,!1))}}),e&&(document.onclick=e)}(),document.addEventListener=function(n,r,a){const o=ho();if(o){const e=Js.get(o);if(e){const t=e.get(n);t?t.add(r):e.set(n,new Set([r]))}else Js.set(o,new Map([[n,new Set([r])]]));r&&(r.__MICRO_APP_MARK_OPTIONS__=a)}t.call(e,n,r,a)},document.removeEventListener=function(t,r,a){const o=ho();if(o){const e=Js.get(o);if(e){const n=e.get(t);(null==n?void 0:n.size)&&n.has(r)&&n.delete(r)}}n.call(e,t,r,a)}}function ei(e,t){const n=new Map,r=new Map,a=new Map,{rawWindow:o,rawDocument:s,rawWindowAddEventListener:i,rawWindowRemoveEventListener:l,rawSetInterval:c,rawSetTimeout:u,rawClearInterval:p,rawClearTimeout:d,rawDocumentRemoveEventListener:h}=ys;t.addEventListener=function(t,r,a){t=Ys(t,e);const s=n.get(t);s?s.add(r):n.set(t,new Set([r])),r&&(r.__MICRO_APP_MARK_OPTIONS__=a),i.call(o,t,r,a)},t.removeEventListener=function(t,r,a){t=Ys(t,e);const s=n.get(t);(null==s?void 0:s.size)&&s.has(r)&&s.delete(r),l.call(o,t,r,a)},t.setInterval=function(e,t,...n){const a=c.call(o,e,t,...n);return r.set(a,{handler:e,timeout:t,args:n}),a},t.setTimeout=function(e,t,...n){const r=u.call(o,e,t,...n);return a.set(r,{handler:e,timeout:t,args:n}),r},t.clearInterval=function(e){r.delete(e),p.call(o,e)},t.clearTimeout=function(e){a.delete(e),d.call(o,e)};const f=new Map,m=new Map;let g,v=new Map,b=new Map;return{recordEffect:()=>{n.forEach(((e,t)=>{e.size&&f.set(t,new Set(e))})),r.size&&(v=new Map(r)),a.size&&(b=new Map(a)),g=Qs.get(e);const t=Js.get(e);t&&t.forEach(((e,t)=>{e.size&&m.set(t,new Set(e))}))},rebuildEffect:()=>{f.forEach(((e,n)=>{for(const r of e)t.addEventListener(n,r,null==r?void 0:r.__MICRO_APP_MARK_OPTIONS__)})),v.forEach((e=>{t.setInterval(e.handler,e.timeout,...e.args)})),b.forEach((e=>{t.setTimeout(e.handler,e.timeout,...e.args)})),g&&Qs.set(e,g),uo(e),m.forEach(((e,t)=>{for(const n of e)document.addEventListener(t,n,null==n?void 0:n.__MICRO_APP_MARK_OPTIONS__)})),fo(),f.clear(),v.clear(),b.clear(),m.clear(),g=null},releaseEffect:()=>{n.size&&(n.forEach(((e,t)=>{for(const n of e)l.call(o,t,n)})),n.clear()),r.size&&(r.forEach(((e,t)=>{p.call(o,t)})),r.clear()),a.size&&(a.forEach(((e,t)=>{d.call(o,t)})),a.clear()),Qs.delete(e);const t=Js.get(e);t&&(t.forEach(((e,t)=>{for(const n of e)h.call(s,t,n)})),t.clear())}}}function ti(e,t){const n=ys.rawWindow.history.state,r={microAppState:Da({},null==n?void 0:n.microAppState,{[e]:t})};return Da({},n,r)}function ni(e){var t,n;return(null===(n=null===(t=ys.rawWindow.history.state)||void 0===t?void 0:t.microAppState)||void 0===n?void 0:n[e])||null}const ri=/&/g,ai=/=/g,oi=/%M1/g,si=/%M2/g;function ii(e){return encodeURIComponent(ci(e).replace(ri,"%M1").replace(ai,"%M2"))}function li(e){return ci(e).replace(oi,"&").replace(si,"=")}function ci(e){try{const t=decodeURIComponent(e);return e===t||oi.test(t)||si.test(t)?t:ci(t)}catch(t){return e}}function ui(e){var t,n;const r=ys.rawWindow.location,a=di(r.search,r.hash),o=(null===(t=a.hashQuery)||void 0===t?void 0:t[e])||(null===(n=a.searchQuery)||void 0===n?void 0:n[e]);return $a(o)?li(o):null}function pi(e,t){let{pathname:n,search:r,hash:a}=ys.rawWindow.location;const o=di(r,a),s=ii(t.pathname+t.search+t.hash);let i=!1;if(a&&!r){i=!0,o.hashQuery?o.hashQuery[e]=s:o.hashQuery={[e]:s};const t=a.includes("?")?a.slice(0,a.indexOf("?")+1):a+"?";a=t+Ao(o.hashQuery)}else o.searchQuery?o.searchQuery[e]=s:o.searchQuery={[e]:s},r="?"+Ao(o.searchQuery);return{fullPath:n+r+a,isAttach2Hash:i}}function di(e,t){const n={};return""!==e&&"?"!==e&&(n.searchQuery=Eo(e.slice(1))),t.includes("?")&&(n.hashQuery=Eo(t.slice(t.indexOf("?")+1))),n}function hi(e){const t=$i.get(e);return!(!t||t.isPrefetch)}function fi(e){const t=ys.rawWindow,n=t=>{if(Gi({excludeHiddenApp:!0,excludePreRender:!0}).includes(e)&&!t.onlyForBrowser){const t=ui(e),n=$i.get(e).sandBox.proxyWindow;let r=!1;const a=n.location.href;if(t){const a=n.location.hash;Li(e,t,n.location),r=n.location.hash!==a}!function(e,t){const n=new PopStateEvent(Ys("popstate",e),{state:ni(e)});ys.rawWindow.dispatchEvent(n),Ba(t.onpopstate)&&t.onpopstate(n)}(e,n),r&&function(e,t,n){const r=new HashChangeEvent(Ys("hashchange",e),{newURL:t.location.href,oldURL:n});ys.rawWindow.dispatchEvent(r),Ba(t.onhashchange)&&t.onhashchange(r)}(e,n,a),fo()}};return t.addEventListener("popstate",n),()=>{t.removeEventListener("popstate",n)}}function mi(e,t,n){fo(),hi(e)&&(function(e){const t=new PopStateEvent("popstate",{state:null});e&&(t.onlyForBrowser=!0),ys.rawWindow.dispatchEvent(t)}(t),n&&function(e){const t=new HashChangeEvent("hashchange",{newURL:ys.rawWindow.location.href,oldURL:e});ys.rawWindow.dispatchEvent(t)}(n))}function gi(e,t){const n=ys.rawWindow.history;function r(n){return function(...r){if($a(r[2])||Ka(r[2])){const a=eo(r[2],t.href);if(a.origin===t.origin){bi(e,n,pi(e,a),!0,ti(e,r[0]),r[1]);const o=a.pathname+a.search+a.hash;return void(o!==t.fullPath&&Li(e,o,t))}}vi(e,n,r[2],r[0],r[1])}}const a=r("pushState"),o=r("replaceState");return new Proxy(n,{get(t,n){if("state"===n)return ni(e);if("pushState"===n)return a;if("replaceState"===n)return o;const r=Reflect.get(t,n);return Ba(r)?qs(t,r,"HISTORY"):r},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})}function vi(e,t,n,r=null,a=""){if(hi(e)){("pushState"===t?ys.rawPushState:ys.rawReplaceState).call(ys.rawWindow.history,r,a,n)}}function bi(e,t,n,r,a,o){if(hi(e)){const s=ys.rawWindow.location,i=s.pathname+s.search+s.hash,l=n.isAttach2Hash&&i!==n.fullPath?s.href:null;vi(e,t,n.fullPath,a,o),i!==n.fullPath&&mi(e,r,l)}}function _i(e,t,n){bi(e,"replaceState",t,!0,n)}function yi(e){const t=ys.rawWindow;return function(...n){var r;if((null===(r=t.history.state)||void 0===r?void 0:r.microAppState)&&(!Va(n[0])||!n[0].microAppState)&&($a(n[2])||Ka(n[2]))){const e=t.location.href;eo(n[2],e).href===e&&(n[0]=Da({},n[0],{microAppState:t.history.state.microAppState}))}e.apply(t.history,n),Gi({excludeHiddenApp:!0,excludePreRender:!0}).forEach((e=>{const t=$i.get(e);t.sandBox&&t.useMemoryRouter&&!ui(e)&&_i(e,pi(e,t.sandBox.proxyWindow.location),ti(e,ni(e)))})),fo()}}const{router:wi,executeNavigationGuard:Ei,clearRouterWhenUnmount:Ai}=function(){function e(e,t,n,r){bi(e,t,pi(e,n),!1,ti(e,null!=r?r:null)),fo()}function t(t){return function(n){const r=ro(n.name);if(r&&$a(n.path)){const a=$i.get(r);if(a&&(!a.sandBox||!a.useMemoryRouter))return Xa(`navigation failed, memory router of app ${r} is closed`);if(Gi({excludePreRender:!0}).includes(r)){const o=a.sandBox.proxyWindow.location,s=eo(n.path,o.href),i=s.pathname+s.search+s.hash;if(o.fullPath!==i||ui(r)!==i){e(r,t&&!1!==n.replace||!0===n.replace?"replaceState":"pushState",s,n.state)}}else{const t=ys.rawWindow.location,a=eo(n.path,t.origin),o=a.pathname+a.search+a.hash;ui(r)!==o&&e(r,!1===n.replace?"pushState":"replaceState",a,n.state)}}else Xa("navigation failed, name & path are required when use router."+(t?"replace":"push"))}}function n(e){return function(...t){return ys.rawWindow.history[e](...t)}}const r=So(),a=So();function o(e,t,n,r){fo();for(const a of r)Ba(a)?a(t,n,e):Va(a)&&Ba(a[e])&&a[e](t,n)}function s(e){const t=$i.get(e);t.sandBox&&t.useMemoryRouter&&_i(e,pi(e,t.sandBox.proxyWindow.location),ti(e,ni(e)))}const i=Object.assign(Object.assign({current:new Map,encode:ii,decode:li,push:t(!1),replace:t(!0),go:n("go"),back:n("back"),forward:n("forward"),beforeEach:r.add,afterEach:a.add,attachToURL:function(e){(e=ro(e))&&Gi().includes(e)&&s(e)},attachAllToURL:function({includeHiddenApp:e=!1,includePreRender:t=!1}){Gi({excludeHiddenApp:!e,excludePreRender:!t}).forEach((e=>s(e)))}},function(){const e=function(){const e=new Map;return{add:function(t,n){return e.set(t,n),()=>!!e.has(t)&&e.delete(t)},get:t=>e.get(t),delete:t=>!!e.has(t)&&e.delete(t)}}();return{setDefaultPage:function(t){const n=ro(t.name);return n&&t.path?e.add(n,t.path):Ma},removeDefaultPage:function(t){return!!(t=ro(t))&&e.delete(t)},getDefaultPage:e.get}}()),function(){let e=null;return{setBaseAppRouter:function(t){Ga(t)&&(e=new Proxy(t,{get(e,t){fo();const n=Reflect.get(e,t);return Ba(n)?qs(e,n,"BASEROUTER"):n},set:(e,t,n)=>(Reflect.set(e,t,n),!0)}))},getBaseAppRouter:()=>e}}());return{router:i,executeNavigationGuard:function(e,t,n){i.current.set(e,t),o(e,t,n,r.list()),io((()=>{o(e,t,n,a.list())}))},clearRouterWhenUnmount:function(e){i.current.delete(e)}}}(),Si=["href","pathname","search","hash"],ki=[...Si,"host","hostname","port","protocol","search"],Ri=[...ki,"origin","fullPath"];function Pi(e,t){const n=Da({name:e},t);for(const r of Ri)n[r]=t[r];return n}function Li(e,t,n,r){const a=eo(t,n.href),o=Pi(e,n);for(const i of ki)Si.includes(i)?n.shadowLocation[i]=a[i]:n[i]=a[i];const s=Pi(e,n);("auto"===r||o.fullPath!==s.fullPath&&"prevent"!==r)&&Ei(e,s,o)}function Ni(e,t){const n=function(e,t){const n=ys.rawWindow.location,r=eo(t),a={href:r.href,pathname:r.pathname,search:r.search,hash:r.hash},o=(t,o)=>{const s=eo(t,r.href);if(s.origin===r.origin){const r=pi(e,s);if(s.pathname===a.pathname&&s.search===a.search){let t=null;return s.hash!==a.hash&&(r.isAttach2Hash&&(t=n.href),vi(e,o,r.fullPath)),void(s.hash?mi(e,!1,t):l())}if(r.isAttach2Hash)return vi(e,o,r.fullPath),void l();t=r.fullPath}return t};function s(e,t){return{enumerable:!0,configurable:!0,get:e,set:t}}function i(n,r){const o=eo(n,t);o[r]===a[r]&&a.hash?mi(e,!1):(vi(e,o[r]===a[r]?"replaceState":"pushState",pi(e,o).fullPath),l())}function l(){hi(e)&&n.reload()}xa(r,{href:s((()=>a.href),(t=>{if(hi(e)){const e=o(t,"pushState");e&&(n.href=e)}})),pathname:s((()=>a.pathname),(e=>{i(("/"+e).replace(/^\/+/,"/")+a.search+a.hash,"pathname")})),search:s((()=>a.search),(e=>{i(a.pathname+("?"+e).replace(/^\?+/,"?")+a.hash,"search")})),hash:s((()=>a.hash),(n=>{const r=a.pathname+a.search+("#"+n).replace(/^#+/,"#"),o=eo(r,t);o.hash!==a.hash&&bi(e,"pushState",pi(e,o),!1)})),fullPath:s((()=>a.pathname+a.search+a.hash),Ca)});const c=t=>function(r){if(hi(e)){const e=o(r,"assign"===t?"pushState":"replaceState");e&&n[t](e)}};return Da(r,{assign:c("assign"),replace:c("replace"),reload:e=>n.reload(e),shadowLocation:a})}(e,t);return{microLocation:n,microHistory:gi(e,n)}}function Oi(e,t,n){n&&Li(e,n,t,"prevent"),_i(e,pi(e,t),ti(e,null)),function(e,t){Ei(e,Pi(e,t),Pi(e,t))}(e,t)}function Ci(e){_i(e,function(e,t){var n,r,a,o;let{pathname:s,search:i,hash:l}=t||ys.rawWindow.location;const c=di(i,l);let u=!1;if(null===(n=c.hashQuery)||void 0===n?void 0:n[e]){u=!0,null===(r=c.hashQuery)||void 0===r||delete r[e];const t=Ao(c.hashQuery);l=l.slice(0,l.indexOf("?")+Number(Boolean(t)))+t}else if(null===(a=c.searchQuery)||void 0===a?void 0:a[e]){null===(o=c.searchQuery)||void 0===o||delete o[e];const t=Ao(c.searchQuery);i=t?"?"+t:""}return{fullPath:s+i+l,isAttach2Hash:u}}(e),function(e,t){return Va(null==t?void 0:t.microAppState)&&(Fa(t.microAppState[e])||delete t.microAppState[e],Object.keys(t.microAppState).length||delete t.microAppState),Da({},t)}(e,ys.rawWindow.history.state))}function Mi(e,t){const n=Fa(t)?ys.rawWindow.fetch:t;return Ba(n)?function(t,r,...a){return($a(t)||Ka(t))&&(t=eo(t,e).toString()),fo(),n.call(ys.rawWindow,t,r,...a)}:n}function Ii(e,t){const n=Fa(t)?ys.rawWindow.XMLHttpRequest:t;return qa(n)?class extends n{open(t,n,...r){($a(n)&&!/^f(ile|tp):\/\//.test(n)||Ka(n))&&(n=eo(n,e).toString()),fo(),super.open(t,n,...r)}}:n}const{createMicroEventSource:Di,clearMicroEventSource:Ti}=function(){let e;return{createMicroEventSource:function(t,n,r){const a=Fa(r)?ys.rawWindow.EventSource:r;return qa(a)?class extends a{constructor(r,a,...o){if(($a(r)||Ka(r))&&(r=eo(r,n).toString()),fo(),super(r,a,...o),e){const n=e.get(t);n?n.add(this):e.set(t,new Set([this]))}else e=new Map([[t,new Set([this])]])}close(){var n;super.close(),null===(n=e.get(t))||void 0===n||n.delete(this)}}:a},clearMicroEventSource:function(t){const n=null==e?void 0:e.get(t);(null==n?void 0:n.size)&&(n.forEach((e=>{e.close()})),n.clear())}}}(),xi=["window","self","globalThis"];class Wi{constructor(e,t){this.scopeProperties=[],this.escapeProperties=[],this.injectedKeys=new Set,this.escapeKeys=new Set,this.active=!1,this.microAppWindow={},this.adapter=new is,this.getSpecialProperties(e),this.proxyWindow=this.createProxyWindow(e),this.effectController=ei(e,this.microAppWindow),this.initStaticGlobalKeys(this.microAppWindow,e,t)}start({umdMode:e,baseroute:t,useMemoryRouter:n,defaultPage:r,disablePatchRequest:a}){this.active||(this.active=!0,n?(Fa(this.microAppWindow.location)&&this.setMicroAppRouter(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__),this.initRouteState(r),this.removeHistoryListener=fi(this.microAppWindow.__MICRO_APP_NAME__)):this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=t,e||this.initGlobalKeysWhenStart(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,a),1==++Wi.activeCount&&(Zs(),ms(),window.__MICRO_APP_ENVIRONMENT__&&(Gs(),window.addEventListener("unmount",Vs,!1)),function(){const e=ys.rawWindow;e.history.pushState=yi(ys.rawPushState),e.history.replaceState=yi(ys.rawReplaceState)}()),ys.rawWindow._babelPolyfill&&(ys.rawWindow._babelPolyfill=!1))}stop({umdMode:e,keepRouteState:t,clearEventSource:n,clearData:r}){this.active&&(this.releaseGlobalEffect(r),this.removeHistoryListener&&(this.clearRouteState(t),this.removeHistoryListener()),n&&Ti(this.microAppWindow.__MICRO_APP_NAME__),e||(this.injectedKeys.forEach((e=>{Reflect.deleteProperty(this.microAppWindow,e)})),this.injectedKeys.clear(),this.escapeKeys.forEach((e=>{Reflect.deleteProperty(ys.rawWindow,e)})),this.escapeKeys.clear()),0==--Wi.activeCount&&(document.addEventListener=ys.rawDocumentAddEventListener,document.removeEventListener=ys.rawDocumentRemoveEventListener,bs(),function(){const e=ys.rawWindow;e.history.pushState=ys.rawPushState,e.history.replaceState=ys.rawReplaceState}()),this.active=!1)}releaseGlobalEffect(e=!1){this.effectController.releaseEffect(),this.microAppWindow.microApp.clearDataListener(),this.microAppWindow.microApp.clearGlobalDataListener(),e&&(Xi.clearData(this.microAppWindow.__MICRO_APP_NAME__),this.microAppWindow.microApp.clearData())}recordEffectSnapshot(){this.effectController.recordEffect(),function(e){const t=e.appName;e.umdDataListeners={global:new Set,normal:new Set};const n=Fs.eventList.get("global");if(n)for(const a of n.callbacks)t===a.__APP_NAME__&&e.umdDataListeners.global.add(a);const r=Fs.eventList.get(Us(t,!0));r&&(e.umdDataListeners.normal=new Set(r.callbacks))}(this.microAppWindow.microApp)}rebuildEffectSnapshot(){this.effectController.rebuildEffect(),function(e){for(const t of e.umdDataListeners.global)e.addGlobalDataListener(t,t.__AUTO_TRIGGER__);for(const t of e.umdDataListeners.normal)e.addDataListener(t,t.__AUTO_TRIGGER__)}(this.microAppWindow.microApp)}setPreRenderState(e){this.microAppWindow.__MICRO_APP_PRE_RENDER__=e}getSpecialProperties(e){var t;this.scopeProperties=this.scopeProperties.concat(this.adapter.staticScopeProperties),Va(Xi.options.plugins)&&(this.commonActionForSpecialProperties(Xi.options.plugins.global),this.commonActionForSpecialProperties(null===(t=Xi.options.plugins.modules)||void 0===t?void 0:t[e]))}commonActionForSpecialProperties(e){if(Ia(e))for(const t of e)Va(t)&&(Ia(t.scopeProperties)&&(this.scopeProperties=this.scopeProperties.concat(t.scopeProperties)),Ia(t.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(t.escapeProperties)))}createProxyWindow(e){const t=ys.rawWindow,n=new Map;return new Proxy(this.microAppWindow,{get:(n,r)=>{if(po(e),Reflect.has(n,r)||$a(r)&&/^__MICRO_APP_/.test(r)||this.scopeProperties.includes(r))return Reflect.get(n,r);const a=Reflect.get(t,r);return Ba(a)?qs(t,a):a},set:(e,n,r)=>{if(this.active){if(this.adapter.escapeSetterKeyList.includes(n))Reflect.set(t,n,r);else if(Wa.call(e,n)||!Wa.call(t,n)||this.scopeProperties.includes(n))Reflect.set(e,n,r),this.injectedKeys.add(n);else{const a=Object.getOwnPropertyDescriptor(t,n),{configurable:o,enumerable:s,writable:i,set:l}=a;Ta(e,n,{value:r,configurable:o,enumerable:s,writable:null!=i?i:!!l}),this.injectedKeys.add(n)}(this.escapeProperties.includes(n)||this.adapter.staticEscapeProperties.includes(n)&&!Reflect.has(t,n))&&!this.scopeProperties.includes(n)&&(Reflect.set(t,n,r),this.escapeKeys.add(n))}return!0},has:(e,n)=>this.scopeProperties.includes(n)?n in e:n in e||n in t,getOwnPropertyDescriptor:(e,r)=>{if(Wa.call(e,r))return n.set(r,"target"),Object.getOwnPropertyDescriptor(e,r);if(Wa.call(t,r)){n.set(r,"rawWindow");const e=Object.getOwnPropertyDescriptor(t,r);return e&&!e.configurable&&(e.configurable=!0),e}},defineProperty:(e,r,a)=>"rawWindow"===n.get(r)?Reflect.defineProperty(t,r,a):Reflect.defineProperty(e,r,a),ownKeys:e=>Reflect.ownKeys(t).concat(Reflect.ownKeys(e)).filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null)),deleteProperty:(e,n)=>!Wa.call(e,n)||(this.injectedKeys.has(n)&&this.injectedKeys.delete(n),this.escapeKeys.has(n)&&Reflect.deleteProperty(t,n),Reflect.deleteProperty(e,n))})}initStaticGlobalKeys(e,t,n){e.__MICRO_APP_ENVIRONMENT__=!0,e.__MICRO_APP_NAME__=t,e.__MICRO_APP_URL__=n,e.__MICRO_APP_PUBLIC_PATH__=ao(n),e.__MICRO_APP_WINDOW__=e,e.__MICRO_APP_PRE_RENDER__=!1,e.rawWindow=ys.rawWindow,e.rawDocument=ys.rawDocument,e.microApp=Da(new Hs(t),{removeDomScope:fo,pureCreateElement:mo,router:wi}),this.setProxyDocument(e,t),this.setMappingPropertiesWithRawDescriptor(e)}setProxyDocument(e,t){const{proxyDocument:n,MicroDocument:r}=this.createProxyDocument(t);xa(e,{document:{configurable:!1,enumerable:!0,get:()=>n},Document:{configurable:!1,enumerable:!1,get:()=>r}})}setMappingPropertiesWithRawDescriptor(e){let t,n;const r=ys.rawWindow;r===r.parent?t=n=this.proxyWindow:(t=r.top,n=r.parent),Ta(e,"top",this.createDescriptorForMicroAppWindow("top",t)),Ta(e,"parent",this.createDescriptorForMicroAppWindow("parent",n)),xi.forEach((t=>{Ta(e,t,this.createDescriptorForMicroAppWindow(t,this.proxyWindow))}))}createDescriptorForMicroAppWindow(e,t){const{configurable:n=!0,enumerable:r=!0,writable:a,set:o}=Object.getOwnPropertyDescriptor(ys.rawWindow,e)||{writable:!0};return{value:t,configurable:n,enumerable:r,writable:null!=a?a:!!o}}initGlobalKeysWhenStart(e,t,n,r){e.hasOwnProperty=t=>Wa.call(e,t)||Wa.call(ys.rawWindow,t),this.setHijackProperty(e,t),r||this.patchRequestApi(e,t,n),this.setScopeProperties(e)}setHijackProperty(e,t){let n,r;xa(e,{eval:{configurable:!0,enumerable:!1,get:()=>(po(t),n||eval),set:e=>{n=e}},Image:{configurable:!0,enumerable:!1,get:()=>(po(t),r||ys.ImageProxy),set:e=>{r=e}}})}patchRequestApi(e,t,n){let r=Mi(n),a=Ii(n),o=Di(t,n);xa(e,{fetch:{configurable:!0,enumerable:!0,get:()=>r,set(e){r=Mi(n,e)}},XMLHttpRequest:{configurable:!0,enumerable:!0,get:()=>a,set(e){a=Ii(n,e)}},EventSource:{configurable:!0,enumerable:!0,get:()=>o,set(e){o=Di(t,n,e)}}})}setScopeProperties(e){this.scopeProperties.forEach((t=>{Reflect.set(e,t,e[t])}))}setMicroAppRouter(e,t,n){const{microLocation:r,microHistory:a}=Ni(t,n);xa(e,{location:{configurable:!1,enumerable:!0,get:()=>r,set:e=>{ys.rawWindow.location=e}},history:{configurable:!0,enumerable:!0,get:()=>a}})}initRouteState(e){!function(e,t,n){const r=ui(e);r?Li(e,r,t,"auto"):Oi(e,t,n)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location,e)}clearRouteState(e){!function(e,t,n,r){if(!r){const{pathname:r,search:a,hash:o}=eo(t);Li(e,r+a+o,n,"prevent")}Ci(e),Ai(e)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.__MICRO_APP_URL__,this.proxyWindow.location,e)}setRouteInfoForKeepAliveApp(){Oi(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location)}removeRouteInfoForKeepAliveApp(){Ci(this.proxyWindow.__MICRO_APP_NAME__)}createProxyDocument(e){const t=ys.rawDocument,n=ys.rawRootDocument,r=function(n,r){const a=ys.rawCreateElement.call(t,n,r);return a.__MICRO_APP_NAME__=e,a},a=new Proxy(t,{get:(n,o)=>{if(po(e),function(e){const t=ys.rawDocument.firstElementChild;(null==t?void 0:t.parentNode)===ys.rawDocument&&(ls(t,e),Za((()=>{ls(t,ys.rawDocument)})))}(a),"createElement"===o)return r;if(o===Symbol.toStringTag)return"ProxyDocument";if("defaultView"===o)return this.proxyWindow;const s=Reflect.get(n,o);return Ba(s)?qs(t,s,"DOCUMENT"):s},set:(e,t,n)=>(Reflect.set(e,t,n),!0)});class o{static[Symbol.hasInstance](e){let t=e;for(;t=Object.getPrototypeOf(t);)if(t===o.prototype)return!0;return e===a||e instanceof n}}return Object.setPrototypeOf(o,n),Object.setPrototypeOf(o.prototype,new Proxy(n.prototype,{get(n,r){po(e);const a=Reflect.get(n,r);return Ba(a)?qs(t,a,"DOCUMENT"):a},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})),{proxyDocument:a,MicroDocument:o}}}function Fi(e,t,n,r){var a;if(!e)return Xa(`element does not exist in lifecycle ${n}`,t);e=_o(e),fo();const o=Da({name:t,container:e},r&&{error:r}),s=new CustomEvent(n,{detail:o});!function(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},target:{get:()=>t}})}(s,e),Ba(null===(a=Xi.options.lifeCycles)||void 0===a?void 0:a[n])&&Xi.options.lifeCycles[n](s),e.dispatchEvent(s)}function Ui(e,t,n={}){const r=new CustomEvent(Ys(e,t),{detail:n});window.dispatchEvent(r)}Wi.activeCount=0;const $i=new Map;class ji{constructor({name:e,url:t,container:n,scopecss:r,useSandbox:a,inline:o,esmodule:s,ssrUrl:i,isPrefetch:l,prefetchLevel:c}){this.state=Mo.CREATED,this.keepAliveState=null,this.keepAliveContainer=null,this.loadSourceLevel=0,this.umdHookMount=null,this.umdHookUnmount=null,this.libraryName=null,this.umdMode=!1,this.sandBox=null,this.fiber=!1,this.useMemoryRouter=!0,this.name=e,this.url=t,this.useSandbox=a,this.scopecss=this.useSandbox&&r,this.inline=null!=o&&o,this.esmodule=null!=s&&s,this.container=null!=n?n:null,this.ssrUrl=null!=i?i:"",this.isPrefetch=null!=l&&l,this.isPrerender=3===c,this.prefetchLevel=c,$i.set(this.name,this),this.source={html:null,links:new Set,scripts:new Set},this.loadSourceCode(),this.useSandbox&&(this.sandBox=new Wi(e,t))}loadSourceCode(){this.state=Mo.LOADING,Go.getInstance().run(this,Ws)}onLoad(e,t,n){var r;if(2==++this.loadSourceLevel)if(this.source.html=e,this.state=Mo.LOADED,this.isPrefetch||Mo.UNMOUNT===this.state){if(this.isPrerender){const e=mo("div");e.setAttribute("prerender","true"),null===(r=this.sandBox)||void 0===r||r.setPreRenderState(!0),this.mount({container:e,inline:this.inline,useMemoryRouter:!0,baseroute:"",fiber:!0,esmodule:this.esmodule,defaultPage:null!=t?t:"",disablePatchRequest:null!=n&&n})}}else _o(this.container).mount(this)}onLoadError(e){this.loadSourceLevel=-1,Mo.UNMOUNT!==this.state&&(this.onerror(e),this.state=Mo.LOAD_FAILED)}mount({container:e,inline:t,useMemoryRouter:n,defaultPage:r,baseroute:a,disablePatchRequest:o,fiber:s,esmodule:i}){var l,c,u,p,d,h;if(2!==this.loadSourceLevel)return this.container=e,this.isPrerender=!1,void(this.state=Mo.LOADING);if(this.container instanceof HTMLDivElement&&this.container.hasAttribute("prerender"))return null===(l=this.sandBox)||void 0===l||l.rebuildEffectSnapshot(),go(this.container,e,!1),this.container=e,null===(c=this.preRenderEvent)||void 0===c||c.forEach((e=>e())),this.isPrerender=!1,this.preRenderEvent=void 0,wi.attachToURL(this.name),null===(u=this.sandBox)||void 0===u?void 0:u.setPreRenderState(!1);this.container=e,this.inline=t,this.esmodule=i,this.fiber=s,this.useMemoryRouter=n;const f=()=>{Fi(this.container,this.name,Do.BEFOREMOUNT)};let m;if(this.isPrerender?(null!==(p=this.preRenderEvent)&&void 0!==p?p:this.preRenderEvent=[]).push(f):f(),this.state=Mo.MOUNTING,go(this.source.html,this.container,!this.umdMode),null===(d=this.sandBox)||void 0===d||d.start({umdMode:this.umdMode,baseroute:a,useMemoryRouter:n,defaultPage:r,disablePatchRequest:o}),this.umdMode){null===(h=this.sandBox)||void 0===h||h.rebuildEffectSnapshot();try{m=this.umdHookMount()}catch(g){Xa("an error occurred in the mount function \n",this.name)}this.handleMounted(m)}else{let e=!1;!function(e,t){const n=e.fiber?[]:null,r=Array.from(e.source.scripts),a=[],o=[];for(const s of r){const r=rs.script.getInfo(s),i=r.appSpace[e.name];i.defer||i.async?(r.isExternal&&!r.code?a.push(Vo(s,e.name)):a.push(r.code),o.push([s,r]),As(e,r)&&(t.moduleCount=t.moduleCount?++t.moduleCount:1)):Ro(n,(()=>{Is(s,e,r),t(!1)}))}a.length?so(a,(e=>{const t=o[e.index][1];t.code=t.code||e.data}),(n=>{t.errorCount=t.errorCount?++t.errorCount:1,Xa(n,e.name)}),(()=>{o.forEach((([r,a])=>{a.code&&Ro(n,(()=>{Is(r,e,a,t),!As(e,a)&&t(!1)}))})),n?(n.push((()=>Promise.resolve(t(Fa(t.moduleCount)||t.errorCount===a.length)))),Po(n)):t(Fa(t.moduleCount)||t.errorCount===a.length)})):n?(n.push((()=>Promise.resolve(t(!0)))),Po(n)):t(!0)}(this,(t=>{var n;if(!this.umdMode){const{mount:e,unmount:t}=this.getUmdLibraryHooks();if(this.umdHookUnmount=t,Ba(e)&&Ba(t)){this.umdHookMount=e,this.umdMode=!0,this.sandBox&&(this.sandBox.proxyWindow.__MICRO_APP_UMD_MODE__=!0);try{m=this.umdHookMount(Xi.getData(this.name,!0))}catch(g){Xa("an error occurred in the mount function \n",this.name)}}}if(!e&&(!0===t||this.umdMode)){e=!0;const t=()=>this.handleMounted(m);this.isPrerender?((null!==(n=this.preRenderEvent)&&void 0!==n?n:this.preRenderEvent=[]).push(t),this.recordAndReleaseEffect()):t()}}))}}handleMounted(e){za(e)?e.then((()=>this.dispatchMountedEvent())).catch((e=>this.onerror(e))):this.dispatchMountedEvent()}dispatchMountedEvent(){Mo.UNMOUNT!==this.state&&(this.state=Mo.MOUNTED,No(this.getGlobalEventListener(xo.ONMOUNT),this.name,`window.${xo.ONMOUNT}`,Xi.getData(this.name,!0)),Fi(this.container,this.name,Do.MOUNTED))}unmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){let a;if(this.state===Mo.LOAD_FAILED&&(e=!0),this.state=Mo.UNMOUNT,this.keepAliveState=null,this.keepAliveContainer=null,Ba(this.umdHookUnmount))try{a=this.umdHookUnmount(Xi.getData(this.name,!0))}catch(o){Xa("an error occurred in the unmount function \n",this.name)}No(this.getGlobalEventListener(xo.ONUNMOUNT),this.name,`window.${xo.ONUNMOUNT}`),Ui("unmount",this.name),this.handleUnmounted(e,t,n,a,r)}handleUnmounted(e,t,n,r,a){const o={destroy:e,clearData:t,keepRouteState:n,unmountcb:a};za(r)?r.then((()=>this.actionsForUnmount(o))).catch((()=>this.actionsForUnmount(o))):this.actionsForUnmount(o)}actionsForUnmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){var a,o;e?this.actionsForCompletelyDestroy():this.umdMode&&this.container.childElementCount&&go(this.container,this.source.html,!1),this.umdMode&&(null===(a=this.sandBox)||void 0===a||a.recordEffectSnapshot()),null===(o=this.sandBox)||void 0===o||o.stop({umdMode:this.umdMode,keepRouteState:n&&!e,clearEventSource:!this.umdMode||e,clearData:t||e}),Gi().length||(vs=!1,Element.prototype.setAttribute=ys.rawSetAttribute),Fi(this.container,this.name,Do.UNMOUNT),this.resetConfig(),r&&r()}resetConfig(){this.container.innerHTML="",this.container=null,this.isPrerender=!1,this.preRenderEvent=void 0}actionsForCompletelyDestroy(){!this.useSandbox&&this.umdMode&&delete window[this.libraryName],rs.script.deleteInlineInfo(this.source.scripts),$i.delete(this.name)}hiddenKeepAliveApp(e){var t;const n=this.container;go(this.container,this.keepAliveContainer?this.keepAliveContainer:this.keepAliveContainer=document.createElement("div"),!1),this.container=this.keepAliveContainer,this.keepAliveState=Fo.KEEP_ALIVE_HIDDEN,Ui("appstate-change",this.name,{appState:"afterhidden"}),Fi(n,this.name,Do.AFTERHIDDEN),this.useMemoryRouter&&(null===(t=this.sandBox)||void 0===t||t.removeRouteInfoForKeepAliveApp()),this.recordAndReleaseEffect(),e&&e()}showKeepAliveApp(e){var t,n;null===(t=this.sandBox)||void 0===t||t.rebuildEffectSnapshot(),Ui("appstate-change",this.name,{appState:"beforeshow"}),Fi(e,this.name,Do.BEFORESHOW),go(this.container,e,!1),this.container=e,this.keepAliveState=Fo.KEEP_ALIVE_SHOW,this.useMemoryRouter&&(null===(n=this.sandBox)||void 0===n||n.setRouteInfoForKeepAliveApp()),Ui("appstate-change",this.name,{appState:"aftershow"}),Fi(this.container,this.name,Do.AFTERSHOW)}onerror(e){Fi(this.container,this.name,Do.ERROR,e)}getAppState(){return this.state}getKeepAliveState(){return this.keepAliveState}getUmdLibraryHooks(){var e,t,n,r;if(Mo.UNMOUNT!==this.state){const a=null!==(t=null===(e=this.sandBox)||void 0===e?void 0:e.proxyWindow)&&void 0!==t?t:ys.rawWindow;return this.libraryName=_o(this.container).getAttribute("library")||`micro-app-${this.name}`,Ga(a[this.libraryName])?a[this.libraryName]:{mount:null===(n=this.sandBox)||void 0===n?void 0:n.proxyWindow.mount,unmount:null===(r=this.sandBox)||void 0===r?void 0:r.proxyWindow.unmount}}return{}}getGlobalEventListener(e){var t;const n=null===(t=this.sandBox)||void 0===t?void 0:t.proxyWindow[e];return Ba(n)?n:null}recordAndReleaseEffect(){var e,t;null===(e=this.sandBox)||void 0===e||e.recordEffectSnapshot(),null===(t=this.sandBox)||void 0===t||t.releaseGlobalEffect()}querySelector(e){const t=this.container;return t?ys.rawElementQuerySelector.call(t,e):null}querySelectorAll(e){const t=this.container;return t?ys.rawElementQuerySelectorAll.call(t,e):[]}}function Hi(e){class t extends HTMLElement{constructor(){super(),this.isWaiting=!1,this.cacheData=null,this.connectedCount=0,this.connectStateMap=new Map,this.appName="",this.appUrl="",this.ssrUrl="",this.version="1.0.0-alpha.10",this.handleAttributeUpdate=()=>{if(this.isWaiting=!1,!this.connectStateMap.get(this.connectedCount))return;const e=ro(this.getAttribute("name")),t=no(this.getAttribute("url"),this.appName);if(this.legalAttribute("name",e)&&this.legalAttribute("url",t)){const n=$i.get(e);if(e!==this.appName&&n&&Mo.UNMOUNT!==n.getAppState()&&Fo.KEEP_ALIVE_HIDDEN!==n.getKeepAliveState()&&!n.isPrefetch)return this.setAttribute("name",this.appName),Xa(`app name conflict, an app named ${e} is running`);e===this.appName&&t===this.appUrl||(e===this.appName?this.handleUnmount(!0,(()=>{this.actionsForAttributeChange(e,t,n)})):this.getKeepAliveModeResult()?(this.handleHiddenKeepAliveApp(),this.actionsForAttributeChange(e,t,n)):this.handleUnmount(this.getDestroyCompatibleResult(),(()=>{this.actionsForAttributeChange(e,t,n)})))}else e!==this.appName&&this.setAttribute("name",this.appName)},vs||(vs=!0,Element.prototype.setAttribute=function(e,t){if(/^micro-app(-\S+)?/i.test(this.tagName)&&"data"===e)if(Va(t)){const e={};Object.getOwnPropertyNames(t).forEach((n=>{$a(n)&&0===n.indexOf("__")||(e[n]=t[n])})),this.data=e}else"[object Object]"!==t&&Ja("property data must be an object",this.getAttribute("name"));else{const n=this.__MICRO_APP_NAME__||ho();if(n&&$i.has(n)&&(("src"===e||"srcset"===e)&&/^(img|script)$/i.test(this.tagName)||"href"===e&&/^link$/i.test(this.tagName))){const e=$i.get(n);t=oo(t,e.url)}ys.rawSetAttribute.call(this,e,t)}})}static get observedAttributes(){return["name","url"]}connectedCallback(){const e=++this.connectedCount;this.connectStateMap.set(e,!0);const t=this.appName&&this.appUrl;Za((()=>{this.connectStateMap.get(e)&&(Fi(this,this.appName,Do.CREATED),t&&this.handleConnected())}))}disconnectedCallback(){this.connectStateMap.set(this.connectedCount,!1),this.handleDisconnected()}reload(e){return new Promise((t=>{const n=()=>{this.removeEventListener(Do.MOUNTED,n),this.removeEventListener(Do.AFTERSHOW,n),t(!0)};this.addEventListener(Do.MOUNTED,n),this.addEventListener(Do.AFTERSHOW,n),this.handleDisconnected(e,(()=>{this.handleConnected()}))}))}handleDisconnected(e=!1,t){const n=$i.get(this.appName);n&&n.getAppState()!==Mo.UNMOUNT&&n.getKeepAliveState()!==Fo.KEEP_ALIVE_HIDDEN&&(this.getKeepAliveModeResult()&&!e?this.handleHiddenKeepAliveApp(t):this.handleUnmount(e||this.getDestroyCompatibleResult(),t))}attributeChangedCallback(e,t,n){if(this.legalAttribute(e,n)&&this[e===Oo.NAME?"appName":"appUrl"]!==n)if(e!==Oo.URL||this.appUrl)if(e!==Oo.NAME||this.appName)this.isWaiting||(this.isWaiting=!0,Za(this.handleAttributeUpdate));else{const e=ro(n);if(!e)return Xa(`Invalid attribute name ${n}`,this.appName);this.cacheData&&(Xi.setData(e,this.cacheData),this.cacheData=null),this.appName=e,e!==n&&this.setAttribute("name",this.appName),this.handleInitialNameAndUrl()}else{if(!(n=no(n,this.appName)))return Xa(`Invalid attribute url ${n}`,this.appName);this.appUrl=n,this.handleInitialNameAndUrl()}}handleInitialNameAndUrl(){this.connectStateMap.get(this.connectedCount)&&this.handleConnected()}handleConnected(){if(this.appName&&this.appUrl)if(this.getDisposeResult("shadowDOM")&&!this.shadowRoot&&Ba(this.attachShadow)&&this.attachShadow({mode:"open"}),this.updateSsrUrl(this.appUrl),$i.has(this.appName)){const e=$i.get(this.appName),t=e.ssrUrl||e.url,n=this.ssrUrl||this.appUrl;e.getKeepAliveState()===Fo.KEEP_ALIVE_HIDDEN&&e.url===this.appUrl?this.handleShowKeepAliveApp(e):t===n&&(e.getAppState()===Mo.UNMOUNT||e.isPrefetch&&e.scopecss===this.isScopecss()&&e.useSandbox===this.isSandbox())?this.handleAppMount(e):e.isPrefetch||e.getAppState()===Mo.UNMOUNT?this.handleCreateApp():Xa(`app name conflict, an app named: ${this.appName} with url: ${t} is running`)}else this.handleCreateApp()}actionsForAttributeChange(e,t,n){var r;this.updateSsrUrl(t),this.appName=e,this.appUrl=t,(null!==(r=this.shadowRoot)&&void 0!==r?r:this).innerHTML="",e!==this.getAttribute("name")&&this.setAttribute("name",this.appName),n?n.getKeepAliveState()===Fo.KEEP_ALIVE_HIDDEN?n.url===this.appUrl?this.handleShowKeepAliveApp(n):Xa(`app name conflict, an app named ${this.appName} is running`):n.url===this.appUrl&&n.ssrUrl===this.ssrUrl?this.handleAppMount(n):this.handleCreateApp():this.handleCreateApp()}legalAttribute(e,t){return!(!$a(t)||!t)||(Xa(`unexpected attribute ${e}, please check again`,this.appName),!1)}handleCreateApp(){var e;$i.has(this.appName)&&$i.get(this.appName).actionsForCompletelyDestroy(),new ji({name:this.appName,url:this.appUrl,scopecss:this.isScopecss(),useSandbox:this.isSandbox(),inline:this.getDisposeResult("inline"),esmodule:this.getDisposeResult("esmodule"),container:null!==(e=this.shadowRoot)&&void 0!==e?e:this,ssrUrl:this.ssrUrl})}handleAppMount(e){e.isPrefetch=!1,Za((()=>this.mount(e)))}mount(e){var t;e.mount({container:null!==(t=this.shadowRoot)&&void 0!==t?t:this,inline:this.getDisposeResult("inline"),useMemoryRouter:!this.getDisposeResult("disable-memory-router"),defaultPage:this.getDefaultPageValue(),baseroute:this.getBaseRouteCompatible(),disablePatchRequest:this.getDisposeResult("disable-patch-request"),fiber:this.getDisposeResult("fiber"),esmodule:this.getDisposeResult("esmodule")})}handleUnmount(e,t){const n=$i.get(this.appName);n&&n.getAppState()!==Mo.UNMOUNT&&n.unmount({destroy:e,clearData:this.getDisposeResult("clear-data"),keepRouteState:this.getDisposeResult("keep-router-state"),unmountcb:t})}handleHiddenKeepAliveApp(e){const t=$i.get(this.appName);t&&t.getAppState()!==Mo.UNMOUNT&&t.getKeepAliveState()!==Fo.KEEP_ALIVE_HIDDEN&&t.hiddenKeepAliveApp(e)}handleShowKeepAliveApp(e){Za((()=>{var t;return e.showKeepAliveApp(null!==(t=this.shadowRoot)&&void 0!==t?t:this)}))}getDisposeResult(e){return(this.compatibleSpecialProperties(e)||!!Xi.options[e])&&this.compatibleDisableSpecialProperties(e)}compatibleSpecialProperties(e){return"disable-scopecss"===e?this.hasAttribute("disable-scopecss")||this.hasAttribute("disableScopecss"):"disable-sandbox"===e?this.hasAttribute("disable-sandbox")||this.hasAttribute("disableSandbox"):this.hasAttribute(e)}compatibleDisableSpecialProperties(e){return"disable-scopecss"===e?"false"!==this.getAttribute("disable-scopecss")&&"false"!==this.getAttribute("disableScopecss"):"disable-sandbox"===e?"false"!==this.getAttribute("disable-sandbox")&&"false"!==this.getAttribute("disableSandbox"):"false"!==this.getAttribute(e)}isScopecss(){return!(this.getDisposeResult("disable-scopecss")||this.getDisposeResult("shadowDOM"))}isSandbox(){return!this.getDisposeResult("disable-sandbox")}getBaseRouteCompatible(){var e,t;return null!==(t=null!==(e=this.getAttribute("baseroute"))&&void 0!==e?e:this.getAttribute("baseurl"))&&void 0!==t?t:""}getDestroyCompatibleResult(){return this.getDisposeResult("destroy")||this.getDisposeResult("destory")}getKeepAliveModeResult(){return this.getDisposeResult("keep-alive")&&!this.getDestroyCompatibleResult()}updateSsrUrl(e){if(this.getDisposeResult("ssr"))if(this.getDisposeResult("disable-memory-router")||this.getDisposeResult("disableSandbox")){const t=ys.rawWindow.location;this.ssrUrl=oo(t.pathname+t.search,e)}else{let t=function(e,t){const n=ui(e);if(!n)return"";const r=eo(n,t);return r.origin+r.pathname+r.search}(this.appName,e);const n=this.getDefaultPageValue();if(!t&&n){const r=eo(n,e);t=r.origin+r.pathname+r.search}this.ssrUrl=t}else this.ssrUrl&&(this.ssrUrl="")}getDefaultPageValue(){return wi.getDefaultPage(this.appName)||this.getAttribute("default-page")||this.getAttribute("defaultPage")||""}set data(e){this.appName?Xi.setData(this.appName,e):this.cacheData=e}get data(){return this.appName?Xi.getData(this.appName,!0):this.cacheData?this.cacheData:null}}ys.rawWindow.customElements.define(e,t)}function Bi(e,t){if(!Na)return Xa("preFetch is only supported in browser environment");io((()=>{const n=Ha(t)?t:Xi.options.prefetchDelay;setTimeout((()=>{!function(e){Ba(e)&&(e=e()),Ia(e)&&e.reduce(((e,t)=>e.then((()=>{return e=t,lo((t=>{var n,r,a,o,s,i;if(Va(e)&&navigator.onLine)if(e.name=ro(e.name),e.url=no(e.url,e.name),e.name&&e.url&&!$i.has(e.name)){const l=new ji({name:e.name,url:e.url,isPrefetch:!0,scopecss:!(null!==(r=null!==(n=e["disable-scopecss"])&&void 0!==n?n:e.disableScopecss)&&void 0!==r?r:Xi.options["disable-scopecss"]),useSandbox:!(null!==(o=null!==(a=e["disable-sandbox"])&&void 0!==a?a:e.disableSandbox)&&void 0!==o?o:Xi.options["disable-sandbox"]),inline:null!==(s=e.inline)&&void 0!==s?s:Xi.options.inline,esmodule:null!==(i=e.esmodule)&&void 0!==i?i:Xi.options.esmodule,prefetchLevel:e.level&&Ho.includes(e.level)?e.level:Xi.options.prefetchLevel&&Ho.includes(Xi.options.prefetchLevel)?Xi.options.prefetchLevel:2}),c=l.onLoad,u=l.onLoadError;l.onLoad=n=>{t(),c.call(l,n,e["default-page"],e["disable-patch-request"])},l.onLoadError=(...e)=>{t(),u.call(l,...e)}}else t();else t()}));var e}))),Promise.resolve())}(e)}),Ha(n)?n:3e3)}))}function Vi(e,t,n){if(Ia(e)){const r=e.filter((e=>$a(e)&&e.includes(`.${t}`)&&!n.hasInfo(e)));so(r.map((e=>Vo(e))),(e=>{const a=r[e.index];"js"===t?n.hasInfo(a)||n.setInfo(a,{code:e.data,isExternal:!1,appSpace:{}}):n.hasInfo(a)||n.setInfo(a,{code:e.data,appSpace:{}})}),(e=>{Xa(e)}))}}function Gi({excludeHiddenApp:e=!1,excludePreRender:t=!1}={}){const n=[];return $i.forEach(((r,a)=>{Mo.UNMOUNT===r.getAppState()||r.isPrefetch&&(!r.isPrerender||t)||e&&Fo.KEEP_ALIVE_HIDDEN===r.getKeepAliveState()||n.push(a)})),n}function zi(){return Array.from($i.keys())}function qi(e,t){const n=$i.get(ro(e));return new Promise((r=>{if(n)if(n.getAppState()===Mo.UNMOUNT||n.isPrefetch)(null==t?void 0:t.destroy)&&n.actionsForCompletelyDestroy(),r(!0);else if(n.getKeepAliveState()===Fo.KEEP_ALIVE_HIDDEN)(null==t?void 0:t.destroy)?n.unmount({destroy:!0,clearData:!0,keepRouteState:!0,unmountcb:r.bind(null,!0)}):(null==t?void 0:t.clearAliveState)?n.unmount({destroy:!1,clearData:!!t.clearData,keepRouteState:!0,unmountcb:r.bind(null,!0)}):r(!0);else{const e=_o(n.container),a=()=>{e.removeEventListener(Do.UNMOUNT,a),e.removeEventListener(Do.AFTERHIDDEN,o),r(!0)},o=()=>{e.removeEventListener(Do.UNMOUNT,a),e.removeEventListener(Do.AFTERHIDDEN,o),r(!0)};if(e.addEventListener(Do.UNMOUNT,a),e.addEventListener(Do.AFTERHIDDEN,o),null==t?void 0:t.destroy){let t,n;e.hasAttribute("destroy")&&(t=e.getAttribute("destroy")),e.hasAttribute("destory")&&(n=e.getAttribute("destory")),e.setAttribute("destroy","true"),e.parentNode.removeChild(e),e.removeAttribute("destroy"),$a(t)&&e.setAttribute("destroy",t),$a(n)&&e.setAttribute("destory",n)}else if((null==t?void 0:t.clearAliveState)&&e.hasAttribute("keep-alive")){const n=e.getAttribute("keep-alive");let r;e.removeAttribute("keep-alive"),t.clearData&&(r=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),e.setAttribute("keep-alive",n),$a(r)&&e.setAttribute("clear-data",r)}else{let n;(null==t?void 0:t.clearData)&&(n=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),$a(n)&&e.setAttribute("clear-data",n)}}else Ja(`app ${e} does not exist`),r(!1)}))}function Ki(e){return Array.from($i.keys()).reduce(((t,n)=>t.then((()=>qi(n,e)))),Promise.resolve(!0))}function Yi(e,t){return new Promise((n=>{const r=$i.get(ro(e));if(r){const a=r.container&&_o(r.container);a?n(a.reload(t)):(Ja(`app ${e} is not rendered, cannot use reload`),n(!1))}else Ja(`app ${e} does not exist`),n(!1)}))}function Qi(e){return new Promise((t=>{if(!Va(e))return Xa("renderApp options must be an object");const n=Ya(e.container)?e.container:$a(e.container)?document.querySelector(e.container):null;if(!Ya(n))return Xa("Target container is not a DOM element.");const r=mo(Xi.tagName);for(const i in e)if("onDataChange"===i)Ba(e[i])&&r.addEventListener("datachange",e[i]);else if("lifeCycles"===i){const t=e[i];if(Va(t))for(const e in t)e.toUpperCase()in Do&&Ba(t[e])&&r.addEventListener(e.toLowerCase(),t[e])}else"container"!==i&&r.setAttribute(i,e[i]);const a=()=>{s(),t(!0)},o=()=>{s(),t(!1)},s=()=>{r.removeEventListener(Do.MOUNTED,a),r.removeEventListener(Do.ERROR,o)};r.addEventListener(Do.MOUNTED,a),r.addEventListener(Do.ERROR,o),n.appendChild(r)}))}const Xi=new class extends js{constructor(){super(...arguments),this.tagName="micro-app",this.options={},this.router=wi,this.preFetch=Bi,this.unmountApp=qi,this.unmountAllApps=Ki,this.getActiveApps=Gi,this.getAllApps=zi,this.reload=Yi,this.renderApp=Qi}start(e){var t,n,r;if(!Na||!window.customElements)return Xa("micro-app is not supported in this environment");if(null==e?void 0:e.tagName){if(!/^micro-app(-\S+)?/.test(e.tagName))return Xa(`${e.tagName} is invalid tagName`);this.tagName=e.tagName}if(window.customElements.get(this.tagName))return Ja(`element ${this.tagName} is already defined`);if(ws(),Va(e)&&(this.options=e,e["disable-scopecss"]=null!==(t=e["disable-scopecss"])&&void 0!==t?t:e.disableScopecss,e["disable-sandbox"]=null!==(n=e["disable-sandbox"])&&void 0!==n?n:e.disableSandbox,e.preFetchApps&&Bi(e.preFetchApps),e.globalAssets&&(Va(r=e.globalAssets)&&io((()=>{Vi(r.js,"js",rs.script),Vi(r.css,"css",rs.link)}))),Va(e.plugins))){const t=e.plugins.modules;if(Va(t))for(const e in t){const n=ro(e);n&&e!==n&&(t[n]=t[e],delete t[e])}}Hi(this.tagName)}},Ji={},Zi=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Ji)return;Ji[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()};var el={exports:{}},tl=el.exports=function(){var e,t,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(e,t,n){return e<t?t:e>n?n:e}function o(e){return 100*(-1+e)}function s(e,t,n){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+o(e)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(e)+"%,0)"}:{"margin-left":o(e)+"%"}).transition="all "+t+"ms "+n,a}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(r[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=a(e,r.minimum,1),n.status=1===e?null:e;var o=n.render(!t),c=o.querySelector(r.barSelector),u=r.speed,p=r.easing;return o.offsetWidth,i((function(t){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),l(c,s(e,u,p)),1===e?(l(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout((function(){l(o,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),r.trickleSpeed)};return r.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*a(Math.random()*t,.1,.95)),t=a(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&n.start(),e++,t++,r.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var a,s=t.querySelector(r.barSelector),i=e?"-100":o(n.status||0),c=document.querySelector(r.parent);return l(s,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),r.showSpinner||(a=t.querySelector(r.spinnerSelector))&&h(a),c!=document.body&&u(c,"nprogress-custom-parent"),c.appendChild(t),t},n.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var i=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),l=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function r(t){var n=document.body.style;if(t in n)return t;for(var r,a=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((r=e[a]+o)in n)return r;return t}function a(e){return e=n(e),t[e]||(t[e]=r(e))}function o(e,t,n){t=a(t),e.style[t]=n}return function(e,t){var n,r,a=arguments;if(2==a.length)for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&o(e,n,r);else o(e,a[1],a[2])}}();function c(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function u(e,t){var n=d(e),r=n+t;c(n,t)||(e.className=r.substring(1))}function p(e,t){var n,r=d(e);c(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n}();
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */const nl=S({name:"IconQuestion",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-question`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),rl=["stroke-width","stroke-linecap","stroke-linejoin"],al=[T("path",{d:"M13 17c0-5.523 4.925-10 11-10s11 4.477 11 10c0 3.607-2.1 6.767-5.25 8.526C26.857 27.142 24 29.686 24 33v3m0 5h.02v.02H24V41Z"},null,-1)];var ol=C(nl,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},al,14,rl)}]]);const sl=Object.assign(ol,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+ol.name,ol)}}),il=S({name:"IconCodeSquare",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-code-square`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),ll=["stroke-width","stroke-linecap","stroke-linejoin"],cl=[T("path",{d:"M23.071 17 16 24.071l7.071 7.071m9.001-14.624-4.14 15.454M9 42h30a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v34a1 1 0 0 0 1 1Z"},null,-1)];var ul=C(il,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},cl,14,ll)}]]);const pl=Object.assign(ul,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+ul.name,ul)}}),dl=S({name:"IconCode",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-code`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),hl=["stroke-width","stroke-linecap","stroke-linejoin"],fl=[T("path",{d:"M16.734 12.686 5.42 24l11.314 11.314m14.521-22.628L42.57 24 31.255 35.314M27.2 6.28l-6.251 35.453"},null,-1)];var ml=C(dl,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},fl,14,hl)}]]);const gl=Object.assign(ml,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+ml.name,ml)}}),vl=S({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-settings`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),bl=["stroke-width","stroke-linecap","stroke-linejoin"],_l=[T("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),T("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1)];var yl=C(vl,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},_l,14,bl)}]]);const wl=Object.assign(yl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+yl.name,yl)}}),El=S({name:"IconApps",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-apps`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),Al=["stroke-width","stroke-linecap","stroke-linejoin"],Sl=[T("path",{d:"M7 7h13v13H7zM28 7h13v13H28zM7 28h13v13H7zM28 28h13v13H28z"},null,-1)];var kl=C(El,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Sl,14,Al)}]]);const Rl=Object.assign(kl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+kl.name,kl)}}),Pl=S({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-command`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),Ll=["stroke-width","stroke-linecap","stroke-linejoin"],Nl=[T("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1)];var Ol=C(Pl,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Nl,14,Ll)}]]);const Cl=Object.assign(Ol,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Ol.name,Ol)}}),Ml=S({name:"IconTool",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=N("icon");return{cls:h((()=>[t,`${t}-tool`,{[`${t}-spin`]:e.spin}])),sizeStyle:h((()=>{if(e.size)return{fontSize:O(e.size)?`${e.size}px`:e.size}}))}}}),Il=["stroke-width","stroke-linecap","stroke-linejoin"],Dl=[T("path",{d:"M19.994 11.035c3.66-3.659 9.094-4.46 13.531-2.405a.1.1 0 0 1 .028.16l-6.488 6.488a1 1 0 0 0 0 1.414l4.243 4.243a1 1 0 0 0 1.414 0l6.488-6.488a.1.1 0 0 1 .16.028c2.056 4.437 1.254 9.872-2.405 13.53-3.695 3.696-9.2 4.477-13.66 2.347L12.923 40.733a1 1 0 0 1-1.414 0L7.266 36.49a1 1 0 0 1 0-1.414l10.382-10.382c-2.13-4.46-1.349-9.965 2.346-13.66Z"},null,-1)];var Tl=C(Ml,[["render",function(e,t,n,r,a,o){return P(),M("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:I(e.cls),style:D(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Dl,14,Il)}]]);const xl=Object.assign(Tl,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Tl.name,Tl)}});tl.configure({showSpinner:!1,easing:"linear",speed:1e3,minimum:.2,trickle:!1,trickleSpeed:800});const Wl=[{path:"/dashboard",name:"dashboard",meta:{icon:Cl,keepAlive:!0},component:()=>Zi((()=>import("./dashboard.79fd73e7.js")),["assets/dashboard.79fd73e7.js","assets/dashboard.e0679e96.css","assets/index.3a7f15df.css","assets/typed.8fe96a35.js","assets/acro-design.1b4525da.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])},{path:"/setting",name:"setting",meta:{icon:wl,keepAlive:!0},component:()=>Zi((()=>import("./setting.9eee9121.js")),["assets/setting.9eee9121.js","assets/setting.411f738e.css","assets/index.3a7f15df.css","assets/acro-design.1b4525da.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])},{path:"/developer/:page*",name:"developer",meta:{icon:xl,keepAlive:!0},component:()=>Zi((()=>import("./developer.664c3af7.js")),["assets/developer.664c3af7.js","assets/acro-design.1b4525da.js"])},{path:"/chat/:page*",name:"chat",meta:{icon:gl,keepAlive:!0},component:()=>Zi((()=>import("./chat.6e15357f.js")),["assets/chat.6e15357f.js","assets/acro-design.1b4525da.js"])},{path:"/playground",name:"playground",meta:{icon:pl,keepAlive:!0},component:()=>Zi((()=>import("./playground.615b772e.js")),["assets/playground.615b772e.js","assets/playground.d11cc749.css","assets/index.3a7f15df.css","assets/acro-design.1b4525da.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"])}],Fl=[{path:"/",name:"layout",component:()=>Zi((()=>import("./index.9c30da8c.js")),["assets/index.9c30da8c.js","assets/index.b1fa9c9b.css","assets/acro-design.1b4525da.js","assets/lowdb.b41c9ad3.js","assets/lodash.74753a6d.js"]),meta:{icon:Rl},redirect:"/dashboard/",children:[...Wl]},{path:"/:pathMatch(.*)*",name:"notFound",meta:{icon:sl},component:()=>Zi((()=>import("./index.ff23138a.js")),["assets/index.ff23138a.js","assets/acro-design.1b4525da.js"])}],Ul=function(e){const t=Fr(e.routes,e),n=e.parseQuery||la,r=e.stringifyQuery||ca,a=e.history,s=pa(),i=pa(),l=pa(),c=v(kr);let u=kr;Zn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=tr.bind(null,(e=>""+e)),f=tr.bind(null,sa),m=tr.bind(null,ia);function g(e,o){if(o=er({},o||c.value),"string"==typeof e){const r=ar(n,e,o.path),s=t.resolve({path:r.path},o),i=a.createHref(r.fullPath);return er(r,s,{params:m(s.params),hash:ia(r.hash),redirectedFrom:void 0,href:i})}let s;if("path"in e)s=er({},e,{path:ar(n,e.path,o.path).path});else{const t=er({},e.params);for(const e in t)null==t[e]&&delete t[e];s=er({},e,{params:f(e.params)}),o.params=f(o.params)}const i=t.resolve(s,o),l=e.hash||"";i.params=d(m(i.params));const u=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,er({},e,{hash:(p=l,aa(p).replace(ea,"{").replace(na,"}").replace(Jr,"^")),path:i.path}));var p;const h=a.createHref(u);return er({fullPath:u,hash:l,query:r===ca?ua(e.query):e.query||{}},i,{redirectedFrom:void 0,href:h})}function b(e){return"string"==typeof e?ar(n,e,c.value.path):er({},e)}function _(e,t){if(u!==e)return Nr(8,{from:t,to:e})}function y(e){return A(e)}function E(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=b(r):{path:r},r.params={}),er({query:e.query,hash:e.hash,params:e.params},r)}}function A(e,t){const n=u=g(e),a=c.value,o=e.state,s=e.force,i=!0===e.replace,l=E(n);if(l)return A(er(b(l),{state:o,force:s,replace:i}),t||n);const p=n;let d;return p.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&sr(t.matched[r],n.matched[a])&&ir(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,a,n)&&(d=Nr(16,{to:p,from:a}),T(a,a,!0,!1)),(d?Promise.resolve(d):k(p,a)).catch((e=>Or(e)?Or(e,2)?e:D(e):I(e,p,a))).then((e=>{if(e){if(Or(e,2))return A(er(b(e.to),{state:o,force:s,replace:i}),t||p)}else e=P(p,a,!0,i,o);return R(p,a,e),e}))}function S(e,t){const n=_(e,t);return n?Promise.reject(n):Promise.resolve()}function k(e,t){let n;const[r,a,o]=function(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>sr(e,o)))?r.push(o):n.push(o));const i=e.matched[s];i&&(t.matched.find((e=>sr(e,i)))||a.push(i))}return[n,r,a]}(e,t);n=fa(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(ha(r,e,t))}));const l=S.bind(null,e,t);return n.push(l),wa(n).then((()=>{n=[];for(const r of s.list())n.push(ha(r,e,t));return n.push(l),wa(n)})).then((()=>{n=fa(a,"beforeRouteUpdate",e,t);for(const r of a)r.updateGuards.forEach((r=>{n.push(ha(r,e,t))}));return n.push(l),wa(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const a of r.beforeEnter)n.push(ha(a,e,t));else n.push(ha(r.beforeEnter,e,t));return n.push(l),wa(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=fa(o,"beforeRouteEnter",e,t),n.push(l),wa(n)))).then((()=>{n=[];for(const r of i.list())n.push(ha(r,e,t));return n.push(l),wa(n)})).catch((e=>Or(e,8)?e:Promise.reject(e)))}function R(e,t,n){for(const r of l.list())r(e,t,n)}function P(e,t,n,r,o){const s=_(e,t);if(s)return s;const i=t===kr,l=Zn?history.state:{};n&&(r||i?a.replace(e.fullPath,er({scroll:i&&l&&l.scroll},o)):a.push(e.fullPath,o)),c.value=e,T(e,t,n,i),D()}let L;function N(){L=a.listen(((e,t,n)=>{const r=g(e),o=E(r);if(o)return void A(er(o,{replace:!0}),r).catch(nr);u=r;const s=c.value;var i,l;Zn&&(i=_r(s.fullPath,n.delta),l=vr(),yr.set(i,l)),k(r,s).catch((e=>Or(e,12)?e:Or(e,2)?(A(e.to,r).then((e=>{Or(e,20)&&!n.delta&&n.type===ur.pop&&a.go(-1,!1)})).catch(nr),Promise.reject()):(n.delta&&a.go(-n.delta,!1),I(e,r,s)))).then((e=>{(e=e||P(r,s,!1))&&(n.delta?a.go(-n.delta,!1):n.type===ur.pop&&Or(e,20)&&a.go(-1,!1)),R(r,s,e)})).catch(nr)}))}let O,C=pa(),M=pa();function I(e,t,n){D(e);const r=M.list();return r.length&&r.forEach((r=>r(e,t,n))),Promise.reject(e)}function D(e){return O||(O=!e,N(),C.list().forEach((([t,n])=>e?n(e):t())),C.reset()),e}function T(t,n,r,a){const{scrollBehavior:o}=e;if(!Zn||!o)return Promise.resolve();const s=!r&&function(e){const t=yr.get(e);return yr.delete(e),t}(_r(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return p().then((()=>o(t,n,s))).then((e=>e&&br(e))).catch((e=>I(e,t,n)))}const x=e=>a.go(e);let W;const F=new Set;return{currentRoute:c,addRoute:function(e,n){let r,a;return Sr(e)?(r=t.getRecordMatcher(e),a=n):a=e,t.addRoute(a,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:g,options:e,push:y,replace:function(e){return y(er(b(e),{replace:!0}))},go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:s.add,beforeResolve:i.add,afterEach:l.add,onError:M.add,isReady:function(){return O&&c.value!==kr?Promise.resolve():new Promise(((e,t)=>{C.add([e,t])}))},install(e){e.component("RouterLink",ga),e.component("RouterView",ya),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>w(c)}),Zn&&!W&&c.value===kr&&(W=!0,y(a.location).catch((e=>{})));const t={};for(const r in kr)t[r]=h((()=>c.value[r]));e.provide(Qn,this),e.provide(Xn,o(t)),e.provide(Jn,c);const n=e.unmount;F.add(e),e.unmount=function(){F.delete(e),F.size<1&&(u=kr,L&&L(),c.value=kr,W=!1,O=!1),n()}}}}({history:function(e){const t=Ar(e=fr(e)),n=function(e,t,n,r){let a=[],o=[],s=null;const i=({state:o})=>{const i=wr(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=i,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else r(i);a.forEach((e=>{e(n.value,l,{delta:u,type:ur.pop,direction:u?u>0?dr.forward:dr.back:dr.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(er({},e.state,{scroll:vr()}),"")}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",l),{pauseListeners:function(){s=n.value},listen:function(e){a.push(e);const t=()=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),r=er({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:gr.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}("/base/"),routes:Fl});Ul.beforeEach((async(e,t,n)=>{tl.isStarted()||tl.start(),n()})),Ul.afterEach((e=>{tl.done()}));const $l=function(){const r=e(!0),a=r.run((()=>t({})));let o=[],s=[];const i=n({install(e){G(i),i._a=e,e.provide(z,i),e.config.globalProperties.$pinia=i,s.forEach((e=>o.push(e))),s=[]},use(e){return this._a?o.push(e):s.push(e),this},_p:o,_a:null,_e:r,_s:new Map,state:a});return i}();Xi.start({"disable-memory-router":!0,"disable-patch-request":!0,inline:!1,destroy:!1,shadowDOM:!1,ssr:!1,"disable-scopecss":!1,"disable-sandbox":!1,"keep-alive":!0,"keep-router-state":!0,lifeCycles:{created(){},beforemount(){},mounted(){},unmount(){},error(){},aftershow(){},afterhidden(){},beforeshow(){}},plugins:{modules:{chat:[{loader:e=>e}],developer:[{loader:e=>e}]}},fetch(e,t,n){if("http://localhost:3001/error.js"===e)return Promise.resolve("");let r=null;return"http://localhost:3001/base/react16/"===e&&(r={headers:{"custom-head":"custom-head"}}),fetch(e,Object.assign(t,r)).then((e=>e.text()))}}),window.eventCenterForMicroVue=new Hs("chat"),Xi.addDataListener("chat",(function(e){const{callback:t}=e;t()}),!1);const jl=x(La);jl.use($l),jl.use(Ul),jl.use(Un),jl.mount("#app");export{B as L,H as T,Ea as a,Aa as b,Wl as f,Un as i,da as o,Pa as u};
