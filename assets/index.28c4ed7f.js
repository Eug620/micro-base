!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var e=(e=>(e.DARK="dark",e.LIGHT="light",e))(e||{}),t=(e=>(e.EN="en",e.ZH="zh",e.JA="ja",e))(t||{}),n=(e=>(e.YH="https://api.vvhan.com/api/yinghua",e.XH="https://api.vvhan.com/api/snow",e.MH="https://api.vvhan.com/api/meihua",e))(n||{});const r={en:{message:{hello:"hello world"},menu:{layout:"layout",developer:"developer",chat:"chat",setting:"setting",notFound:"404",dashboard:"dashboard",playground:"playground"}},zh:{message:{hello:"你好 世界"},menu:{layout:"布局",developer:"开发",chat:"编辑",setting:"配置",notFound:"404",dashboard:"介绍",playground:"练习"}},ja:{message:{hello:"こんにちは、世界"},menu:{layout:"レイアウト",developer:"開発者",chat:"チャット",setting:"テスト",notFound:"見出されない",dashboard:"dashboard",playground:"playground"}}},o=vue-o.createI18n({locale:"zh",messages:r});globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet;var s,i=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};s=new WeakMap,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet,globalThis&&globalThis.__classPrivateFieldSet;class c extends Error{constructor(){super(),this.message="Missing Adapter"}}const l=new class{constructor(e){s.set(this,void 0),i(this,s,e,"f")}read(){const e=localStorage.getItem(a(this,s,"f"));return null===e?null:JSON.parse(e)}write(e){localStorage.setItem(a(this,s,"f"),JSON.stringify(e))}}("micro-base"),u=new class extends class{constructor(e){if(Object.defineProperty(this,"adapter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:null}),!e)throw new c;this.adapter=e}read(){this.data=this.adapter.read()}write(){null!==this.data&&this.adapter.write(this.data)}}{constructor(){super(...arguments),this.chain=lodash.chain(this).get("data")}}(l);u.data={system:{},database:{}};const p=localStorage.getItem("micro-base");function d({dbName:e="database",path:t="",user:n=!0,validator:r=(()=>!0),defaultValue:o=""}){const s=`${e}.${n?"user.ghost-uuid":"public"}${t?`.${t}`:""}`,i=u.chain.get(s).value();return void 0!==i&&r(i)||(u.chain.set(s,o),u.write()),s}function h({dbName:e="database",path:t="",defaultValue:n="",user:r=!1}){return lodash.cloneDeep(u.chain.get(d({dbName:e,path:t,user:r,defaultValue:n})).value())}function m({dbName:e="database",path:t="",user:n=!1,validator:r=(()=>!0),defaultValue:o=""}={}){return u.chain.get(d({dbName:e,path:t,user:n,validator:r,defaultValue:o}))}null!==p&&(u.data=JSON.parse(p)),u.write();const f=Pinia.defineStore({id:"db",actions:{set({dbName:e="database",path:t="",value:n="",user:r=!1}){!function({dbName:e="database",path:t="",value:n="",user:r=!1}){u.data=u.chain.set(d({dbName:e,path:t,user:r}),n).value(),u.write()}({dbName:e,path:t,value:n,user:r})},get:({dbName:e="database",path:t="",defaultValue:n="",user:r=!1})=>h({dbName:e,path:t,defaultValue:n,user:r}),database:({user:e=!1}={})=>m({user:e,defaultValue:{}}),databaseClear:({user:e=!1}={})=>m({user:e,validator:()=>!1,defaultValue:{}}),databasePage:({basis:e="fullPath",user:t=!1}={})=>m({path:`$page.${(vue-router.useRoute())[e]}`,user:t,defaultValue:{}}),databasePageClear:({basis:e="fullPath",user:t=!1}={})=>m({path:`$page.${(vue-router.useRoute())[e]}`,user:t,validator:()=>!1,defaultValue:{}}),pageSet:({instance:e,basis:t="fullPath",user:n=!1})=>m({path:`$page.${(vue-router.useRoute())[t]}.$data`,user:n,validator:()=>!1,defaultValue:lodash.cloneDeep(e.$data)}),pageGet:({instance:e,basis:t="fullPath",user:n=!1})=>h({path:`$page.${(vue-router.useRoute())[t]}.$data`,user:n,defaultValue:lodash.cloneDeep(e.$data)}),pageClear:({basis:e="fullPath",user:t=!1})=>m({path:`$page.${(vue-router.useRoute())[e]}.$data`,user:t,validator:()=>!1,defaultValue:{}})}});var g=(e=>(e.DATABASE="database",e.SYSTEM="system",e))(g||{}),v=(e=>(e.LANG="lang",e.THEME="theme",e.SPCIALEFFICIENCY="specialEfficiency",e.COLLAPSED="collapsed",e.ASYNCMENU="asyncMenu",e))(v||{});const b=Pinia.defineStore({id:"app",state:()=>({theme:"",lang:"",collapsed:!0,specialEfficiency:!1}),getters:{getTheme:e=>e.theme,getCollapsed:e=>e.collapsed,getSpecialEfficiency:e=>e.specialEfficiency},actions:{reload(){const e=f().get({dbName:g.SYSTEM,defaultValue:{}});this.setTheme(null==e?void 0:e.theme),this.setLang(null==e?void 0:e.lang),this.setCollapsed(null==e?void 0:e.collapsed),this.setSpecialEfficiency(null==e?void 0:e.specialEfficiency),this.fetchSpecialEfficiency()},setTheme(t=e.DARK){const n=f();this.theme=t,document.body.setAttribute("arco-theme",t),n.set({dbName:g.SYSTEM,path:v.THEME,value:t})},setLang(e=t.ZH){const n=f();this.lang=e,o.global.locale=e,n.set({dbName:g.SYSTEM,path:v.LANG,value:e})},setCollapsed(e,t){if([void 0,"clickTrigger"].includes(t)){const t=f();this.collapsed=e,t.set({dbName:g.SYSTEM,path:v.COLLAPSED,value:e})}},setSpecialEfficiency(e=!1,t){const n=f();this.specialEfficiency=e,n.set({dbName:g.SYSTEM,path:v.SPCIALEFFICIENCY,value:e}),t&&location.reload()},fetchSpecialEfficiency(){if(this.specialEfficiency){const e=document.createElement("script");e.src=`${this.getSpecialEfficiency}`,vue.nextTick((()=>{document.body.appendChild(e)}))}}}}),y=vue.defineComponent({setup:e=>(b().reload(),(e,t)=>{const n=vue.resolveComponent("router-view");return vue.openBlock(),vue.createBlock(n)})});const w="undefined"!=typeof window,_="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Function("return this")(),E=()=>{},A=()=>!1,S=Array.isArray,P=Object.assign,R=Object.defineProperty,N=Object.defineProperties,C=Object.prototype.hasOwnProperty;function M(e){return void 0===e}function D(e){return null===e}function O(e){return"string"==typeof e}function L(e){return"boolean"==typeof e}function x(e){return"number"==typeof e}function k(e){return"function"==typeof e}function I(e){return"[object Object]"===toString.call(e)}function T(e){return"object"==typeof e}function U(e){return"[object Promise]"===toString.call(e)}function W(e){var t;if(k(e)){const n=e.toString();return(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\s+[A-Z]/.test(n)||/^class\s+/.test(n)}return!1}function B(e){return e instanceof URL}function $(e){return e instanceof Element}function j(e){return e instanceof Node}function F(e,t=null,...n){t&&O(t);O(e)}function H(e,t=null,...n){t&&O(t);O(e)}function z(e,...t){Promise.resolve().then(e.bind(null,...t))}const q=function(){class e extends URL{}return(t,n)=>n?new e(""+t,n):new e(""+t)}();function K(e){return e.startsWith("//")?`${_.location.protocol}${e}`:e}function G(e,t=null){if(!O(e)||!e)return"";try{const{origin:t,pathname:n,search:r}=q(K(e));if(/\.(\w+)$/.test(n))return`${t}${n}${r}`;const o=`${t}${n}/`.replace(/\/\/$/,"/");return/^https?:\/\//.test(o)?`${o}${r}`:""}catch(n){return F(n,t),""}}function V(e){return O(e)&&e?e.replace(/(^\d+)|([^\w\d-_])/gi,""):""}function Q(e){const{origin:t,pathname:n}=q(e);if(/\.(\w+)$/.test(n)){const e=`${t}${n}`.split("/");return e.pop(),e.join("/")+"/"}return`${t}${n}/`.replace(/\/\/$/,"/")}function Y(e,t){return!e||/^((((ht|f)tps?)|file):)?\/\//.test(e)||/^(data|blob):/.test(e)?e:q(e,Q(K(t))).toString()}function Z(e,t,n,r){let o=0;function s(){++o===e.length&&r&&r()}e.forEach(((e,r)=>{U(e)?e.then((e=>{t({data:e,index:r}),s()})).catch((e=>{n({error:e,index:r}),s()})):(t({data:e,index:r}),s())}))}const X=_.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)};function J(e){return new Promise((t=>{X((()=>{e(t)}))}))}let ee=null;function te(e){ee=e}function ne(e){ee!==e&&(te(e),z((()=>{te(null)})))}function re(){return ee}function oe(){te(null)}function se(e,t){const n=document.createElement(e,t);return n.__MICRO_APP_NAME__&&delete n.__MICRO_APP_NAME__,n.__PURE_ELEMENT__=!0,n}function ie(e,t,n){if(t.innerHTML="",n){const n=e.cloneNode(!0),r=document.createDocumentFragment();Array.from(n.childNodes).forEach((e=>{r.appendChild(e)})),t.appendChild(r)}else Array.from(e.childNodes).forEach((e=>{t.appendChild(e)}))}function ae(e){return!e||/(^\d)|([^\w\d-_\u4e00-\u9fa5])/gi.test(e)}function ce(e){return/^body$/i.test(e)||/^head$/i.test(e)||/^html$/i.test(e)||/^title$/i.test(e)}function le(e){return function(e){return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot}(e)?e.host:e}function ue(e){return e?e.replace(/^\s+|\s+$/g,""):""}function pe(){return navigator.userAgent.indexOf("Firefox")>-1}function de(e){const t={},n=e.split("&");for(const r of n){const e=r.indexOf("="),n=e<0?r:r.slice(0,e),o=e<0?null:r.slice(e+1);if(n in t){let e=t[n];S(e)||(e=t[n]=[e]),e.push(o)}else t[n]=o}return t}function he(e){let t="";for(const n in e){const r=e[n];if(D(r))t+=(t.length?"&":"")+n;else{(S(r)?r:[r]).forEach((e=>{M(e)||(t+=(t.length?"&":"")+n,D(e)||(t+="="+e))}))}}return t}function me(){const e=new Set;return{add:function(t){return e.add(t),()=>!!e.has(t)&&e.delete(t)},list:()=>e}}function fe(e){const t=e.attributes,n=new Map;for(let r=0;r<t.length;r++)n.set(t[r].name,t[r].value);return n}function ge(e,t){e?e.push((()=>J((e=>{t(),e()})))):t()}function ve(e){return(null==e?void 0:e.reduce(((e,t)=>e.then(t)),Promise.resolve()))||null}function be(e){return e.startsWith("inline-")}function ye(e,t,n,...r){try{k(e)&&e(...r)}catch(o){F(`an error occurred in app ${t} ${n} \n`,null)}}var we,_e,Ee,Ae,Se,Pe,Re,Ne,Ce,Me,De,Oe;(_e=we||(we={})).NAME="name",_e.URL="url",(Ae=Ee||(Ee={})).CREATED="created",Ae.LOADING="loading",Ae.LOADED="loaded",Ae.LOAD_FAILED="load_failed",Ae.MOUNTING="mounting",Ae.MOUNTED="mounted",Ae.UNMOUNT="unmount",(Pe=Se||(Se={})).CREATED="created",Pe.BEFOREMOUNT="beforemount",Pe.MOUNTED="mounted",Pe.UNMOUNT="unmount",Pe.ERROR="error",Pe.BEFORESHOW="beforeshow",Pe.AFTERSHOW="aftershow",Pe.AFTERHIDDEN="afterhidden",(Ne=Re||(Re={})).ONMOUNT="onmount",Ne.ONUNMOUNT="onunmount",(Me=Ce||(Ce={})).KEEP_ALIVE_SHOW="keep_alive_show",Me.KEEP_ALIVE_HIDDEN="keep_alive_hidden",(Oe=De||(De={})).DESTROY="destroy",Oe.DESTORY="destory",Oe.INLINE="inline",Oe.DISABLESCOPECSS="disableScopecss",Oe.DISABLESANDBOX="disableSandbox",Oe.DISABLE_SCOPECSS="disable-scopecss",Oe.DISABLE_SANDBOX="disable-sandbox",Oe.DISABLE_MEMORY_ROUTER="disable-memory-router",Oe.DISABLE_PATCH_REQUEST="disable-patch-request",Oe.KEEP_ROUTER_STATE="keep-router-state",Oe.HIDDEN_ROUTER="hidden-router",Oe.KEEP_ALIVE="keep-alive",Oe.CLEAR_DATA="clear-data",Oe.ESMODULE="esmodule",Oe.SSR="ssr",Oe.FIBER="fiber";const Le=[1,2,3],xe="window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history";function ke(e,t=null,n={}){return oe(),k(Fn.options.fetch)?Fn.options.fetch(e,n,t):window.fetch(e,n).then((e=>e.text()))}class Ie{static getInstance(){return this.instance||(this.instance=new Ie),this.instance}run(e,t){const n=e.name,r=e.ssrUrl||e.url;ke(r,n,{cache:"no-cache"}).then((o=>{if(!o){const t="html is empty, please check in detail";return e.onerror(new Error(t)),F(t,n)}o=this.formatHTML(r,o,n),t(o,e)})).catch((t=>{F(`Failed to fetch data from ${e.url}, micro-app stop rendering`,n),e.onLoadError(t)}))}formatHTML(e,t,n){return this.processHtml(e,t,n,Fn.options.plugins).replace(/<head[^>]*>[\s\S]*?<\/head>/i,(e=>e.replace(/<head/i,"<micro-app-head").replace(/<\/head>/i,"</micro-app-head>"))).replace(/<body[^>]*>[\s\S]*?<\/body>/i,(e=>e.replace(/<body/i,"<micro-app-body").replace(/<\/body>/i,"</micro-app-body>")))}processHtml(e,t,n,r){var o;if(!r)return t;const s=[];return r.global&&s.push(...r.global),(null===(o=r.modules)||void 0===o?void 0:o[n])&&s.push(...r.modules[n]),s.length>0?s.reduce(((t,n)=>I(n)&&k(n.processHtml)?n.processHtml(t,e):t),t):t}}const Te=/(^|\s+)(html|:root)(?=[\s>~[.#:]+|$)/,Ue=/(^|\s+)((html[\s>~]+body)|body)(?=[\s>~[.#:]+|$)/;function We(e,t){e=t?`${t} ${e}`:e;const n=new Error(e);throw n.reason=e,t&&(n.filename=t),n}class Be{constructor(){this.cssText="",this.prefix="",this.baseURI="",this.linkPath="",this.result="",this.scopecssDisable=!1,this.scopecssDisableSelectors=[],this.scopecssDisableNextLine=!1,this.mediaRule=this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/,"@media"),this.supportsRule=this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/,"@supports"),this.documentRule=this.createMatcherForRuleWithChildRule(/^@([-\w]+)?document *([^{]+)/,"@document"),this.hostRule=this.createMatcherForRuleWithChildRule(/^@host\s*/,"@host"),this.importRule=this.createMatcherForNoneBraceAtRule("import"),this.charsetRule=this.createMatcherForNoneBraceAtRule("charset"),this.namespaceRule=this.createMatcherForNoneBraceAtRule("namespace")}exec(e,t,n,r){return this.cssText=e,this.prefix=t,this.baseURI=n,this.linkPath=r||"",this.matchRules(),pe()?decodeURIComponent(this.result):this.result}reset(){this.cssText=this.prefix=this.baseURI=this.linkPath=this.result="",this.scopecssDisable=this.scopecssDisableNextLine=!1,this.scopecssDisableSelectors=[]}matchRules(){for(this.matchLeadingSpaces(),this.matchComments();this.cssText.length&&"}"!==this.cssText.charAt(0)&&(this.matchAtRule()||this.matchStyleRule());)this.matchComments()}matchStyleRule(){const e=this.formatSelector(!0);return this.scopecssDisableNextLine=!1,e?(this.recordResult(e),this.matchComments(),this.styleDeclarations(),this.matchLeadingSpaces(),!0):We("selector missing",this.linkPath)}formatSelector(e){const t=this.commonMatch(/^[^{]+/,e);return!!t&&t[0].replace(/(^|,[\n\s]*)([^,]+)/g,((e,t,n)=>(n=ue(n),this.scopecssDisableNextLine||this.scopecssDisable&&(!this.scopecssDisableSelectors.length||this.scopecssDisableSelectors.includes(n))||Te.test(n)||(n=Ue.test(n)?n.replace(Ue,this.prefix+" micro-app-body"):this.prefix+" "+n),t+n)))}styleDeclarations(){return this.matchOpenBrace()?(this.matchAllDeclarations(),!!this.matchCloseBrace()||We("Declaration missing '}'",this.linkPath)):We("Declaration missing '{'",this.linkPath)}matchAllDeclarations(){let e=this.commonMatch(/^(?:url\(["']?(?:[^)"'}]+)["']?\)|[^}/])*/,!0)[0];if(e&&(this.scopecssDisableNextLine||this.scopecssDisable&&!this.scopecssDisableSelectors.length||(e=e.replace(/url\(["']?([^)"']+)["']?\)/gm,((e,t)=>/^((data|blob):|#)/.test(t)||/^(https?:)?\/\//.test(t)?e:(/^((\.\.?\/)|[^/])/.test(t)&&this.linkPath&&(this.baseURI=function(e){const t=e.split("/");return t.pop(),K(t.join("/")+"/")}(this.linkPath)),`url("${Y(t,this.baseURI)}")`)))),this.recordResult(e)),this.scopecssDisableNextLine=!1,this.cssText&&"}"!==this.cssText.charAt(0))return"/"===this.cssText.charAt(0)&&"*"===this.cssText.charAt(1)?this.matchComments():this.commonMatch(/\/+/),this.matchAllDeclarations()}matchAtRule(){return"@"===this.cssText[0]&&(this.scopecssDisableNextLine=!1,this.keyframesRule()||this.mediaRule()||this.customMediaRule()||this.supportsRule()||this.importRule()||this.charsetRule()||this.namespaceRule()||this.documentRule()||this.pageRule()||this.hostRule()||this.fontFaceRule())}keyframesRule(){if(!this.commonMatch(/^@([-\w]+)?keyframes\s*/))return!1;if(!this.commonMatch(/^[^{]+/))return We("@keyframes missing name",this.linkPath);if(this.matchComments(),!this.matchOpenBrace())return We("@keyframes missing '{'",this.linkPath);for(this.matchComments();this.keyframeRule();)this.matchComments();return this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):We("@keyframes missing '}'",this.linkPath)}keyframeRule(){let e;const t=[];for(;e=this.commonMatch(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),this.commonMatch(/^,\s*/);return!!t.length&&(this.styleDeclarations(),this.matchLeadingSpaces(),!0)}customMediaRule(){return!!this.commonMatch(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/)&&(this.matchLeadingSpaces(),!0)}pageRule(){return!!this.commonMatch(/^@page */)&&(this.formatSelector(!1),this.scopecssDisableNextLine=!1,this.commonHandlerForAtRuleWithSelfRule("page"))}fontFaceRule(){return!!this.commonMatch(/^@font-face\s*/)&&this.commonHandlerForAtRuleWithSelfRule("font-face")}createMatcherForRuleWithChildRule(e,t){return()=>!!this.commonMatch(e)&&(this.matchOpenBrace()?(this.matchComments(),this.matchRules(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):We(`${t} missing '}'`,this.linkPath)):We(`${t} missing '{'`,this.linkPath))}createMatcherForNoneBraceAtRule(e){const t=new RegExp("^@"+e+"\\s*([^;]+);");return()=>!!this.commonMatch(t)&&(this.matchLeadingSpaces(),!0)}commonHandlerForAtRuleWithSelfRule(e){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):We(`@${e} missing '}'`,this.linkPath)):We(`@${e} missing '{'`,this.linkPath)}matchComments(){for(;this.matchComment(););}matchComment(){if("/"!==this.cssText.charAt(0)||"*"!==this.cssText.charAt(1))return!1;this.scopecssDisableNextLine=!1;let e=2;for(;""!==this.cssText.charAt(e)&&("*"!==this.cssText.charAt(e)||"/"!==this.cssText.charAt(e+1));)++e;if(e+=2,""===this.cssText.charAt(e-1))return We("End of comment missing",this.linkPath);let t=this.cssText.slice(2,e-2);if(this.recordResult(`/*${t}*/`),t=ue(t.replace(/^\s*!/,"")),"scopecss-disable-next-line"===t)this.scopecssDisableNextLine=!0;else if(/^scopecss-disable/.test(t))if("scopecss-disable"===t)this.scopecssDisable=!0;else{this.scopecssDisable=!0;t.replace("scopecss-disable","").split(",").forEach((e=>{this.scopecssDisableSelectors.push(ue(e))}))}else"scopecss-enable"===t&&(this.scopecssDisable=!1,this.scopecssDisableSelectors=[]);return this.cssText=this.cssText.slice(e),this.matchLeadingSpaces(),!0}commonMatch(e,t=!1){const n=e.exec(this.cssText);if(!n)return;const r=n[0];return this.cssText=this.cssText.slice(r.length),t||this.recordResult(r),n}matchOpenBrace(){return this.commonMatch(/^{\s*/)}matchCloseBrace(){return this.commonMatch(/^}/)}matchLeadingSpaces(){this.commonMatch(/^\s*/)}recordResult(e){pe()?this.result+=encodeURIComponent(e):this.result+=e}}function $e(e,t,n,r,o){if(!e.__MICRO_APP_HAS_SCOPED__){e.__MICRO_APP_HAS_SCOPED__=!0;let i=null;try{i=je.exec(e.textContent,n,r,o),je.reset()}catch(s){je.reset(),F("An error occurred while parsing CSS:\n",t)}i&&(e.textContent=i)}}let je;function Fe(e,t,n){if(t.scopecss){const r=He(t.name);if(je||(je=new Be),e.textContent)$e(e,t.name,r,t.url,n);else{const o=new MutationObserver((function(){o.disconnect(),e.textContent&&!e.hasAttribute("data-styled")&&$e(e,t.name,r,t.url,n)}));o.observe(e,{childList:!0})}}return e}function He(e,t=!1){const n=t?"\\":"";return`${Fn.tagName}${n}[name=${e}${n}]`}function ze(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},srcElement:{get:()=>t},target:{get:()=>t}})}function qe(e){const t=new CustomEvent("load");ze(t,e),k(e.onload)?e.onload(t):e.dispatchEvent(t)}function Ke(e){const t=new CustomEvent("error");ze(t,e),k(e.onerror)?e.onerror(t):e.dispatchEvent(t)}var Ge=function(){const e=new Map,t=new Map;function n(e){return{setInfo(t,n){e.set(t,n)},getInfo(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},hasInfo:t=>e.has(t),deleteInfo:t=>e.delete(t)}}return{link:n(e),script:Object.assign(Object.assign({},n(t)),{deleteInlineInfo(e){e.forEach((e=>{be(e)&&t.delete(e)}))}})}}();function Ve(e,t,n,r=!1){const o=e.getAttribute("rel");let s=e.getAttribute("href"),i=null;if("stylesheet"===o&&s){s=Y(s,n.url);let t=Ge.link.getInfo(s);const o={attrs:fe(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||o:t={code:"",appSpace:{[n.name]:o}},Ge.link.setInfo(s,t),r)return{address:s,linkInfo:t};n.source.links.add(s),i=document.createComment(`link element with href=${s} move to micro-app-head as style element`),t.appSpace[n.name].placeholder=i}else o&&["prefetch","preload","prerender","icon","apple-touch-icon"].includes(o)?r?i=document.createComment(`link element with rel=${o}${s?" & href="+s:""} removed by micro-app`):t.removeChild(e):s&&e.setAttribute("href",Y(s,n.url));return r?{replaceComment:i}:i?t.replaceChild(i,e):void 0}function Qe(e,t,n,r){const o=Array.from(t.source.links),s=o.map((e=>{const n=Ge.link.getInfo(e);return n.code?n.code:ke(e,t.name)})),i=t.isPrefetch||t.fiber?[]:null;Z(s,(e=>{ge(i,(()=>function(e,t,n,r){const o=Ge.link.getInfo(e);o.code=t;const s=o.appSpace[r.name],i=s.placeholder;if(i){const t=se("style");Ye(r,e,t,o,s.attrs),i.parentNode?i.parentNode.replaceChild(t,i):n.appendChild(t),s.placeholder=null}}(o[e.index],e.data,n,t)))}),(e=>{F(e,t.name)}),(()=>{i?r.then((()=>{i.push((()=>Promise.resolve(t.onLoad(e)))),ve(i)})):t.onLoad(e)}))}function Ye(e,t,n,r,o){if(e.scopecss){const o=r.appSpace[e.name];if(o.prefix=o.prefix||He(e.name),o.parsedCode)n.textContent=o.parsedCode;else{const s=function(e,t,n){const r=n.appSpace;for(const o in r)if(o!==e){const e=r[o];if(e.parsedCode)return e.parsedCode.replaceAll(new RegExp(He(o,!0),"g"),t)}}(e.name,o.prefix,r);s?n.textContent=s:(n.textContent=r.code,Fe(n,e,t)),o.parsedCode=n.textContent}}else n.textContent=r.code;!function(e,t){t.forEach(((t,n)=>{"rel"!==n&&("href"===n&&(n="data-origin-href"),e.setAttribute(n,t))}))}(n,o)}class Ze{constructor(){this.escapeSetterKeyList=["location"],this.staticEscapeProperties=["System","__cjsWrapper"],this.staticScopeProperties=["webpackJsonp","webpackHotUpdate","Vue"],this.injectReactHRMProperty()}injectReactHRMProperty(){}}function Xe(e,t){const n=Object.getOwnPropertyDescriptor(e,"parentNode");n&&!n.configurable||R(e,"parentNode",{value:t,configurable:!0})}const Je=new WeakMap;function et(e,t,n){if(t instanceof HTMLStyleElement){if(t.hasAttribute("exclude")){const e=document.createComment("style element with exclude attribute ignored by micro-app");return Je.set(t,e),e}return n.scopecss&&!t.hasAttribute("ignore")?Fe(t,n):t}if(t instanceof HTMLLinkElement){if(t.hasAttribute("exclude")||wt(t.getAttribute("href"),n.name)){const e=document.createComment("link element with exclude attribute ignored by micro-app");return Je.set(t,e),e}if(t.hasAttribute("ignore")||_t(t.getAttribute("href"),n.name)||t.href&&k(Fn.options.excludeAssetFilter)&&Fn.options.excludeAssetFilter(t.href))return t;const{address:r,linkInfo:o,replaceComment:s}=Ve(t,e,n,!0);if(r&&o){const e=function(e,t,n,r){const o=se("style"),s=()=>{Ye(t,e,o,n,n.appSpace[t.name].attrs),qe(r)};return n.code?z(s):ke(e,t.name).then((e=>{n.code=e,s()})).catch((e=>{F(e,t.name),Ke(r)})),o}(r,n,o,t);return Je.set(t,e),e}return s?(Je.set(t,s),s):t}if(t instanceof HTMLScriptElement){if(t.src&&k(Fn.options.excludeAssetFilter)&&Fn.options.excludeAssetFilter(t.src))return t;const{replaceComment:r,address:o,scriptInfo:s}=bt(t,e,n,!0)||{};if(o&&s){const e=s.isExternal?function(e,t,n,r){const o=mt(t,n)?se("script"):document.createComment("dynamic script extract by micro-app"),s=()=>qe(r),i=()=>{const i=Object.getOwnPropertyDescriptor(ut.rawDocument,"currentScript");i&&!i.configurable||Object.defineProperty(ut.rawDocument,"currentScript",{value:r,configurable:!0}),At(e,t,n,s,o),!ht(t,n)&&s()};n.code?z(i):ke(e,t.name).then((e=>{n.code=e,i()})).catch((e=>{F(e,t.name),Ke(r)}));return o}(o,n,s,t):function(e,t,n){const r=mt(t,n)?se("script"):document.createComment("dynamic script extract by micro-app");return At(e,t,n,void 0,r),r}(o,n,s);return Je.set(t,e),e}return r?(Je.set(t,r),r):t}return t}function tt(e,t,n,r,o){const s=function(e,t){if(e===document.head)return null==t?void 0:t.querySelector("micro-app-head");if(e===document.body)return null==t?void 0:t.querySelector("micro-app-body");return null}(n,e);if(s){if("MICRO-APP-BODY"===s.tagName&&t!==ut.rawRemoveChild){const t=Object.getOwnPropertyDescriptor(r,"parentNode");t&&!t.configurable||R(r,"parentNode",{configurable:!0,get:()=>e.container?document.body:s})}return o&&!s.contains(o)?ut.rawAppendChild.call(s,r):t!==ut.rawRemoveChild||s.contains(r)?nt(t,s,r,o):n.contains(r)?t.call(n,r):r}return nt(t,n,r,o)}function nt(e,t,n,r){return(o=e)===ut.rawAppend||o===ut.rawPrepend?e.call(t,n):e.call(t,n,r);var o}function rt(e){var t;return null!==(t=Je.get(e))&&void 0!==t?t:e}function ot(e,t,n,r){const o=re();if(j(t)&&(t.__MICRO_APP_NAME__||o&&!t.__PURE_ELEMENT__)){t.__MICRO_APP_NAME__=t.__MICRO_APP_NAME__||o;const s=On.get(t.__MICRO_APP_NAME__);if(null==s?void 0:s.container)return $(t)&&(/^(img|script)$/i.test(t.tagName)?(t.hasAttribute("src")&&ut.rawSetAttribute.call(t,"src",Y(t.getAttribute("src"),s.url)),t.hasAttribute("srcset")&&ut.rawSetAttribute.call(t,"srcset",Y(t.getAttribute("srcset"),s.url))):/^link$/i.test(t.tagName)&&t.hasAttribute("href")&&ut.rawSetAttribute.call(t,"href",Y(t.getAttribute("href"),s.url))),tt(s,r,e,et(e,t,s),n&&rt(n));if(r===ut.rawAppend||r===ut.rawPrepend)return r.call(e,t)}else if(r===ut.rawAppend||r===ut.rawPrepend){if(!j(t)&&o){const n=On.get(o);if(null==n?void 0:n.container){if(e===document.head)return r.call(n.querySelector("micro-app-head"),t);if(e===document.body)return r.call(n.querySelector("micro-app-body"),t)}}return r.call(e,t)}return r.call(e,t,n)}function st(){function e(e){const t=re();if((e===document.body||e===document.head)&&t){const n=On.get(t);if(null==n?void 0:n.container){if(e===document.body)return n.querySelector("micro-app-body");if(e===document.head)return n.querySelector("micro-app-head")}}return null}!function(){const e=ut.rawDocument,t=ut.rawRootDocument;function n(t){return function(e){return"[object ProxyDocument]"===toString.call(e)}(t)?e:t}function r(t){var r,o,s;const i=n(this),a=re();return a&&(null===(r=On.get(a))||void 0===r?void 0:r.container)&&t&&!ce(t)&&e===i?null!==(s=null===(o=On.get(a))||void 0===o?void 0:o.querySelector(t))&&void 0!==s?s:null:ut.rawQuerySelector.call(i,t)}function o(t){var r,o,s;const i=n(this),a=re();return a&&(null===(r=On.get(a))||void 0===r?void 0:r.container)&&t&&!ce(t)&&e===i?null!==(s=null===(o=On.get(a))||void 0===o?void 0:o.querySelectorAll(t))&&void 0!==s?s:[]:ut.rawQuerySelectorAll.call(i,t)}t.prototype.createElement=function(e,t){return it(ut.rawCreateElement.call(n(this),e,t))},t.prototype.createElementNS=function(e,t,r){return it(ut.rawCreateElementNS.call(n(this),e,t,r))},t.prototype.createDocumentFragment=function(){return it(ut.rawCreateDocumentFragment.call(n(this)))},t.prototype.querySelector=r,t.prototype.querySelectorAll=o,t.prototype.getElementById=function(e){const t=n(this);if(!re()||ae(e))return ut.rawGetElementById.call(t,e);try{return r.call(t,`#${e}`)}catch(o){return ut.rawGetElementById.call(t,e)}},t.prototype.getElementsByClassName=function(e){const t=n(this);if(!re()||ae(e))return ut.rawGetElementsByClassName.call(t,e);try{return o.call(t,`.${e}`)}catch(r){return ut.rawGetElementsByClassName.call(t,e)}},t.prototype.getElementsByTagName=function(e){var t;const r=n(this),s=re();if(!s||ce(e)||ae(e)||!(null===(t=On.get(s))||void 0===t?void 0:t.inline)&&/^script$/i.test(e))return ut.rawGetElementsByTagName.call(r,e);try{return o.call(r,e)}catch(i){return ut.rawGetElementsByTagName.call(r,e)}},t.prototype.getElementsByName=function(e){const t=n(this);if(!re()||ae(e))return ut.rawGetElementsByName.call(t,e);try{return o.call(t,`[name=${e}]`)}catch(r){return ut.rawGetElementsByName.call(t,e)}}}(),Element.prototype.appendChild=function(e){return ot(this,e,null,ut.rawAppendChild)},Element.prototype.insertBefore=function(e,t){return ot(this,e,t,ut.rawInsertBefore)},Element.prototype.replaceChild=function(e,t){return ot(this,e,t,ut.rawReplaceChild)},Element.prototype.append=function(...e){let t=0;const n=e.length;for(;t<n;)ot(this,e[t],null,ut.rawAppend),t++},Element.prototype.prepend=function(...e){let t=e.length;for(;t>0;)ot(this,e[t-1],null,ut.rawPrepend),t--},Element.prototype.removeChild=function(e){if(null==e?void 0:e.__MICRO_APP_NAME__){const n=On.get(e.__MICRO_APP_NAME__);if(null==n?void 0:n.container)return tt(n,ut.rawRemoveChild,this,rt(e));try{return ut.rawRemoveChild.call(this,e)}catch(t){return(null==e?void 0:e.parentNode)&&ut.rawRemoveChild.call(e.parentNode,e)}}return ut.rawRemoveChild.call(this,e)},Element.prototype.cloneNode=function(e){const t=ut.rawCloneNode.call(this,e);return this.__MICRO_APP_NAME__&&(t.__MICRO_APP_NAME__=this.__MICRO_APP_NAME__),t},Element.prototype.querySelector=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return ut.rawElementQuerySelector.call(r,t)},Element.prototype.querySelectorAll=function(t){var n;const r=null!==(n=e(this))&&void 0!==n?n:this;return ut.rawElementQuerySelectorAll.call(r,t)},R(Element.prototype,"innerHTML",{get(){return ut.rawInnerHTMLDesc.get.call(this)},set(e){ut.rawInnerHTMLDesc.set.call(this,e);const t=re();Array.from(this.children).forEach((e=>{$(e)&&t&&(e.__MICRO_APP_NAME__=t)}))}})}function it(e){const t=re();return t&&(e.__MICRO_APP_NAME__=t),e}let at=!1;function ct(){oe(),function(){const e=ut.rawRootDocument;e.prototype.createElement=ut.rawCreateElement,e.prototype.createElementNS=ut.rawCreateElementNS,e.prototype.createDocumentFragment=ut.rawCreateDocumentFragment,e.prototype.querySelector=ut.rawQuerySelector,e.prototype.querySelectorAll=ut.rawQuerySelectorAll,e.prototype.getElementById=ut.rawGetElementById,e.prototype.getElementsByClassName=ut.rawGetElementsByClassName,e.prototype.getElementsByTagName=ut.rawGetElementsByTagName,e.prototype.getElementsByName=ut.rawGetElementsByName}(),Element.prototype.appendChild=ut.rawAppendChild,Element.prototype.insertBefore=ut.rawInsertBefore,Element.prototype.replaceChild=ut.rawReplaceChild,Element.prototype.removeChild=ut.rawRemoveChild,Element.prototype.append=ut.rawAppend,Element.prototype.prepend=ut.rawPrepend,Element.prototype.cloneNode=ut.rawCloneNode,Element.prototype.querySelector=ut.rawElementQuerySelector,Element.prototype.querySelectorAll=ut.rawElementQuerySelectorAll,R(Element.prototype,"innerHTML",ut.rawInnerHTMLDesc)}let lt=!1;const ut={};function pt(){if(w){const e=Function("return window")(),t=Function("return document")(),n=Function("return Document")(),r="noModule"in document.createElement("script"),o=Element.prototype.setAttribute,s=Element.prototype.appendChild,i=Element.prototype.insertBefore,a=Element.prototype.replaceChild,c=Element.prototype.removeChild,l=Element.prototype.append,u=Element.prototype.prepend,p=Element.prototype.cloneNode,d=Element.prototype.querySelector,h=Element.prototype.querySelectorAll,m=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),f=n.prototype.createElement,g=n.prototype.createElementNS,v=n.prototype.createDocumentFragment,b=n.prototype.querySelector,y=n.prototype.querySelectorAll,w=n.prototype.getElementById,_=n.prototype.getElementsByClassName,E=n.prototype.getElementsByTagName,A=n.prototype.getElementsByName,S=new Proxy(Image,{construct(e,t){const n=new e(...t);return n.__MICRO_APP_NAME__=re(),n}}),R=e.addEventListener,N=e.removeEventListener,C=e.setInterval,M=e.setTimeout,D=e.clearInterval,O=e.clearTimeout,L=e.history.pushState,x=e.history.replaceState,k=t.addEventListener,I=t.removeEventListener;window.__MICRO_APP_BASE_APPLICATION__=!0,P(ut,{rawWindow:e,rawDocument:t,rawRootDocument:n,supportModuleScript:r,rawSetAttribute:o,rawAppendChild:s,rawInsertBefore:i,rawReplaceChild:a,rawRemoveChild:c,rawAppend:l,rawPrepend:u,rawCloneNode:p,rawElementQuerySelector:d,rawElementQuerySelectorAll:h,rawInnerHTMLDesc:m,rawCreateElement:f,rawCreateElementNS:g,rawCreateDocumentFragment:v,rawQuerySelector:b,rawQuerySelectorAll:y,rawGetElementById:w,rawGetElementsByClassName:_,rawGetElementsByTagName:E,rawGetElementsByName:A,ImageProxy:S,rawWindowAddEventListener:R,rawWindowRemoveEventListener:N,rawSetInterval:C,rawSetTimeout:M,rawClearInterval:D,rawClearTimeout:O,rawDocumentAddEventListener:k,rawDocumentRemoveEventListener:I,rawPushState:L,rawReplaceState:x}),function(){if(!lt){lt=!0;const e=se("style");ut.rawSetAttribute.call(e,"type","text/css"),e.textContent=`\n${Fn.tagName}, micro-app-body { display: block; } \nmicro-app-head { display: none; }`,ut.rawDocument.head.appendChild(e)}}()}}const dt=["text/javascript","text/ecmascript","application/javascript","application/ecmascript","module","systemjs-module","systemjs-importmap"];function ht(e,t){return t.appSpace[e.name].module&&(!e.useSandbox||e.esmodule)}function mt(e,t){return e.inline||t.appSpace[e.name].inline||ht(e,t)||function(e,t){return t.appSpace[e.name].attrs.has("id")}(e,t)}function ft(e,t,n){return function(e,t,n){const r=t.appSpace;for(const o in r)if(o!==e){const e=r[o];if(e.parsedCode===n&&e.parsedFunction)return e.parsedFunction}}(e.name,t,n)||new Function(n)}function gt(){const e="inline-"+Math.random().toString(36).substr(2,15);return Ge.script.hasInfo(e)?gt():e}function vt(e,t){return e.useSandbox&&!ht(e,t)}function bt(e,t,n,r=!1){let o=null,s=e.getAttribute("src");if(s&&(s=Y(s,n.url)),e.hasAttribute("exclude")||wt(s,n.name))o=document.createComment("script element with exclude attribute removed by micro-app");else{if(e.type&&!dt.includes(e.type)||e.hasAttribute("ignore")||_t(s,n.name))return null;if(ut.supportModuleScript&&e.noModule||!ut.supportModuleScript&&"module"===e.type)o=document.createComment((e.noModule?"noModule":"module")+" script ignored by micro-app");else if(s){let t=Ge.script.getInfo(s);const i={async:e.hasAttribute("async"),defer:e.defer||"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:fe(e)};if(t?t.appSpace[n.name]=t.appSpace[n.name]||i:t={code:"",isExternal:!0,appSpace:{[n.name]:i}},Ge.script.setInfo(s,t),r)return{address:s,scriptInfo:t};n.source.scripts.add(s),o=document.createComment(`script with src='${s}' extract by micro-app`)}else if(e.textContent){const t=gt(),s={code:e.textContent,isExternal:!1,appSpace:{[n.name]:{async:!1,defer:"module"===e.type,module:"module"===e.type,inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:fe(e)}}};if(r)return{address:t,scriptInfo:s};n.source.scripts.add(t),Ge.script.setInfo(t,s),o=document.createComment("inline script extract by micro-app")}else r||(o=document.createComment("script element removed by micro-app"))}return r?{replaceComment:o}:t.replaceChild(o,e)}function yt(e){var t,n,r;return[...(null===(t=Fn.options.plugins)||void 0===t?void 0:t.global)||[],...(null===(r=null===(n=Fn.options.plugins)||void 0===n?void 0:n.modules)||void 0===r?void 0:r[e])||[]]}function wt(e,t){if(!e)return!1;return(yt(t)||[]).some((t=>!!t.excludeChecker&&t.excludeChecker(e)))}function _t(e,t){if(!e)return!1;return(yt(t)||[]).some((t=>!!t.ignoreChecker&&t.ignoreChecker(e)))}function Et(e,t){const n=Array.from(t.source.scripts),r=[],o=[];for(const i of n){const e=Ge.script.getInfo(i),n=e.appSpace[t.name];(!n.defer&&!n.async||t.isPrefetch&&!t.isPrerender)&&(r.push(e.code?e.code:ke(i,t.name)),o.push([i,e]))}const s=t.isPrefetch||t.fiber?[]:null;r.length?Z(r,(e=>{ge(s,(()=>function(e,t,n,r){if(t.code=n,r.isPrefetch&&2===r.prefetchLevel){const s=t.appSpace[r.name];if(!s.parsedCode&&(s.parsedCode=St(e,r,n,t),s.wrapInSandBox=vt(r,t),!mt(r,t)))try{s.parsedFunction=ft(r,t,s.parsedCode)}catch(o){H("Something went wrong while handling preloaded resources",r.name)}}}(o[e.index][0],o[e.index][1],e.data,t)))}),(e=>{F(e,t.name)}),(()=>{s?(s.push((()=>Promise.resolve(t.onLoad(e)))),ve(s)):t.onLoad(e)})):t.onLoad(e)}function At(e,t,n,r,o){var s;try{!function(e){!function(e){e.sandBox&&(ut.rawWindow.__MICRO_APP_PROXY_WINDOW__=e.sandBox.proxyWindow)}(e)}(t);const i=n.appSpace[t.name],a=vt(t,n);if(i.parsedCode&&i.wrapInSandBox===a||(i.parsedCode=St(e,t,n.code,n),i.wrapInSandBox=a,i.parsedFunction=null),mt(t,n)){const a=o||se("script");!function(e,t,n,r,o,s){if(n){if(be(e)){const e=new Blob([t],{type:"text/javascript"});r.src=URL.createObjectURL(e)}else r.src=e;r.setAttribute("type","module"),s&&(s.moduleCount&&s.moduleCount--,r.onload=s.bind(r,0===s.moduleCount))}else r.textContent=t;!function(e,t){t.forEach(((t,n)=>{"type"===n&&"module"===t||"defer"===n||"async"===n||("src"===n&&(n="data-origin-src"),e.setAttribute(n,t))}))}(r,o)}(e,i.parsedCode,ht(t,n),a,i.attrs,r),o||null===(s=t.querySelector("micro-app-body"))||void 0===s||s.appendChild(a)}else!function(e,t){const n=t.appSpace[e.name];n.parsedFunction||(n.parsedFunction=ft(e,t,n.parsedCode));n.parsedFunction.call(window)}(t,n)}catch(i){}}function St(e,t,n,r){return I(Fn.options.plugins)&&(n=function(e,t,n,r){var o;const s=Pt(r.global,t,e);return Pt(null===(o=r.modules)||void 0===o?void 0:o[n],s,e)}(e,n,t.name,Fn.options.plugins)),vt(t,r)?`;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${xe}){;${n}\n${be(e)?"":`//# sourceURL=${e}\n`}}).call(proxyWindow,${xe})}})(window.__MICRO_APP_PROXY_WINDOW__);`:n}function Pt(e,t,n){return S(e)?e.reduce(((e,t)=>I(t)&&k(t.loader)?t.loader(e,n):e),t):t}function Rt(e,t,n,r){const o=Array.from(e.children);o.length&&o.forEach((e=>{Rt(e,t,n,r)}));for(const s of o)s instanceof HTMLLinkElement?s.hasAttribute("exclude")||wt(s.getAttribute("href"),t.name)?e.replaceChild(document.createComment("link element with exclude attribute ignored by micro-app"),s):s.hasAttribute("ignore")||_t(s.getAttribute("href"),t.name)?s.hasAttribute("href")&&s.setAttribute("href",Y(s.getAttribute("href"),t.url)):Ve(s,e,t):s instanceof HTMLStyleElement?s.hasAttribute("exclude")?e.replaceChild(document.createComment("style element with exclude attribute ignored by micro-app"),s):t.scopecss&&!s.hasAttribute("ignore")&&ge(r,(()=>Fe(s,t))):s instanceof HTMLScriptElement?bt(s,e,t):s instanceof HTMLImageElement&&s.hasAttribute("src")&&s.setAttribute("src",Y(s.getAttribute("src"),t.url))}function Nt(e,t){const n=function(e){const t=se("div");return t.innerHTML=e,t}(e),r=ut.rawElementQuerySelector.call(n,"micro-app-head"),o=ut.rawElementQuerySelector.call(n,"micro-app-body");if(!r||!o){const e=`element ${r?"body":"head"} is missing`;return t.onerror(new Error(e)),F(e,t.name)}const s=t.isPrefetch||t.fiber?[]:null;Rt(n,t,r,s);const i=ve(s);t.source.links.size?Qe(n,t,r,i):i?i.then((()=>t.onLoad(n))):t.onLoad(n),t.source.scripts.size?Et(n,t):t.onLoad(n)}const Ct=new class{constructor(){this.eventList=new Map,this.queue=[],this.recordStep={},this.process=()=>{var e,t;let n;const r=this.recordStep,o=this.queue;for(this.recordStep={},this.queue=[];n=o.shift();){const o=this.eventList.get(n),s=o.tempData,i=o.force;let a;if(o.tempData=null,o.force=!1,i||!this.isEqual(o.data,s)){o.data=s||o.data;for(const e of o.callbacks){const t=e(o.data);t&&(null!=a?a:a=[]).push(t)}null===(t=(e=r[n]).dispatchDataEvent)||void 0===t||t.call(e),r[n].nextStepList.forEach((e=>e(a)))}}}}isLegalName(e){return!!e||(F("event-center: Invalid name"),!1)}enqueue(e,t,n){this.recordStep[e]?(this.recordStep[e].nextStepList.push(t),n&&(this.recordStep[e].dispatchDataEvent=n)):this.recordStep[e]={nextStepList:[t],dispatchDataEvent:n},!this.queue.includes(e)&&1===this.queue.push(e)&&z(this.process)}isEqual(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==t[n])return!1;return!0}on(e,t,n=!1){if(this.isLegalName(e)){if(!k(t))return F("event-center: Invalid callback function");let r=this.eventList.get(e);r?n&&Object.keys(r.data).length&&(!this.queue.includes(e)||this.isEqual(r.data,r.tempData))&&t(r.data):(r={data:{},callbacks:new Set},this.eventList.set(e,r)),r.callbacks.add(t)}}off(e,t){if(this.isLegalName(e)){const n=this.eventList.get(e);n&&(k(t)?n.callbacks.delete(t):n.callbacks.clear())}}clearData(e){if(this.isLegalName(e)){const t=this.eventList.get(e);t&&(t.data={})}}dispatch(e,t,n,r,o){if(this.isLegalName(e)){if(!I(t))return F("event-center: data must be object");let s=this.eventList.get(e);s?(s.tempData=P({},s.tempData||s.data,t),!s.force&&(s.force=!!r)):(s={data:t,callbacks:new Set},this.eventList.set(e,s),s.force=!0),this.enqueue(e,n,o)}}getData(e){var t;const n=this.eventList.get(e);return null!==(t=null==n?void 0:n.data)&&void 0!==t?t:null}};function Mt(e,t){return O(e)&&e?t?`__from_base_app_${e}__`:`__from_micro_app_${e}__`:""}class Dt{addGlobalDataListener(e,t){const n=this.appName;n&&(e.__APP_NAME__=n,e.__AUTO_TRIGGER__=t),Ct.on("global",e,t)}removeGlobalDataListener(e){k(e)&&Ct.off("global",e)}setGlobalData(e,t,n){oe(),Ct.dispatch("global",e,(e=>k(t)&&t(e)),n)}forceSetGlobalData(e,t){this.setGlobalData(e,t,!0)}getGlobalData(){return Ct.getData("global")}clearGlobalData(){Ct.clearData("global")}clearGlobalDataListener(){const e=this.appName,t=Ct.eventList.get("global");if(t)for(const n of t.callbacks)(e&&e===n.__APP_NAME__||!e&&!n.__APP_NAME__)&&t.callbacks.delete(n)}}class Ot extends Dt{addDataListener(e,t,n){Ct.on(Mt(V(e),!1),t,n)}removeDataListener(e,t){k(t)&&Ct.off(Mt(V(e),!1),t)}getData(e,t=!1){return Ct.getData(Mt(V(e),t))}setData(e,t,n,r){Ct.dispatch(Mt(V(e),!0),t,(e=>k(n)&&n(e)),r)}forceSetData(e,t,n){this.setData(e,t,n,!0)}clearData(e,t=!0){Ct.clearData(Mt(V(e),t))}clearDataListener(e){Ct.off(Mt(V(e),!1))}}class Lt extends Dt{constructor(e){super(),this.appName=V(e),!this.appName&&F(`Invalid appName ${e}`)}addDataListener(e,t){e.__AUTO_TRIGGER__=t,Ct.on(Mt(this.appName,!0),e,t)}removeDataListener(e){k(e)&&Ct.off(Mt(this.appName,!0),e)}getData(e=!0){return Ct.getData(Mt(this.appName,e))}dispatch(e,t,n){oe(),Ct.dispatch(Mt(this.appName,!1),e,(e=>k(t)&&t(e)),n,(()=>{const t=On.get(this.appName);if((null==t?void 0:t.container)&&I(e)){const e=new CustomEvent("datachange",{detail:{data:Ct.getData(Mt(this.appName,!1))}});le(t.container).dispatchEvent(e)}}))}forceDispatch(e,t){this.dispatch(e,t,!0)}clearData(e=!1){Ct.clearData(Mt(this.appName,e))}clearDataListener(){Ct.off(Mt(this.appName,!0))}}class xt{constructor(){this.appInstanceMap=On}static getInstance(){return this.instance||(this.instance=new xt),this.instance}get(e){return this.appInstanceMap.get(e)}set(e,t){this.appInstanceMap.set(e,t)}getAll(){return Array.from(this.appInstanceMap.values())}clear(){this.appInstanceMap.clear()}}function kt(){It(),xt.getInstance().getAll().forEach((e=>{e.container&&le(e.container).disconnectedCallback()})),!window.__MICRO_APP_UMD_MODE__&&xt.getInstance().clear()}function It(){window.__MICRO_APP_ENVIRONMENT__&&window.removeEventListener("unmount",kt,!1)}function Tt(e){return L(e.__MICRO_APP_IS_BOUND_FUNCTION__)?e.__MICRO_APP_IS_BOUND_FUNCTION__:e.__MICRO_APP_IS_BOUND_FUNCTION__=k(t=e)&&0===t.name.indexOf("bound ")&&!t.hasOwnProperty("prototype");var t}function Ut(e,t,n="WINDOW"){const r=`__MICRO_APP_BOUND_${n}_FUNCTION__`;if(t[r])return t[r];if(!function(e){return L(e.__MICRO_APP_IS_CONSTRUCTOR__)?e.__MICRO_APP_IS_CONSTRUCTOR__:e.__MICRO_APP_IS_CONSTRUCTOR__=W(e)}(t)&&!Tt(t)){const n=t.bind(e);for(const e in t)n[e]=t[e];return t.hasOwnProperty("prototype")&&R(n,"prototype",{value:t.prototype,configurable:!0,enumerable:!1,writable:!0}),t[r]=n}return t}const Wt=["unmount","appstate-change"];function Bt(e,t){var n;return Wt.includes(e)||("popstate"===e||"hashchange"===e)&&(null===(n=On.get(t))||void 0===n?void 0:n.useMemoryRouter)?`${e}-${t}`:e}const $t=new Map;let jt=!1;const Ft=new Map;function Ht(){const{rawDocument:e,rawDocumentAddEventListener:t,rawDocumentRemoveEventListener:n}=ut;!jt&&function(){if(jt=!0,Object.getOwnPropertyDescriptor(document,"onclick"))return H("Cannot redefine document property onclick");const e=document.onclick;document.onclick=null;let t=!1;function n(e){$t.forEach((t=>{k(t)&&t.call(document,e)}))}R(document,"onclick",{configurable:!0,enumerable:!0,get(){const e=re();return e?$t.get(e):$t.get("base")},set(e){const r=re();r?$t.set(r,e):$t.set("base",e),!t&&k(e)&&(t=!0,ut.rawDocumentAddEventListener.call(ut.rawDocument,"click",n,!1))}}),e&&(document.onclick=e)}(),document.addEventListener=function(n,r,o){const s=re();if(s){const e=Ft.get(s);if(e){const t=e.get(n);t?t.add(r):e.set(n,new Set([r]))}else Ft.set(s,new Map([[n,new Set([r])]]));r&&(r.__MICRO_APP_MARK_OPTIONS__=o)}t.call(e,n,r,o)},document.removeEventListener=function(t,r,o){const s=re();if(s){const e=Ft.get(s);if(e){const n=e.get(t);(null==n?void 0:n.size)&&n.has(r)&&n.delete(r)}}n.call(e,t,r,o)}}function zt(e,t){const n=new Map,r=new Map,o=new Map,{rawWindow:s,rawDocument:i,rawWindowAddEventListener:a,rawWindowRemoveEventListener:c,rawSetInterval:l,rawSetTimeout:u,rawClearInterval:p,rawClearTimeout:d,rawDocumentRemoveEventListener:h}=ut;t.addEventListener=function(t,r,o){t=Bt(t,e);const i=n.get(t);i?i.add(r):n.set(t,new Set([r])),r&&(r.__MICRO_APP_MARK_OPTIONS__=o),a.call(s,t,r,o)},t.removeEventListener=function(t,r,o){t=Bt(t,e);const i=n.get(t);(null==i?void 0:i.size)&&i.has(r)&&i.delete(r),c.call(s,t,r,o)},t.setInterval=function(e,t,...n){const o=l.call(s,e,t,...n);return r.set(o,{handler:e,timeout:t,args:n}),o},t.setTimeout=function(e,t,...n){const r=u.call(s,e,t,...n);return o.set(r,{handler:e,timeout:t,args:n}),r},t.clearInterval=function(e){r.delete(e),p.call(s,e)},t.clearTimeout=function(e){o.delete(e),d.call(s,e)};const m=new Map,f=new Map;let g,v=new Map,b=new Map;return{recordEffect:()=>{n.forEach(((e,t)=>{e.size&&m.set(t,new Set(e))})),r.size&&(v=new Map(r)),o.size&&(b=new Map(o)),g=$t.get(e);const t=Ft.get(e);t&&t.forEach(((e,t)=>{e.size&&f.set(t,new Set(e))}))},rebuildEffect:()=>{m.forEach(((e,n)=>{for(const r of e)t.addEventListener(n,r,null==r?void 0:r.__MICRO_APP_MARK_OPTIONS__)})),v.forEach((e=>{t.setInterval(e.handler,e.timeout,...e.args)})),b.forEach((e=>{t.setTimeout(e.handler,e.timeout,...e.args)})),g&&$t.set(e,g),te(e),f.forEach(((e,t)=>{for(const n of e)document.addEventListener(t,n,null==n?void 0:n.__MICRO_APP_MARK_OPTIONS__)})),oe(),m.clear(),v.clear(),b.clear(),f.clear(),g=null},releaseEffect:()=>{n.size&&(n.forEach(((e,t)=>{for(const n of e)c.call(s,t,n)})),n.clear()),r.size&&(r.forEach(((e,t)=>{p.call(s,t)})),r.clear()),o.size&&(o.forEach(((e,t)=>{d.call(s,t)})),o.clear()),$t.delete(e);const t=Ft.get(e);t&&(t.forEach(((e,t)=>{for(const n of e)h.call(i,t,n)})),t.clear())}}}function qt(e,t){const n=ut.rawWindow.history.state,r={microAppState:P({},null==n?void 0:n.microAppState,{[e]:t})};return P({},n,r)}function Kt(e){var t,n;return(null===(n=null===(t=ut.rawWindow.history.state)||void 0===t?void 0:t.microAppState)||void 0===n?void 0:n[e])||null}const Gt=/&/g,Vt=/=/g,Qt=/%M1/g,Yt=/%M2/g;function Zt(e){return encodeURIComponent(Jt(e).replace(Gt,"%M1").replace(Vt,"%M2"))}function Xt(e){return Jt(e).replace(Qt,"&").replace(Yt,"=")}function Jt(e){try{const t=decodeURIComponent(e);return e===t||Qt.test(t)||Yt.test(t)?t:Jt(t)}catch(t){return e}}function en(e){var t,n;const r=ut.rawWindow.location,o=nn(r.search,r.hash),s=(null===(t=o.hashQuery)||void 0===t?void 0:t[e])||(null===(n=o.searchQuery)||void 0===n?void 0:n[e]);return O(s)?Xt(s):null}function tn(e,t){let{pathname:n,search:r,hash:o}=ut.rawWindow.location;const s=nn(r,o),i=Zt(t.pathname+t.search+t.hash);let a=!1;if(o&&!r){a=!0,s.hashQuery?s.hashQuery[e]=i:s.hashQuery={[e]:i};const t=o.includes("?")?o.slice(0,o.indexOf("?")+1):o+"?";o=t+he(s.hashQuery)}else s.searchQuery?s.searchQuery[e]=i:s.searchQuery={[e]:i},r="?"+he(s.searchQuery);return{fullPath:n+r+o,isAttach2Hash:a}}function nn(e,t){const n={};return""!==e&&"?"!==e&&(n.searchQuery=de(e.slice(1))),t.includes("?")&&(n.hashQuery=de(t.slice(t.indexOf("?")+1))),n}function rn(e){const t=On.get(e);return!(!t||t.isPrefetch)}function on(e){const t=ut.rawWindow,n=t=>{if(Tn({excludeHiddenApp:!0,excludePreRender:!0}).includes(e)&&!t.onlyForBrowser){const t=en(e),n=On.get(e).sandBox.proxyWindow;let r=!1;const o=n.location.href;if(t){const o=n.location.hash;yn(e,t,n.location),r=n.location.hash!==o}!function(e,t){const n=new PopStateEvent(Bt("popstate",e),{state:Kt(e)});ut.rawWindow.dispatchEvent(n),k(t.onpopstate)&&t.onpopstate(n)}(e,n),r&&function(e,t,n){const r=new HashChangeEvent(Bt("hashchange",e),{newURL:t.location.href,oldURL:n});ut.rawWindow.dispatchEvent(r),k(t.onhashchange)&&t.onhashchange(r)}(e,n,o),oe()}};return t.addEventListener("popstate",n),()=>{t.removeEventListener("popstate",n)}}function sn(e,t,n){oe(),rn(e)&&(function(e){const t=new PopStateEvent("popstate",{state:null});e&&(t.onlyForBrowser=!0),ut.rawWindow.dispatchEvent(t)}(t),n&&function(e){const t=new HashChangeEvent("hashchange",{newURL:ut.rawWindow.location.href,oldURL:e});ut.rawWindow.dispatchEvent(t)}(n))}function an(e,t){const n=ut.rawWindow.history;function r(n){return function(...r){if(O(r[2])||B(r[2])){const o=q(r[2],t.href);if(o.origin===t.origin){ln(e,n,tn(e,o),!0,qt(e,r[0]),r[1]);const s=o.pathname+o.search+o.hash;return void(s!==t.fullPath&&yn(e,s,t))}}cn(e,n,r[2],r[0],r[1])}}const o=r("pushState"),s=r("replaceState");return new Proxy(n,{get(t,n){if("state"===n)return Kt(e);if("pushState"===n)return o;if("replaceState"===n)return s;const r=Reflect.get(t,n);return k(r)?Ut(t,r,"HISTORY"):r},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})}function cn(e,t,n,r=null,o=""){if(rn(e)){("pushState"===t?ut.rawPushState:ut.rawReplaceState).call(ut.rawWindow.history,r,o,n)}}function ln(e,t,n,r,o,s){if(rn(e)){const i=ut.rawWindow.location,a=i.pathname+i.search+i.hash,c=n.isAttach2Hash&&a!==n.fullPath?i.href:null;cn(e,t,n.fullPath,o,s),a!==n.fullPath&&sn(e,r,c)}}function un(e,t,n){ln(e,"replaceState",t,!0,n)}function pn(e){const t=ut.rawWindow;return function(...n){var r;if((null===(r=t.history.state)||void 0===r?void 0:r.microAppState)&&(!I(n[0])||!n[0].microAppState)&&(O(n[2])||B(n[2]))){const e=t.location.href;q(n[2],e).href===e&&(n[0]=P({},n[0],{microAppState:t.history.state.microAppState}))}e.apply(t.history,n),Tn({excludeHiddenApp:!0,excludePreRender:!0}).forEach((e=>{const t=On.get(e);t.sandBox&&t.useMemoryRouter&&!en(e)&&un(e,tn(e,t.sandBox.proxyWindow.location),qt(e,Kt(e)))})),oe()}}const{router:dn,executeNavigationGuard:hn,clearRouterWhenUnmount:mn}=function(){function e(e,t,n,r){ln(e,t,tn(e,n),!1,qt(e,null!=r?r:null)),oe()}function t(t){return function(n){const r=V(n.name);if(r&&O(n.path)){const o=On.get(r);if(o&&(!o.sandBox||!o.useMemoryRouter))return F(`navigation failed, memory router of app ${r} is closed`);if(Tn({excludePreRender:!0}).includes(r)){const s=o.sandBox.proxyWindow.location,i=q(n.path,s.href),a=i.pathname+i.search+i.hash;if(s.fullPath!==a||en(r)!==a){e(r,t&&!1!==n.replace||!0===n.replace?"replaceState":"pushState",i,n.state)}}else{const t=ut.rawWindow.location,o=q(n.path,t.origin),s=o.pathname+o.search+o.hash;en(r)!==s&&e(r,!1===n.replace?"pushState":"replaceState",o,n.state)}}else F("navigation failed, name & path are required when use router."+(t?"replace":"push"))}}function n(e){return function(...t){return ut.rawWindow.history[e](...t)}}const r=me(),o=me();function s(e,t,n,r){oe();for(const o of r)k(o)?o(t,n,e):I(o)&&k(o[e])&&o[e](t,n)}function i(e){const t=On.get(e);t.sandBox&&t.useMemoryRouter&&un(e,tn(e,t.sandBox.proxyWindow.location),qt(e,Kt(e)))}const a=Object.assign(Object.assign({current:new Map,encode:Zt,decode:Xt,push:t(!1),replace:t(!0),go:n("go"),back:n("back"),forward:n("forward"),beforeEach:r.add,afterEach:o.add,attachToURL:function(e){(e=V(e))&&Tn().includes(e)&&i(e)},attachAllToURL:function({includeHiddenApp:e=!1,includePreRender:t=!1}){Tn({excludeHiddenApp:!e,excludePreRender:!t}).forEach((e=>i(e)))}},function(){const e=function(){const e=new Map;return{add:function(t,n){return e.set(t,n),()=>!!e.has(t)&&e.delete(t)},get:t=>e.get(t),delete:t=>!!e.has(t)&&e.delete(t)}}();return{setDefaultPage:function(t){const n=V(t.name);return n&&t.path?e.add(n,t.path):A},removeDefaultPage:function(t){return!!(t=V(t))&&e.delete(t)},getDefaultPage:e.get}}()),function(){let e=null;return{setBaseAppRouter:function(t){T(t)&&(e=new Proxy(t,{get(e,t){oe();const n=Reflect.get(e,t);return k(n)?Ut(e,n,"BASEROUTER"):n},set:(e,t,n)=>(Reflect.set(e,t,n),!0)}))},getBaseAppRouter:()=>e}}());return{router:a,executeNavigationGuard:function(e,t,n){a.current.set(e,t),s(e,t,n,r.list()),X((()=>{s(e,t,n,o.list())}))},clearRouterWhenUnmount:function(e){a.current.delete(e)}}}(),fn=["href","pathname","search","hash"],gn=[...fn,"host","hostname","port","protocol","search"],vn=[...gn,"origin","fullPath"];function bn(e,t){const n=P({name:e},t);for(const r of vn)n[r]=t[r];return n}function yn(e,t,n,r){const o=q(t,n.href),s=bn(e,n);for(const a of gn)fn.includes(a)?n.shadowLocation[a]=o[a]:n[a]=o[a];const i=bn(e,n);("auto"===r||s.fullPath!==i.fullPath&&"prevent"!==r)&&hn(e,i,s)}function wn(e,t){const n=function(e,t){const n=ut.rawWindow.location,r=q(t),o={href:r.href,pathname:r.pathname,search:r.search,hash:r.hash},s=(t,s)=>{const i=q(t,r.href);if(i.origin===r.origin){const r=tn(e,i);if(i.pathname===o.pathname&&i.search===o.search){let t=null;return i.hash!==o.hash&&(r.isAttach2Hash&&(t=n.href),cn(e,s,r.fullPath)),void(i.hash?sn(e,!1,t):c())}if(r.isAttach2Hash)return cn(e,s,r.fullPath),void c();t=r.fullPath}return t};function i(e,t){return{enumerable:!0,configurable:!0,get:e,set:t}}function a(n,r){const s=q(n,t);s[r]===o[r]&&o.hash?sn(e,!1):(cn(e,s[r]===o[r]?"replaceState":"pushState",tn(e,s).fullPath),c())}function c(){rn(e)&&n.reload()}N(r,{href:i((()=>o.href),(t=>{if(rn(e)){const e=s(t,"pushState");e&&(n.href=e)}})),pathname:i((()=>o.pathname),(e=>{a(("/"+e).replace(/^\/+/,"/")+o.search+o.hash,"pathname")})),search:i((()=>o.search),(e=>{a(o.pathname+("?"+e).replace(/^\?+/,"?")+o.hash,"search")})),hash:i((()=>o.hash),(n=>{const r=o.pathname+o.search+("#"+n).replace(/^#+/,"#"),s=q(r,t);s.hash!==o.hash&&ln(e,"pushState",tn(e,s),!1)})),fullPath:i((()=>o.pathname+o.search+o.hash),E)});const l=t=>function(r){if(rn(e)){const e=s(r,"assign"===t?"pushState":"replaceState");e&&n[t](e)}};return P(r,{assign:l("assign"),replace:l("replace"),reload:e=>n.reload(e),shadowLocation:o})}(e,t);return{microLocation:n,microHistory:an(e,n)}}function _n(e,t,n){n&&yn(e,n,t,"prevent"),un(e,tn(e,t),qt(e,null)),function(e,t){hn(e,bn(e,t),bn(e,t))}(e,t)}function En(e){un(e,function(e,t){var n,r,o,s;let{pathname:i,search:a,hash:c}=t||ut.rawWindow.location;const l=nn(a,c);let u=!1;if(null===(n=l.hashQuery)||void 0===n?void 0:n[e]){u=!0,null===(r=l.hashQuery)||void 0===r||delete r[e];const t=he(l.hashQuery);c=c.slice(0,c.indexOf("?")+Number(Boolean(t)))+t}else if(null===(o=l.searchQuery)||void 0===o?void 0:o[e]){null===(s=l.searchQuery)||void 0===s||delete s[e];const t=he(l.searchQuery);a=t?"?"+t:""}return{fullPath:i+a+c,isAttach2Hash:u}}(e),function(e,t){return I(null==t?void 0:t.microAppState)&&(M(t.microAppState[e])||delete t.microAppState[e],Object.keys(t.microAppState).length||delete t.microAppState),P({},t)}(e,ut.rawWindow.history.state))}function An(e,t){const n=M(t)?ut.rawWindow.fetch:t;return k(n)?function(t,r,...o){return(O(t)||B(t))&&(t=q(t,e).toString()),oe(),n.call(ut.rawWindow,t,r,...o)}:n}function Sn(e,t){const n=M(t)?ut.rawWindow.XMLHttpRequest:t;return W(n)?class extends n{open(t,n,...r){(O(n)&&!/^f(ile|tp):\/\//.test(n)||B(n))&&(n=q(n,e).toString()),oe(),super.open(t,n,...r)}}:n}const{createMicroEventSource:Pn,clearMicroEventSource:Rn}=function(){let e;return{createMicroEventSource:function(t,n,r){const o=M(r)?ut.rawWindow.EventSource:r;return W(o)?class extends o{constructor(r,o,...s){if((O(r)||B(r))&&(r=q(r,n).toString()),oe(),super(r,o,...s),e){const n=e.get(t);n?n.add(this):e.set(t,new Set([this]))}else e=new Map([[t,new Set([this])]])}close(){var n;super.close(),null===(n=e.get(t))||void 0===n||n.delete(this)}}:o},clearMicroEventSource:function(t){const n=null==e?void 0:e.get(t);(null==n?void 0:n.size)&&(n.forEach((e=>{e.close()})),n.clear())}}}(),Nn=["window","self","globalThis"];class Cn{constructor(e,t){this.scopeProperties=[],this.escapeProperties=[],this.injectedKeys=new Set,this.escapeKeys=new Set,this.active=!1,this.microAppWindow={},this.adapter=new Ze,this.getSpecialProperties(e),this.proxyWindow=this.createProxyWindow(e),this.effectController=zt(e,this.microAppWindow),this.initStaticGlobalKeys(this.microAppWindow,e,t)}start({umdMode:e,baseroute:t,useMemoryRouter:n,defaultPage:r,disablePatchRequest:o}){this.active||(this.active=!0,n?(M(this.microAppWindow.location)&&this.setMicroAppRouter(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__),this.initRouteState(r),this.removeHistoryListener=on(this.microAppWindow.__MICRO_APP_NAME__)):this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=t,e||this.initGlobalKeysWhenStart(this.microAppWindow,this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,o),1==++Cn.activeCount&&(Ht(),st(),window.__MICRO_APP_ENVIRONMENT__&&(It(),window.addEventListener("unmount",kt,!1)),function(){const e=ut.rawWindow;e.history.pushState=pn(ut.rawPushState),e.history.replaceState=pn(ut.rawReplaceState)}()),ut.rawWindow._babelPolyfill&&(ut.rawWindow._babelPolyfill=!1))}stop({umdMode:e,keepRouteState:t,clearEventSource:n,clearData:r}){this.active&&(this.releaseGlobalEffect(r),this.removeHistoryListener&&(this.clearRouteState(t),this.removeHistoryListener()),n&&Rn(this.microAppWindow.__MICRO_APP_NAME__),e||(this.injectedKeys.forEach((e=>{Reflect.deleteProperty(this.microAppWindow,e)})),this.injectedKeys.clear(),this.escapeKeys.forEach((e=>{Reflect.deleteProperty(ut.rawWindow,e)})),this.escapeKeys.clear()),0==--Cn.activeCount&&(document.addEventListener=ut.rawDocumentAddEventListener,document.removeEventListener=ut.rawDocumentRemoveEventListener,ct(),function(){const e=ut.rawWindow;e.history.pushState=ut.rawPushState,e.history.replaceState=ut.rawReplaceState}()),this.active=!1)}releaseGlobalEffect(e=!1){this.effectController.releaseEffect(),this.microAppWindow.microApp.clearDataListener(),this.microAppWindow.microApp.clearGlobalDataListener(),e&&(Fn.clearData(this.microAppWindow.__MICRO_APP_NAME__),this.microAppWindow.microApp.clearData())}recordEffectSnapshot(){this.effectController.recordEffect(),function(e){const t=e.appName;e.umdDataListeners={global:new Set,normal:new Set};const n=Ct.eventList.get("global");if(n)for(const o of n.callbacks)t===o.__APP_NAME__&&e.umdDataListeners.global.add(o);const r=Ct.eventList.get(Mt(t,!0));r&&(e.umdDataListeners.normal=new Set(r.callbacks))}(this.microAppWindow.microApp)}rebuildEffectSnapshot(){this.effectController.rebuildEffect(),function(e){for(const t of e.umdDataListeners.global)e.addGlobalDataListener(t,t.__AUTO_TRIGGER__);for(const t of e.umdDataListeners.normal)e.addDataListener(t,t.__AUTO_TRIGGER__)}(this.microAppWindow.microApp)}setPreRenderState(e){this.microAppWindow.__MICRO_APP_PRE_RENDER__=e}getSpecialProperties(e){var t;this.scopeProperties=this.scopeProperties.concat(this.adapter.staticScopeProperties),I(Fn.options.plugins)&&(this.commonActionForSpecialProperties(Fn.options.plugins.global),this.commonActionForSpecialProperties(null===(t=Fn.options.plugins.modules)||void 0===t?void 0:t[e]))}commonActionForSpecialProperties(e){if(S(e))for(const t of e)I(t)&&(S(t.scopeProperties)&&(this.scopeProperties=this.scopeProperties.concat(t.scopeProperties)),S(t.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(t.escapeProperties)))}createProxyWindow(e){const t=ut.rawWindow,n=new Map;return new Proxy(this.microAppWindow,{get:(n,r)=>{if(ne(e),Reflect.has(n,r)||O(r)&&/^__MICRO_APP_/.test(r)||this.scopeProperties.includes(r))return Reflect.get(n,r);const o=Reflect.get(t,r);return k(o)?Ut(t,o):o},set:(e,n,r)=>{if(this.active){if(this.adapter.escapeSetterKeyList.includes(n))Reflect.set(t,n,r);else if(C.call(e,n)||!C.call(t,n)||this.scopeProperties.includes(n))Reflect.set(e,n,r),this.injectedKeys.add(n);else{const o=Object.getOwnPropertyDescriptor(t,n),{configurable:s,enumerable:i,writable:a,set:c}=o;R(e,n,{value:r,configurable:s,enumerable:i,writable:null!=a?a:!!c}),this.injectedKeys.add(n)}(this.escapeProperties.includes(n)||this.adapter.staticEscapeProperties.includes(n)&&!Reflect.has(t,n))&&!this.scopeProperties.includes(n)&&(Reflect.set(t,n,r),this.escapeKeys.add(n))}return!0},has:(e,n)=>this.scopeProperties.includes(n)?n in e:n in e||n in t,getOwnPropertyDescriptor:(e,r)=>{if(C.call(e,r))return n.set(r,"target"),Object.getOwnPropertyDescriptor(e,r);if(C.call(t,r)){n.set(r,"rawWindow");const e=Object.getOwnPropertyDescriptor(t,r);return e&&!e.configurable&&(e.configurable=!0),e}},defineProperty:(e,r,o)=>"rawWindow"===n.get(r)?Reflect.defineProperty(t,r,o):Reflect.defineProperty(e,r,o),ownKeys:e=>Reflect.ownKeys(t).concat(Reflect.ownKeys(e)).filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null)),deleteProperty:(e,n)=>!C.call(e,n)||(this.injectedKeys.has(n)&&this.injectedKeys.delete(n),this.escapeKeys.has(n)&&Reflect.deleteProperty(t,n),Reflect.deleteProperty(e,n))})}initStaticGlobalKeys(e,t,n){e.__MICRO_APP_ENVIRONMENT__=!0,e.__MICRO_APP_NAME__=t,e.__MICRO_APP_URL__=n,e.__MICRO_APP_PUBLIC_PATH__=Q(n),e.__MICRO_APP_WINDOW__=e,e.__MICRO_APP_PRE_RENDER__=!1,e.rawWindow=ut.rawWindow,e.rawDocument=ut.rawDocument,e.microApp=P(new Lt(t),{removeDomScope:oe,pureCreateElement:se,router:dn}),this.setProxyDocument(e,t),this.setMappingPropertiesWithRawDescriptor(e)}setProxyDocument(e,t){const{proxyDocument:n,MicroDocument:r}=this.createProxyDocument(t);N(e,{document:{configurable:!1,enumerable:!0,get:()=>n},Document:{configurable:!1,enumerable:!1,get:()=>r}})}setMappingPropertiesWithRawDescriptor(e){let t,n;const r=ut.rawWindow;r===r.parent?t=n=this.proxyWindow:(t=r.top,n=r.parent),R(e,"top",this.createDescriptorForMicroAppWindow("top",t)),R(e,"parent",this.createDescriptorForMicroAppWindow("parent",n)),Nn.forEach((t=>{R(e,t,this.createDescriptorForMicroAppWindow(t,this.proxyWindow))}))}createDescriptorForMicroAppWindow(e,t){const{configurable:n=!0,enumerable:r=!0,writable:o,set:s}=Object.getOwnPropertyDescriptor(ut.rawWindow,e)||{writable:!0};return{value:t,configurable:n,enumerable:r,writable:null!=o?o:!!s}}initGlobalKeysWhenStart(e,t,n,r){e.hasOwnProperty=t=>C.call(e,t)||C.call(ut.rawWindow,t),this.setHijackProperty(e,t),r||this.patchRequestApi(e,t,n),this.setScopeProperties(e)}setHijackProperty(e,t){let n,r;N(e,{eval:{configurable:!0,enumerable:!1,get:()=>(ne(t),n||eval),set:e=>{n=e}},Image:{configurable:!0,enumerable:!1,get:()=>(ne(t),r||ut.ImageProxy),set:e=>{r=e}}})}patchRequestApi(e,t,n){let r=An(n),o=Sn(n),s=Pn(t,n);N(e,{fetch:{configurable:!0,enumerable:!0,get:()=>r,set(e){r=An(n,e)}},XMLHttpRequest:{configurable:!0,enumerable:!0,get:()=>o,set(e){o=Sn(n,e)}},EventSource:{configurable:!0,enumerable:!0,get:()=>s,set(e){s=Pn(t,n,e)}}})}setScopeProperties(e){this.scopeProperties.forEach((t=>{Reflect.set(e,t,e[t])}))}setMicroAppRouter(e,t,n){const{microLocation:r,microHistory:o}=wn(t,n);N(e,{location:{configurable:!1,enumerable:!0,get:()=>r,set:e=>{ut.rawWindow.location=e}},history:{configurable:!0,enumerable:!0,get:()=>o}})}initRouteState(e){!function(e,t,n){const r=en(e);r?yn(e,r,t,"auto"):_n(e,t,n)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location,e)}clearRouteState(e){!function(e,t,n,r){if(!r){const{pathname:r,search:o,hash:s}=q(t);yn(e,r+o+s,n,"prevent")}En(e),mn(e)}(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.__MICRO_APP_URL__,this.proxyWindow.location,e)}setRouteInfoForKeepAliveApp(){_n(this.proxyWindow.__MICRO_APP_NAME__,this.proxyWindow.location)}removeRouteInfoForKeepAliveApp(){En(this.proxyWindow.__MICRO_APP_NAME__)}createProxyDocument(e){const t=ut.rawDocument,n=ut.rawRootDocument,r=function(n,r){const o=ut.rawCreateElement.call(t,n,r);return o.__MICRO_APP_NAME__=e,o},o=new Proxy(t,{get:(n,s)=>{if(ne(e),function(e){const t=ut.rawDocument.firstElementChild;(null==t?void 0:t.parentNode)===ut.rawDocument&&(Xe(t,e),z((()=>{Xe(t,ut.rawDocument)})))}(o),"createElement"===s)return r;if(s===Symbol.toStringTag)return"ProxyDocument";if("defaultView"===s)return this.proxyWindow;const i=Reflect.get(n,s);return k(i)?Ut(t,i,"DOCUMENT"):i},set:(e,t,n)=>(Reflect.set(e,t,n),!0)});class s{static[Symbol.hasInstance](e){let t=e;for(;t=Object.getPrototypeOf(t);)if(t===s.prototype)return!0;return e===o||e instanceof n}}return Object.setPrototypeOf(s,n),Object.setPrototypeOf(s.prototype,new Proxy(n.prototype,{get(n,r){ne(e);const o=Reflect.get(n,r);return k(o)?Ut(t,o,"DOCUMENT"):o},set:(e,t,n)=>(Reflect.set(e,t,n),!0)})),{proxyDocument:o,MicroDocument:s}}}function Mn(e,t,n,r){var o;if(!e)return F(`element does not exist in lifecycle ${n}`,t);e=le(e),oe();const s=P({name:t,container:e},r&&{error:r}),i=new CustomEvent(n,{detail:s});!function(e,t){Object.defineProperties(e,{currentTarget:{get:()=>t},target:{get:()=>t}})}(i,e),k(null===(o=Fn.options.lifeCycles)||void 0===o?void 0:o[n])&&Fn.options.lifeCycles[n](i),e.dispatchEvent(i)}function Dn(e,t,n={}){const r=new CustomEvent(Bt(e,t),{detail:n});window.dispatchEvent(r)}Cn.activeCount=0;const On=new Map;class Ln{constructor({name:e,url:t,container:n,scopecss:r,useSandbox:o,inline:s,esmodule:i,ssrUrl:a,isPrefetch:c,prefetchLevel:l}){this.state=Ee.CREATED,this.keepAliveState=null,this.keepAliveContainer=null,this.loadSourceLevel=0,this.umdHookMount=null,this.umdHookUnmount=null,this.libraryName=null,this.umdMode=!1,this.sandBox=null,this.fiber=!1,this.useMemoryRouter=!0,this.name=e,this.url=t,this.useSandbox=o,this.scopecss=this.useSandbox&&r,this.inline=null!=s&&s,this.esmodule=null!=i&&i,this.container=null!=n?n:null,this.ssrUrl=null!=a?a:"",this.isPrefetch=null!=c&&c,this.isPrerender=3===l,this.prefetchLevel=l,On.set(this.name,this),this.source={html:null,links:new Set,scripts:new Set},this.loadSourceCode(),this.useSandbox&&(this.sandBox=new Cn(e,t))}loadSourceCode(){this.state=Ee.LOADING,Ie.getInstance().run(this,Nt)}onLoad(e,t,n){var r;if(2==++this.loadSourceLevel)if(this.source.html=e,this.state=Ee.LOADED,this.isPrefetch||Ee.UNMOUNT===this.state){if(this.isPrerender){const e=se("div");e.setAttribute("prerender","true"),null===(r=this.sandBox)||void 0===r||r.setPreRenderState(!0),this.mount({container:e,inline:this.inline,useMemoryRouter:!0,baseroute:"",fiber:!0,esmodule:this.esmodule,defaultPage:null!=t?t:"",disablePatchRequest:null!=n&&n})}}else le(this.container).mount(this)}onLoadError(e){this.loadSourceLevel=-1,Ee.UNMOUNT!==this.state&&(this.onerror(e),this.state=Ee.LOAD_FAILED)}mount({container:e,inline:t,useMemoryRouter:n,defaultPage:r,baseroute:o,disablePatchRequest:s,fiber:i,esmodule:a}){var c,l,u,p,d,h;if(2!==this.loadSourceLevel)return this.container=e,this.isPrerender=!1,void(this.state=Ee.LOADING);if(this.container instanceof HTMLDivElement&&this.container.hasAttribute("prerender"))return null===(c=this.sandBox)||void 0===c||c.rebuildEffectSnapshot(),ie(this.container,e,!1),this.container=e,null===(l=this.preRenderEvent)||void 0===l||l.forEach((e=>e())),this.isPrerender=!1,this.preRenderEvent=void 0,dn.attachToURL(this.name),null===(u=this.sandBox)||void 0===u?void 0:u.setPreRenderState(!1);this.container=e,this.inline=t,this.esmodule=a,this.fiber=i,this.useMemoryRouter=n;const m=()=>{Mn(this.container,this.name,Se.BEFOREMOUNT)};let f;if(this.isPrerender?(null!==(p=this.preRenderEvent)&&void 0!==p?p:this.preRenderEvent=[]).push(m):m(),this.state=Ee.MOUNTING,ie(this.source.html,this.container,!this.umdMode),null===(d=this.sandBox)||void 0===d||d.start({umdMode:this.umdMode,baseroute:o,useMemoryRouter:n,defaultPage:r,disablePatchRequest:s}),this.umdMode){null===(h=this.sandBox)||void 0===h||h.rebuildEffectSnapshot();try{f=this.umdHookMount()}catch(g){F("an error occurred in the mount function \n",this.name)}this.handleMounted(f)}else{let e=!1;!function(e,t){const n=e.fiber?[]:null,r=Array.from(e.source.scripts),o=[],s=[];for(const i of r){const r=Ge.script.getInfo(i),a=r.appSpace[e.name];a.defer||a.async?(r.isExternal&&!r.code?o.push(ke(i,e.name)):o.push(r.code),s.push([i,r]),ht(e,r)&&(t.moduleCount=t.moduleCount?++t.moduleCount:1)):ge(n,(()=>{At(i,e,r),t(!1)}))}o.length?Z(o,(e=>{const t=s[e.index][1];t.code=t.code||e.data}),(n=>{t.errorCount=t.errorCount?++t.errorCount:1,F(n,e.name)}),(()=>{s.forEach((([r,o])=>{o.code&&ge(n,(()=>{At(r,e,o,t),!ht(e,o)&&t(!1)}))})),n?(n.push((()=>Promise.resolve(t(M(t.moduleCount)||t.errorCount===o.length)))),ve(n)):t(M(t.moduleCount)||t.errorCount===o.length)})):n?(n.push((()=>Promise.resolve(t(!0)))),ve(n)):t(!0)}(this,(t=>{var n;if(!this.umdMode){const{mount:e,unmount:t}=this.getUmdLibraryHooks();if(this.umdHookUnmount=t,k(e)&&k(t)){this.umdHookMount=e,this.umdMode=!0,this.sandBox&&(this.sandBox.proxyWindow.__MICRO_APP_UMD_MODE__=!0);try{f=this.umdHookMount(Fn.getData(this.name,!0))}catch(g){F("an error occurred in the mount function \n",this.name)}}}if(!e&&(!0===t||this.umdMode)){e=!0;const t=()=>this.handleMounted(f);this.isPrerender?((null!==(n=this.preRenderEvent)&&void 0!==n?n:this.preRenderEvent=[]).push(t),this.recordAndReleaseEffect()):t()}}))}}handleMounted(e){U(e)?e.then((()=>this.dispatchMountedEvent())).catch((e=>this.onerror(e))):this.dispatchMountedEvent()}dispatchMountedEvent(){Ee.UNMOUNT!==this.state&&(this.state=Ee.MOUNTED,ye(this.getGlobalEventListener(Re.ONMOUNT),this.name,`window.${Re.ONMOUNT}`,Fn.getData(this.name,!0)),Mn(this.container,this.name,Se.MOUNTED))}unmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){let o;if(this.state===Ee.LOAD_FAILED&&(e=!0),this.state=Ee.UNMOUNT,this.keepAliveState=null,this.keepAliveContainer=null,k(this.umdHookUnmount))try{o=this.umdHookUnmount(Fn.getData(this.name,!0))}catch(s){F("an error occurred in the unmount function \n",this.name)}ye(this.getGlobalEventListener(Re.ONUNMOUNT),this.name,`window.${Re.ONUNMOUNT}`),Dn("unmount",this.name),this.handleUnmounted(e,t,n,o,r)}handleUnmounted(e,t,n,r,o){const s={destroy:e,clearData:t,keepRouteState:n,unmountcb:o};U(r)?r.then((()=>this.actionsForUnmount(s))).catch((()=>this.actionsForUnmount(s))):this.actionsForUnmount(s)}actionsForUnmount({destroy:e,clearData:t,keepRouteState:n,unmountcb:r}){var o,s;e?this.actionsForCompletelyDestroy():this.umdMode&&this.container.childElementCount&&ie(this.container,this.source.html,!1),this.umdMode&&(null===(o=this.sandBox)||void 0===o||o.recordEffectSnapshot()),null===(s=this.sandBox)||void 0===s||s.stop({umdMode:this.umdMode,keepRouteState:n&&!e,clearEventSource:!this.umdMode||e,clearData:t||e}),Tn().length||(at=!1,Element.prototype.setAttribute=ut.rawSetAttribute),Mn(this.container,this.name,Se.UNMOUNT),this.resetConfig(),r&&r()}resetConfig(){this.container.innerHTML="",this.container=null,this.isPrerender=!1,this.preRenderEvent=void 0}actionsForCompletelyDestroy(){!this.useSandbox&&this.umdMode&&delete window[this.libraryName],Ge.script.deleteInlineInfo(this.source.scripts),On.delete(this.name)}hiddenKeepAliveApp(e){var t;const n=this.container;ie(this.container,this.keepAliveContainer?this.keepAliveContainer:this.keepAliveContainer=document.createElement("div"),!1),this.container=this.keepAliveContainer,this.keepAliveState=Ce.KEEP_ALIVE_HIDDEN,Dn("appstate-change",this.name,{appState:"afterhidden"}),Mn(n,this.name,Se.AFTERHIDDEN),this.useMemoryRouter&&(null===(t=this.sandBox)||void 0===t||t.removeRouteInfoForKeepAliveApp()),this.recordAndReleaseEffect(),e&&e()}showKeepAliveApp(e){var t,n;null===(t=this.sandBox)||void 0===t||t.rebuildEffectSnapshot(),Dn("appstate-change",this.name,{appState:"beforeshow"}),Mn(e,this.name,Se.BEFORESHOW),ie(this.container,e,!1),this.container=e,this.keepAliveState=Ce.KEEP_ALIVE_SHOW,this.useMemoryRouter&&(null===(n=this.sandBox)||void 0===n||n.setRouteInfoForKeepAliveApp()),Dn("appstate-change",this.name,{appState:"aftershow"}),Mn(this.container,this.name,Se.AFTERSHOW)}onerror(e){Mn(this.container,this.name,Se.ERROR,e)}getAppState(){return this.state}getKeepAliveState(){return this.keepAliveState}getUmdLibraryHooks(){var e,t,n,r;if(Ee.UNMOUNT!==this.state){const o=null!==(t=null===(e=this.sandBox)||void 0===e?void 0:e.proxyWindow)&&void 0!==t?t:ut.rawWindow;return this.libraryName=le(this.container).getAttribute("library")||`micro-app-${this.name}`,T(o[this.libraryName])?o[this.libraryName]:{mount:null===(n=this.sandBox)||void 0===n?void 0:n.proxyWindow.mount,unmount:null===(r=this.sandBox)||void 0===r?void 0:r.proxyWindow.unmount}}return{}}getGlobalEventListener(e){var t;const n=null===(t=this.sandBox)||void 0===t?void 0:t.proxyWindow[e];return k(n)?n:null}recordAndReleaseEffect(){var e,t;null===(e=this.sandBox)||void 0===e||e.recordEffectSnapshot(),null===(t=this.sandBox)||void 0===t||t.releaseGlobalEffect()}querySelector(e){const t=this.container;return t?ut.rawElementQuerySelector.call(t,e):null}querySelectorAll(e){const t=this.container;return t?ut.rawElementQuerySelectorAll.call(t,e):[]}}function xn(e){class t extends HTMLElement{constructor(){super(),this.isWaiting=!1,this.cacheData=null,this.connectedCount=0,this.connectStateMap=new Map,this.appName="",this.appUrl="",this.ssrUrl="",this.version="1.0.0-alpha.10",this.handleAttributeUpdate=()=>{if(this.isWaiting=!1,!this.connectStateMap.get(this.connectedCount))return;const e=V(this.getAttribute("name")),t=G(this.getAttribute("url"),this.appName);if(this.legalAttribute("name",e)&&this.legalAttribute("url",t)){const n=On.get(e);if(e!==this.appName&&n&&Ee.UNMOUNT!==n.getAppState()&&Ce.KEEP_ALIVE_HIDDEN!==n.getKeepAliveState()&&!n.isPrefetch)return this.setAttribute("name",this.appName),F(`app name conflict, an app named ${e} is running`);e===this.appName&&t===this.appUrl||(e===this.appName?this.handleUnmount(!0,(()=>{this.actionsForAttributeChange(e,t,n)})):this.getKeepAliveModeResult()?(this.handleHiddenKeepAliveApp(),this.actionsForAttributeChange(e,t,n)):this.handleUnmount(this.getDestroyCompatibleResult(),(()=>{this.actionsForAttributeChange(e,t,n)})))}else e!==this.appName&&this.setAttribute("name",this.appName)},at||(at=!0,Element.prototype.setAttribute=function(e,t){if(/^micro-app(-\S+)?/i.test(this.tagName)&&"data"===e)if(I(t)){const e={};Object.getOwnPropertyNames(t).forEach((n=>{O(n)&&0===n.indexOf("__")||(e[n]=t[n])})),this.data=e}else"[object Object]"!==t&&H("property data must be an object",this.getAttribute("name"));else{const n=this.__MICRO_APP_NAME__||re();if(n&&On.has(n)&&(("src"===e||"srcset"===e)&&/^(img|script)$/i.test(this.tagName)||"href"===e&&/^link$/i.test(this.tagName))){const e=On.get(n);t=Y(t,e.url)}ut.rawSetAttribute.call(this,e,t)}})}static get observedAttributes(){return["name","url"]}connectedCallback(){const e=++this.connectedCount;this.connectStateMap.set(e,!0);const t=this.appName&&this.appUrl;z((()=>{this.connectStateMap.get(e)&&(Mn(this,this.appName,Se.CREATED),t&&this.handleConnected())}))}disconnectedCallback(){this.connectStateMap.set(this.connectedCount,!1),this.handleDisconnected()}reload(e){return new Promise((t=>{const n=()=>{this.removeEventListener(Se.MOUNTED,n),this.removeEventListener(Se.AFTERSHOW,n),t(!0)};this.addEventListener(Se.MOUNTED,n),this.addEventListener(Se.AFTERSHOW,n),this.handleDisconnected(e,(()=>{this.handleConnected()}))}))}handleDisconnected(e=!1,t){const n=On.get(this.appName);n&&n.getAppState()!==Ee.UNMOUNT&&n.getKeepAliveState()!==Ce.KEEP_ALIVE_HIDDEN&&(this.getKeepAliveModeResult()&&!e?this.handleHiddenKeepAliveApp(t):this.handleUnmount(e||this.getDestroyCompatibleResult(),t))}attributeChangedCallback(e,t,n){if(this.legalAttribute(e,n)&&this[e===we.NAME?"appName":"appUrl"]!==n)if(e!==we.URL||this.appUrl)if(e!==we.NAME||this.appName)this.isWaiting||(this.isWaiting=!0,z(this.handleAttributeUpdate));else{const e=V(n);if(!e)return F(`Invalid attribute name ${n}`,this.appName);this.cacheData&&(Fn.setData(e,this.cacheData),this.cacheData=null),this.appName=e,e!==n&&this.setAttribute("name",this.appName),this.handleInitialNameAndUrl()}else{if(!(n=G(n,this.appName)))return F(`Invalid attribute url ${n}`,this.appName);this.appUrl=n,this.handleInitialNameAndUrl()}}handleInitialNameAndUrl(){this.connectStateMap.get(this.connectedCount)&&this.handleConnected()}handleConnected(){if(this.appName&&this.appUrl)if(this.getDisposeResult("shadowDOM")&&!this.shadowRoot&&k(this.attachShadow)&&this.attachShadow({mode:"open"}),this.updateSsrUrl(this.appUrl),On.has(this.appName)){const e=On.get(this.appName),t=e.ssrUrl||e.url,n=this.ssrUrl||this.appUrl;e.getKeepAliveState()===Ce.KEEP_ALIVE_HIDDEN&&e.url===this.appUrl?this.handleShowKeepAliveApp(e):t===n&&(e.getAppState()===Ee.UNMOUNT||e.isPrefetch&&e.scopecss===this.isScopecss()&&e.useSandbox===this.isSandbox())?this.handleAppMount(e):e.isPrefetch||e.getAppState()===Ee.UNMOUNT?this.handleCreateApp():F(`app name conflict, an app named: ${this.appName} with url: ${t} is running`)}else this.handleCreateApp()}actionsForAttributeChange(e,t,n){var r;this.updateSsrUrl(t),this.appName=e,this.appUrl=t,(null!==(r=this.shadowRoot)&&void 0!==r?r:this).innerHTML="",e!==this.getAttribute("name")&&this.setAttribute("name",this.appName),n?n.getKeepAliveState()===Ce.KEEP_ALIVE_HIDDEN?n.url===this.appUrl?this.handleShowKeepAliveApp(n):F(`app name conflict, an app named ${this.appName} is running`):n.url===this.appUrl&&n.ssrUrl===this.ssrUrl?this.handleAppMount(n):this.handleCreateApp():this.handleCreateApp()}legalAttribute(e,t){return!(!O(t)||!t)||(F(`unexpected attribute ${e}, please check again`,this.appName),!1)}handleCreateApp(){var e;On.has(this.appName)&&On.get(this.appName).actionsForCompletelyDestroy(),new Ln({name:this.appName,url:this.appUrl,scopecss:this.isScopecss(),useSandbox:this.isSandbox(),inline:this.getDisposeResult("inline"),esmodule:this.getDisposeResult("esmodule"),container:null!==(e=this.shadowRoot)&&void 0!==e?e:this,ssrUrl:this.ssrUrl})}handleAppMount(e){e.isPrefetch=!1,z((()=>this.mount(e)))}mount(e){var t;e.mount({container:null!==(t=this.shadowRoot)&&void 0!==t?t:this,inline:this.getDisposeResult("inline"),useMemoryRouter:!this.getDisposeResult("disable-memory-router"),defaultPage:this.getDefaultPageValue(),baseroute:this.getBaseRouteCompatible(),disablePatchRequest:this.getDisposeResult("disable-patch-request"),fiber:this.getDisposeResult("fiber"),esmodule:this.getDisposeResult("esmodule")})}handleUnmount(e,t){const n=On.get(this.appName);n&&n.getAppState()!==Ee.UNMOUNT&&n.unmount({destroy:e,clearData:this.getDisposeResult("clear-data"),keepRouteState:this.getDisposeResult("keep-router-state"),unmountcb:t})}handleHiddenKeepAliveApp(e){const t=On.get(this.appName);t&&t.getAppState()!==Ee.UNMOUNT&&t.getKeepAliveState()!==Ce.KEEP_ALIVE_HIDDEN&&t.hiddenKeepAliveApp(e)}handleShowKeepAliveApp(e){z((()=>{var t;return e.showKeepAliveApp(null!==(t=this.shadowRoot)&&void 0!==t?t:this)}))}getDisposeResult(e){return(this.compatibleSpecialProperties(e)||!!Fn.options[e])&&this.compatibleDisableSpecialProperties(e)}compatibleSpecialProperties(e){return"disable-scopecss"===e?this.hasAttribute("disable-scopecss")||this.hasAttribute("disableScopecss"):"disable-sandbox"===e?this.hasAttribute("disable-sandbox")||this.hasAttribute("disableSandbox"):this.hasAttribute(e)}compatibleDisableSpecialProperties(e){return"disable-scopecss"===e?"false"!==this.getAttribute("disable-scopecss")&&"false"!==this.getAttribute("disableScopecss"):"disable-sandbox"===e?"false"!==this.getAttribute("disable-sandbox")&&"false"!==this.getAttribute("disableSandbox"):"false"!==this.getAttribute(e)}isScopecss(){return!(this.getDisposeResult("disable-scopecss")||this.getDisposeResult("shadowDOM"))}isSandbox(){return!this.getDisposeResult("disable-sandbox")}getBaseRouteCompatible(){var e,t;return null!==(t=null!==(e=this.getAttribute("baseroute"))&&void 0!==e?e:this.getAttribute("baseurl"))&&void 0!==t?t:""}getDestroyCompatibleResult(){return this.getDisposeResult("destroy")||this.getDisposeResult("destory")}getKeepAliveModeResult(){return this.getDisposeResult("keep-alive")&&!this.getDestroyCompatibleResult()}updateSsrUrl(e){if(this.getDisposeResult("ssr"))if(this.getDisposeResult("disable-memory-router")||this.getDisposeResult("disableSandbox")){const t=ut.rawWindow.location;this.ssrUrl=Y(t.pathname+t.search,e)}else{let t=function(e,t){const n=en(e);if(!n)return"";const r=q(n,t);return r.origin+r.pathname+r.search}(this.appName,e);const n=this.getDefaultPageValue();if(!t&&n){const r=q(n,e);t=r.origin+r.pathname+r.search}this.ssrUrl=t}else this.ssrUrl&&(this.ssrUrl="")}getDefaultPageValue(){return dn.getDefaultPage(this.appName)||this.getAttribute("default-page")||this.getAttribute("defaultPage")||""}set data(e){this.appName?Fn.setData(this.appName,e):this.cacheData=e}get data(){return this.appName?Fn.getData(this.appName,!0):this.cacheData?this.cacheData:null}}ut.rawWindow.customElements.define(e,t)}function kn(e,t){if(!w)return F("preFetch is only supported in browser environment");X((()=>{const n=x(t)?t:Fn.options.prefetchDelay;setTimeout((()=>{!function(e){k(e)&&(e=e()),S(e)&&e.reduce(((e,t)=>e.then((()=>{return e=t,J((t=>{var n,r,o,s,i,a;if(I(e)&&navigator.onLine)if(e.name=V(e.name),e.url=G(e.url,e.name),e.name&&e.url&&!On.has(e.name)){const c=new Ln({name:e.name,url:e.url,isPrefetch:!0,scopecss:!(null!==(r=null!==(n=e["disable-scopecss"])&&void 0!==n?n:e.disableScopecss)&&void 0!==r?r:Fn.options["disable-scopecss"]),useSandbox:!(null!==(s=null!==(o=e["disable-sandbox"])&&void 0!==o?o:e.disableSandbox)&&void 0!==s?s:Fn.options["disable-sandbox"]),inline:null!==(i=e.inline)&&void 0!==i?i:Fn.options.inline,esmodule:null!==(a=e.esmodule)&&void 0!==a?a:Fn.options.esmodule,prefetchLevel:e.level&&Le.includes(e.level)?e.level:Fn.options.prefetchLevel&&Le.includes(Fn.options.prefetchLevel)?Fn.options.prefetchLevel:2}),l=c.onLoad,u=c.onLoadError;c.onLoad=n=>{t(),l.call(c,n,e["default-page"],e["disable-patch-request"])},c.onLoadError=(...e)=>{t(),u.call(c,...e)}}else t();else t()}));var e}))),Promise.resolve())}(e)}),x(n)?n:3e3)}))}function In(e,t,n){if(S(e)){const r=e.filter((e=>O(e)&&e.includes(`.${t}`)&&!n.hasInfo(e)));Z(r.map((e=>ke(e))),(e=>{const o=r[e.index];"js"===t?n.hasInfo(o)||n.setInfo(o,{code:e.data,isExternal:!1,appSpace:{}}):n.hasInfo(o)||n.setInfo(o,{code:e.data,appSpace:{}})}),(e=>{F(e)}))}}function Tn({excludeHiddenApp:e=!1,excludePreRender:t=!1}={}){const n=[];return On.forEach(((r,o)=>{Ee.UNMOUNT===r.getAppState()||r.isPrefetch&&(!r.isPrerender||t)||e&&Ce.KEEP_ALIVE_HIDDEN===r.getKeepAliveState()||n.push(o)})),n}function Un(){return Array.from(On.keys())}function Wn(e,t){const n=On.get(V(e));return new Promise((r=>{if(n)if(n.getAppState()===Ee.UNMOUNT||n.isPrefetch)(null==t?void 0:t.destroy)&&n.actionsForCompletelyDestroy(),r(!0);else if(n.getKeepAliveState()===Ce.KEEP_ALIVE_HIDDEN)(null==t?void 0:t.destroy)?n.unmount({destroy:!0,clearData:!0,keepRouteState:!0,unmountcb:r.bind(null,!0)}):(null==t?void 0:t.clearAliveState)?n.unmount({destroy:!1,clearData:!!t.clearData,keepRouteState:!0,unmountcb:r.bind(null,!0)}):r(!0);else{const e=le(n.container),o=()=>{e.removeEventListener(Se.UNMOUNT,o),e.removeEventListener(Se.AFTERHIDDEN,s),r(!0)},s=()=>{e.removeEventListener(Se.UNMOUNT,o),e.removeEventListener(Se.AFTERHIDDEN,s),r(!0)};if(e.addEventListener(Se.UNMOUNT,o),e.addEventListener(Se.AFTERHIDDEN,s),null==t?void 0:t.destroy){let t,n;e.hasAttribute("destroy")&&(t=e.getAttribute("destroy")),e.hasAttribute("destory")&&(n=e.getAttribute("destory")),e.setAttribute("destroy","true"),e.parentNode.removeChild(e),e.removeAttribute("destroy"),O(t)&&e.setAttribute("destroy",t),O(n)&&e.setAttribute("destory",n)}else if((null==t?void 0:t.clearAliveState)&&e.hasAttribute("keep-alive")){const n=e.getAttribute("keep-alive");let r;e.removeAttribute("keep-alive"),t.clearData&&(r=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),e.setAttribute("keep-alive",n),O(r)&&e.setAttribute("clear-data",r)}else{let n;(null==t?void 0:t.clearData)&&(n=e.getAttribute("clear-data"),e.setAttribute("clear-data","true")),e.parentNode.removeChild(e),O(n)&&e.setAttribute("clear-data",n)}}else H(`app ${e} does not exist`),r(!1)}))}function Bn(e){return Array.from(On.keys()).reduce(((t,n)=>t.then((()=>Wn(n,e)))),Promise.resolve(!0))}function $n(e,t){return new Promise((n=>{const r=On.get(V(e));if(r){const o=r.container&&le(r.container);o?n(o.reload(t)):(H(`app ${e} is not rendered, cannot use reload`),n(!1))}else H(`app ${e} does not exist`),n(!1)}))}function jn(e){return new Promise((t=>{if(!I(e))return F("renderApp options must be an object");const n=$(e.container)?e.container:O(e.container)?document.querySelector(e.container):null;if(!$(n))return F("Target container is not a DOM element.");const r=se(Fn.tagName);for(const a in e)if("onDataChange"===a)k(e[a])&&r.addEventListener("datachange",e[a]);else if("lifeCycles"===a){const t=e[a];if(I(t))for(const e in t)e.toUpperCase()in Se&&k(t[e])&&r.addEventListener(e.toLowerCase(),t[e])}else"container"!==a&&r.setAttribute(a,e[a]);const o=()=>{i(),t(!0)},s=()=>{i(),t(!1)},i=()=>{r.removeEventListener(Se.MOUNTED,o),r.removeEventListener(Se.ERROR,s)};r.addEventListener(Se.MOUNTED,o),r.addEventListener(Se.ERROR,s),n.appendChild(r)}))}const Fn=new class extends Ot{constructor(){super(...arguments),this.tagName="micro-app",this.options={},this.router=dn,this.preFetch=kn,this.unmountApp=Wn,this.unmountAllApps=Bn,this.getActiveApps=Tn,this.getAllApps=Un,this.reload=$n,this.renderApp=jn}start(e){var t,n,r;if(!w||!window.customElements)return F("micro-app is not supported in this environment");if(null==e?void 0:e.tagName){if(!/^micro-app(-\S+)?/.test(e.tagName))return F(`${e.tagName} is invalid tagName`);this.tagName=e.tagName}if(window.customElements.get(this.tagName))return H(`element ${this.tagName} is already defined`);if(pt(),I(e)&&(this.options=e,e["disable-scopecss"]=null!==(t=e["disable-scopecss"])&&void 0!==t?t:e.disableScopecss,e["disable-sandbox"]=null!==(n=e["disable-sandbox"])&&void 0!==n?n:e.disableSandbox,e.preFetchApps&&kn(e.preFetchApps),e.globalAssets&&(I(r=e.globalAssets)&&X((()=>{In(r.js,"js",Ge.script),In(r.css,"css",Ge.link)}))),I(e.plugins))){const t=e.plugins.modules;if(I(t))for(const e in t){const n=V(e);n&&e!==n&&(t[n]=t[e],delete t[e])}}xn(this.tagName)}},Hn={},zn=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Hn)return;Hn[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var qn={exports:{}},Kn=qn.exports=function(){var e,t,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(e,t,n){return e<t?t:e>n?n:e}function s(e){return 100*(-1+e)}function i(e,t,n){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+s(e)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+s(e)+"%,0)"}:{"margin-left":s(e)+"%"}).transition="all "+t+"ms "+n,o}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(r[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=o(e,r.minimum,1),n.status=1===e?null:e;var s=n.render(!t),l=s.querySelector(r.barSelector),u=r.speed,p=r.easing;return s.offsetWidth,a((function(t){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),c(l,i(e,u,p)),1===e?(c(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){c(s,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),r.trickleSpeed)};return r.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*o(Math.random()*t,.1,.95)),t=o(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&n.start(),e++,t++,r.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var o,i=t.querySelector(r.barSelector),a=e?"-100":s(n.status||0),l=document.querySelector(r.parent);return c(i,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),r.showSpinner||(o=t.querySelector(r.spinnerSelector))&&h(o),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(t),t},n.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),c=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function r(t){var n=document.body.style;if(t in n)return t;for(var r,o=e.length,s=t.charAt(0).toUpperCase()+t.slice(1);o--;)if((r=e[o]+s)in n)return r;return t}function o(e){return e=n(e),t[e]||(t[e]=r(e))}function s(e,t,n){t=o(t),e.style[t]=n}return function(e,t){var n,r,o=arguments;if(2==o.length)for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&s(e,n,r);else s(e,o[1],o[2])}}();function l(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function u(e,t){var n=d(e),r=n+t;l(n,t)||(e.className=r.substring(1))}function p(e,t){var n,r=d(e);l(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n}();const Gn=Symbol("ArcoConfigProvider"),Vn=e=>{var t,n,r;const o=vue.getCurrentInstance(),s=vue.inject(Gn,void 0),i=null!=(r=null!=(n=null==s?void 0:s.prefixCls)?n:null==(t=null==o?void 0:o.appContext.config.globalProperties.$arco)?void 0:t.classPrefix)?r:"arco";return e?`${i}-${e}`:i},Qn=Object.prototype.toString;function Yn(e){return"[object Number]"===Qn.call(e)&&e==e}var Zn=(e,t)=>{for(const[n,r]of t)e[n]=r;return e};const Xn=vue.defineComponent({name:"IconQuestion",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-question`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),Jn=["stroke-width","stroke-linecap","stroke-linejoin"],er=[vue.createElementVNode("path",{d:"M13 17c0-5.523 4.925-10 11-10s11 4.477 11 10c0 3.607-2.1 6.767-5.25 8.526C26.857 27.142 24 29.686 24 33v3m0 5h.02v.02H24V41Z"},null,-1)];var tr=Zn(Xn,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},er,14,Jn)}]]);const nr=Object.assign(tr,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+tr.name,tr)}}),rr=vue.defineComponent({name:"IconCodeSquare",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-code-square`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),or=["stroke-width","stroke-linecap","stroke-linejoin"],sr=[vue.createElementVNode("path",{d:"M23.071 17 16 24.071l7.071 7.071m9.001-14.624-4.14 15.454M9 42h30a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v34a1 1 0 0 0 1 1Z"},null,-1)];var ir=Zn(rr,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},sr,14,or)}]]);const ar=Object.assign(ir,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+ir.name,ir)}}),cr=vue.defineComponent({name:"IconCode",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-code`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),lr=["stroke-width","stroke-linecap","stroke-linejoin"],ur=[vue.createElementVNode("path",{d:"M16.734 12.686 5.42 24l11.314 11.314m14.521-22.628L42.57 24 31.255 35.314M27.2 6.28l-6.251 35.453"},null,-1)];var pr=Zn(cr,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ur,14,lr)}]]);const dr=Object.assign(pr,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+pr.name,pr)}}),hr=vue.defineComponent({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-settings`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),mr=["stroke-width","stroke-linecap","stroke-linejoin"],fr=[vue.createElementVNode("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),vue.createElementVNode("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1)];var gr=Zn(hr,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},fr,14,mr)}]]);const vr=Object.assign(gr,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+gr.name,gr)}}),br=vue.defineComponent({name:"IconApps",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-apps`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),yr=["stroke-width","stroke-linecap","stroke-linejoin"],wr=[vue.createElementVNode("path",{d:"M7 7h13v13H7zM28 7h13v13H28zM7 28h13v13H7zM28 28h13v13H28z"},null,-1)];var _r=Zn(br,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},wr,14,yr)}]]);const Er=Object.assign(_r,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+_r.name,_r)}}),Ar=vue.defineComponent({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-command`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),Sr=["stroke-width","stroke-linecap","stroke-linejoin"],Pr=[vue.createElementVNode("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1)];var Rr=Zn(Ar,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Pr,14,Sr)}]]);const Nr=Object.assign(Rr,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Rr.name,Rr)}}),Cr=vue.defineComponent({name:"IconTool",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=Vn("icon");return{cls:vue.computed((()=>[t,`${t}-tool`,{[`${t}-spin`]:e.spin}])),sizeStyle:vue.computed((()=>{if(e.size)return{fontSize:Yn(e.size)?`${e.size}px`:e.size}}))}}}),Mr=["stroke-width","stroke-linecap","stroke-linejoin"],Dr=[vue.createElementVNode("path",{d:"M19.994 11.035c3.66-3.659 9.094-4.46 13.531-2.405a.1.1 0 0 1 .028.16l-6.488 6.488a1 1 0 0 0 0 1.414l4.243 4.243a1 1 0 0 0 1.414 0l6.488-6.488a.1.1 0 0 1 .16.028c2.056 4.437 1.254 9.872-2.405 13.53-3.695 3.696-9.2 4.477-13.66 2.347L12.923 40.733a1 1 0 0 1-1.414 0L7.266 36.49a1 1 0 0 1 0-1.414l10.382-10.382c-2.13-4.46-1.349-9.965 2.346-13.66Z"},null,-1)];var Or=Zn(Cr,[["render",function(e,t,n,r,o,s){return vue.openBlock(),vue.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:vue.normalizeClass(e.cls),style:vue.normalizeStyle(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Dr,14,Mr)}]]);const Lr=Object.assign(Or,{install:(e,t)=>{var n;const r=null!=(n=null==t?void 0:t.iconPrefix)?n:"";e.component(r+Or.name,Or)}});Kn.configure({showSpinner:!1,easing:"linear",speed:1e3,minimum:.2,trickle:!1,trickleSpeed:800});const xr=[{path:"/dashboard",name:"dashboard",meta:{icon:Nr,keepAlive:!0},component:()=>zn((()=>import("./dashboard.85560146.js")),["assets/dashboard.85560146.js","assets/dashboard.6c108339.css"])},{path:"/setting",name:"setting",meta:{icon:vr,keepAlive:!0},component:()=>zn((()=>import("./setting.2b20a333.js")),["assets/setting.2b20a333.js","assets/setting.dd791a1b.css","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/developer/:page*",name:"developer",meta:{icon:Lr,keepAlive:!0},component:()=>zn((()=>import("./developer.f28784cd.js")),[])},{path:"/chat/:page*",name:"chat",meta:{icon:dr,keepAlive:!0},component:()=>zn((()=>import("./chat.130dfa69.js")),[])},{path:"/playground",name:"playground",meta:{icon:ar,keepAlive:!0},component:()=>zn((()=>import("./playground.200aea92.js")),["assets/playground.200aea92.js","assets/playground.d11cc749.css","assets/vue-repl.b062f446.js"])}],kr=[{path:"/",name:"layout",component:()=>zn((()=>import("./index.3e0202ad.js")),["assets/index.3e0202ad.js","assets/index.25304f13.css"]),meta:{icon:Er},redirect:"/dashboard/",children:[...xr]},{path:"/:pathMatch(.*)*",name:"notFound",meta:{icon:nr},component:()=>zn((()=>import("./index.b128c8cc.js")),["assets/index.b128c8cc.js","assets/plugin-vue_export-helper.21dcd24c.js"])}],Ir=vue-Ir.createRouter({history:vue-Ir.createWebHistory("/base/"),routes:kr});Ir.beforeEach((async(e,t,n)=>{Kn.isStarted()||Kn.start(),n()})),Ir.afterEach((e=>{Kn.done()}));const Tr=Pinia.createPinia();Fn.start({"disable-memory-router":!0,"disable-patch-request":!0,inline:!1,destroy:!1,shadowDOM:!1,ssr:!1,"disable-scopecss":!1,"disable-sandbox":!1,"keep-alive":!0,"keep-router-state":!0,lifeCycles:{created(){},beforemount(){},mounted(){},unmount(){},error(){},aftershow(){},afterhidden(){},beforeshow(){}},plugins:{modules:{chat:[{loader:e=>e}],developer:[{loader:e=>e}]}},fetch(e,t,n){if("http://localhost:3001/error.js"===e)return Promise.resolve("");let r=null;return"http://localhost:3001/base/react16/"===e&&(r={headers:{"custom-head":"custom-head"}}),fetch(e,Object.assign(t,r)).then((e=>e.text()))}}),window.eventCenterForMicroVue=new Lt("chat"),Fn.addDataListener("chat",(function(e){const{callback:t}=e;t()}),!1);const Ur=vue.createApp(y);Ur.use(Tr),Ur.use(Ir),Ur.use(o),Ur.mount("#app");export{t as L,n as S,e as T,xr as f,o as i,b as u};
