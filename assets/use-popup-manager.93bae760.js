import{a2 as e,q as t,r as a,w as s,h as o,p as i}from"./index.c1e14118.js";const n=()=>{},p=(()=>{try{return!("undefined"!=typeof window&&void 0!==document)}catch(e){return!0}})(),r=p?n:(e,t,a,s=!1)=>{e.addEventListener(t,a,s)},u=p?n:(e,t,a,s=!1)=>{e.removeEventListener(t,a,s)},d=e=>{const t=document.createElement("div");return t.setAttribute("class",`arco-overlay arco-overlay-${e}`),t},l=(t,a)=>{if(e(t)){return((e,t)=>{var a;if(!p)return null!=(a=(null!=t?t:document).querySelector(e))?a:void 0})("#"===t[0]?`[id='${t.slice(1)}']`:t,a)}return t};const c=new class{constructor(){this.popupStack={popup:new Set,dialog:new Set,message:new Set},this.getNextZIndex=e=>"message"===e?5e3+1*this.popupStack.message.size:1e3+1*this.popupStack.popup.size,this.add=(e,t)=>(this.popupStack[t].add(e),"dialog"===t&&this.popupStack.popup.add(e),this.getNextZIndex(t)),this.delete=(e,t)=>{this.popupStack[t].delete(e),"dialog"===t&&this.popupStack.popup.delete(e)},this.isLastDialog=e=>{if(this.popupStack.dialog.size>1){const t=Array.from(this.popupStack.dialog);return e===t[t.length-1]}return!0}}};function h(e,{visible:n,runOnMounted:p}={}){var r,u;const d=null!=(u=null==(r=t())?void 0:r.uid)?u:Date.now(),l=a(0),h=()=>{l.value=c.add(d,e)},g=()=>{c.delete(d,e)};return s((()=>null==n?void 0:n.value),(e=>{e?h():g()}),{immediate:!0}),p&&(o((()=>{h()})),i((()=>{g()}))),{id:d,zIndex:l,open:h,close:g,isLastDialog:()=>"dialog"===e&&c.isLastDialog(d)}}export{u as a,d as b,l as g,r as o,h as u};
